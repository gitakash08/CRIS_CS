"use strict";(self.webpackChunkCRIS=self.webpackChunkCRIS||[]).push([[774],{47982:(pt,fe,V)=>{V.d(fe,{EN:()=>E,H9:()=>T,eS:()=>U,f:()=>c});var c,O,oe=V(77275);(O=c||(c={})).InvalidFunctionParameters="InvalidFunctionParameters",O.InvalidValueForAggregateFunction="InvalidValueForAggregateFunction",O.UnsupportedSqlFunction="UnsupportedSqlFunction",O.UnsupportedOperator="UnsupportedOperator",O.UnsupportedSyntax="UnsupportedSyntax",O.UnsupportedIsRhs="UnsupportedIsRhs",O.UnsupportedIsLhs="UnsupportedIsLhs",O.InvalidDataType="InvalidDataType",O.CannotCastValue="CannotCastValue",O.FunctionNotRecognized="FunctionNotRecognized",O.InvalidTime="InvalidTime",O.InvalidParameterCount="InvalidParameterCount",O.InvalidTimeStamp="InvalidTimeStamp",O.InvalidDate="InvalidDate",O.InvalidOperator="InvalidOperator",O.IllegalInterval="IllegalInterval",O.YearMonthIntervals="YearMonthIntervals",O.PrimarySecondaryQualifiers="PrimarySecondaryQualifiers",O.MissingStatisticParameters="MissingStatisticParameters";const Y={[c.InvalidValueForAggregateFunction]:"Invalid value used in aggregate function",[c.MissingStatisticParameters]:"Statistic does not have 1 or 0 Parameters",[c.InvalidFunctionParameters]:"Invalid parameters for call to {function}",[c.UnsupportedIsLhs]:"Unsupported left hand expression in is statement",[c.UnsupportedIsRhs]:"Unsupported right hand expression in is statement",[c.UnsupportedOperator]:"Unsupported operator - {operator}",[c.UnsupportedSyntax]:"Unsupported syntax - {node}",[c.UnsupportedSqlFunction]:"Sql function not found = {function}",[c.InvalidDataType]:"Invalid sql data type",[c.InvalidDate]:"Invalid date encountered",[c.InvalidOperator]:"Invalid operator encountered",[c.InvalidTime]:"Invalid time encountered",[c.IllegalInterval]:"Illegal interval",[c.FunctionNotRecognized]:"Function not recognized",[c.InvalidTimeStamp]:"Invalid timestamp encountered",[c.InvalidParameterCount]:"Invalid parameter count for call to {name}",[c.PrimarySecondaryQualifiers]:"Primary and Secondary SqlInterval qualifiers not supported",[c.YearMonthIntervals]:"Year-Month Intervals not supported",[c.CannotCastValue]:"Cannot cast value to the required data type"};class U extends Error{constructor(ae,ne){super((0,oe.gx)(Y[ae],ne)),this.declaredRootClass="esri.arcade.featureset.support.sqlerror",Error.captureStackTrace&&Error.captureStackTrace(this,U)}}var T;!function(O){O.NeverReach="NeverReach",O.NotImplemented="NotImplemented",O.Cancelled="Cancelled",O.InvalidStatResponse="InvalidStatResponse",O.InvalidRequest="InvalidRequest",O.RequestFailed="RequestFailed",O.MissingFeatures="MissingFeatures",O.AggregationFieldNotFound="AggregationFieldNotFound",O.DataElementsNotFound="DataElementsNotFound"}(T||(T={}));const J={[T.Cancelled]:"Cancelled",[T.InvalidStatResponse]:"Invalid statistics response from service",[T.InvalidRequest]:"Invalid request",[T.RequestFailed]:"Request failed - {reason}",[T.MissingFeatures]:"Missing features",[T.AggregationFieldNotFound]:"Aggregation field not found",[T.DataElementsNotFound]:"Data elements not found on service",[T.NeverReach]:"Encountered unreachable logic",[T.NotImplemented]:"Not implemented"};class E extends Error{constructor(ae,ne){super((0,oe.gx)(J[ae],ne)),this.declaredRootClass="esri.arcade.featureset.support.featureseterror",Error.captureStackTrace&&Error.captureStackTrace(this,E)}}},67398:(pt,fe,V)=>{V.d(fe,{H:()=>Y});var oe=V(21837);function c(U){return Number.isNaN(U)||0===U?U:Math.trunc(U)}class Y{constructor(T){this._timeStampOffset=T,this._date=null}toDateTime(){return this._date??=oe.ou.fromISO(this._timeStampOffset,{setZone:!0}),this._date}get isValid(){return this.toDateTime().isValid}get timezoneOffsetHour(){return c(this.toDateTime().offset/60)}get timezoneOffsetMinutes(){return c(this.toDateTime().offset%60)}toMilliseconds(){return this.toDateTime().toMillis()}get hour(){return this.toDateTime().hour}get minute(){return this.toDateTime().minute}get second(){return this.toDateTime().second}get day(){return this.toDateTime().day}get month(){return this.toDateTime().month}get year(){return this.toDateTime().year}startOfDay(){return Y.fromDateTime(this.toDateTime().startOf("day"))}static fromJSDate(T){return new Y(oe.ou.fromJSDate(T).toISO({includeOffset:!0}))}static fromDateTime(T){return new Y(T.toISO({includeOffset:!0}))}static fromParts(T,J,E=0,O=0,ae=0,ne=0,pe=0,me=!1,ge=0,Je=0){const qe=`${T.toString().padStart(4,"0")}-${J.toString().padStart(2,"0")}-${E.toString().padStart(2,"0")}`;let he="";ne<10&&(he="0");let x=`${O.toString().padStart(2,"0")}:${ae.toString().padStart(2,"0")}:${he+ne.toString()}`;0!==pe&&(x+="."+pe.toString().padStart(3,"0"));const W=`${me?"-":"+"}${ge.toString().padStart(2,"0")}:${Je.toString().padStart(2,"0")}`;return new Y(qe+"T"+x+W)}toStorageFormat(){return this._timeStampOffset}toString(){return this._timeStampOffset}toSQLValue(){let T=this.toDateTime().toSQL({includeOffset:!0,includeOffsetSpace:!0});return T&&(T=T.replace(".000","")),T}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}addMilliseconds(T){const J=this.toDateTime().plus(T);return Y.fromDateTime(J)}}},80774:(pt,fe,V)=>{V.r(fe),V.d(fe,{WhereClause:()=>je,defaultAttributeAdapter:()=>de});var oe=V(91365),c=V(47982),Y=V(8314),U=V(31910),T=V(67398),J=V(29535),E=V(21837);function ae(i,r){const s=ne[i.toLowerCase()];return null!=s&&r>=s.minParams&&r<=s.maxParams}const ne={min:{minParams:1,maxParams:1,evaluate:i=>ge(i[0],"min")},max:{minParams:1,maxParams:1,evaluate:i=>ge(i[0],"max")},avg:{minParams:1,maxParams:1,evaluate:i=>pe(i[0])},sum:{minParams:1,maxParams:1,evaluate:i=>function Je(i){if(null===i)return null;let r=0;for(let s=0;s<i.length;s++){const f=i[s];if(null!==f){if(!me(f))throw new c.eS(c.f.InvalidValueForAggregateFunction);r+=f}}return r}(i[0])},stddev:{minParams:1,maxParams:1,evaluate:i=>function qe(i){if(null===i)return null;const r=he(i);return null===r?null:Math.sqrt(r)}(i[0])},count:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:i[0].length},var:{minParams:1,maxParams:1,evaluate:i=>he(i[0])}};function pe(i){if(null===i)return null;let r=0,s=0;for(let f=0;f<i.length;f++){const l=i[f];if(null!==l){if(!me(l))throw new c.eS(c.f.InvalidValueForAggregateFunction);s++,r+=l}}return 0===s?null:r/i.length}function me(i){return"number"==typeof i}function ge(i,r){if(null===i)return null;let s=null,f=null;for(const l of i){let v=l;v=l instanceof U.u||l instanceof J.n?l.toNumber():l instanceof E.ou?l.toMillis():l instanceof T.H?l.toMilliseconds():l,(null===s||"max"===r&&null!==f&&null!==v&&f<=v||"min"===r&&null!==f&&null!==v&&f>=v)&&(s=l,f=v)}return s}function he(i){if(null===i||0===(i=i.filter(f=>null!==f)).length)return null;const r=pe(i);if(null===r)return null;let s=0;for(const f of i){if(!me(f))throw new c.eS(c.f.InvalidValueForAggregateFunction);s+=(r-f)**2}return s/(i.length-1)}class x{constructor(){this.op="+",this.day=0,this.second=0,this.hour=0,this.month=0,this.year=0,this.minute=0,this.millis=0}static _fixDefaults(r){if(null!==r.precision||null!==r.secondary)throw new c.eS(c.f.PrimarySecondaryQualifiers)}static _parseSecondsComponent(r,s){if(s.includes(".")){const f=s.split(".");r.second=parseFloat(f[0]),r.millis=parseInt(f[1],10)}else r.second=parseFloat(s)}static createFromMilliseconds(r){const s=new x;return s.second=r/1e3,s}static createFromValueAndQualifer(r,s,f){let l=null;const v=new x;if(v.op="-"===f?"-":"+","interval-period"===s.type){x._fixDefaults(s);const h=new RegExp("^[0-9]{1,}$");if("year"===s.period||"month"===s.period)throw new c.eS(c.f.YearMonthIntervals);if("second"===s.period){if(!/^[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/.test(r))throw new c.eS(c.f.IllegalInterval);x._parseSecondsComponent(v,r)}else{if(!h.test(r))throw new c.eS(c.f.IllegalInterval);v[s.period]=parseFloat(r)}}else{if(x._fixDefaults(s.start),x._fixDefaults(s.end),"year"===s.start.period||"month"===s.start.period||"year"===s.end.period||"month"===s.end.period)throw new c.eS(c.f.YearMonthIntervals);switch(s.start.period){case"day":switch(s.end.period){case"hour":if(l=new RegExp("^[0-9]{1,} [0-9]{1,}$"),!l.test(r))throw new c.eS(c.f.IllegalInterval);v[s.start.period]=parseFloat(r.split(" ")[0]),v[s.end.period]=parseFloat(r.split(" ")[1]);break;case"minute":if(l=new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,}$"),!l.test(r))throw new c.eS(c.f.IllegalInterval);{v[s.start.period]=parseFloat(r.split(" ")[0]);const h=r.split(" ")[1].split(":");v.hour=parseFloat(h[0]),v.minute=parseFloat(h[1])}break;case"second":if(l=new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!l.test(r))throw new c.eS(c.f.IllegalInterval);{v[s.start.period]=parseFloat(r.split(" ")[0]);const h=r.split(" ")[1].split(":");v.hour=parseFloat(h[0]),v.minute=parseFloat(h[1]),x._parseSecondsComponent(v,h[2])}break;default:throw new c.eS(c.f.IllegalInterval)}break;case"hour":switch(s.end.period){case"minute":if(l=new RegExp("^[0-9]{1,}:[0-9]{1,}$"),!l.test(r))throw new c.eS(c.f.IllegalInterval);v.hour=parseFloat(r.split(":")[0]),v.minute=parseFloat(r.split(":")[1]);break;case"second":if(l=new RegExp("^[0-9]{1,}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!l.test(r))throw new c.eS(c.f.IllegalInterval);{const h=r.split(":");v.hour=parseFloat(h[0]),v.minute=parseFloat(h[1]),x._parseSecondsComponent(v,h[2])}break;default:throw new c.eS(c.f.IllegalInterval)}break;case"minute":if("second"!==s.end.period)throw new c.eS(c.f.IllegalInterval);if(l=new RegExp("^[0-9]{1,}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!l.test(r))throw new c.eS(c.f.IllegalInterval);{const h=r.split(":");v.minute=parseFloat(h[0]),x._parseSecondsComponent(v,h[1])}break;default:throw new c.eS(c.f.IllegalInterval)}}return v}valueInMilliseconds(){return("-"===this.op?-1:1)*(this.millis+1e3*this.second+60*this.minute*1e3+60*this.hour*60*1e3+24*this.day*60*60*1e3+this.month*(365/12)*24*60*60*1e3+365*this.year*24*60*60*1e3)}}var W=V(70768);const On=/^(\d{1,2}):(\d{1,2}):(\d{1,2})$/,Cn=/^(\d{1,2}):(\d{1,2})$/,An=/^(\d{1,2}):(\d{1,2}):(\d{1,2}).([0-9]+)$/,mt=/^(\d{4})-(\d{1,2})-(\d{1,2})$/,xn=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$/,bn=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$/,En=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$/,Mn=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/;function ye(i,r){if(r instanceof E.ld)return r===W.yV.instance?E.ou.fromMillis(i.getTime(),{zone:W.yV.instance}):E.ou.fromJSDate(i,{zone:r});switch(r){case"system":case"local":case null:return E.ou.fromJSDate(i);default:return"unknown"===r?.toLowerCase()?E.ou.fromMillis(i.getTime(),{zone:W.yV.instance}):E.ou.fromJSDate(i,{zone:r})}}function Z(i){return"number"==typeof i}function k(i){return"string"==typeof i||i instanceof String}function ie(i){return i instanceof x}function B(i){return i instanceof Date}function M(i){return i instanceof E.ou}function F(i){return i instanceof U.u}function P(i){return i instanceof J.n}function _(i){return i instanceof T.H}function ze(i){let r=On.exec(i);if(null!==r){const[,s,f,l]=r,v=J.n.fromParts(parseInt(s,10),parseInt(f,10),parseInt(l,10),0);if(null!==v)return v;throw new c.eS(c.f.InvalidTime)}if(r=Cn.exec(i),null!==r){const[,s,f]=r,l=J.n.fromParts(parseInt(s,10),parseInt(f,10),0,0);if(null!==l)return l;throw new c.eS(c.f.InvalidTime)}if(r=An.exec(i),null!==r){const[,s,f,l,v]=r,h=J.n.fromParts(parseInt(s,10),parseInt(f,10),parseInt(l,10),parseInt(v,10));if(null!==h)return h;throw new c.eS(c.f.InvalidTime)}throw new c.eS(c.f.InvalidTime)}function Te(i,r,s=!1){let f=xn.exec(i);if(null!==f){const[,l,v,h,t,N,C,z]=f,j=E.ou.fromObject({year:parseInt(l,10),month:parseInt(v,10),day:parseInt(h,10),hour:parseInt(t,10),minute:parseInt(N,10),second:parseInt(C,10),millisecond:z?parseInt(z.replace(".",""),10):0},{zone:(0,W.L9)(r)});if(!1===j.isValid)throw new c.eS(c.f.InvalidTimeStamp);return j}if(f=bn.exec(i),null!==f){const[,l,v,h,t,N,C,z,j,G,b]=f,L=T.H.fromParts(parseInt(l,10),parseInt(v,10),parseInt(h,10),parseInt(t,10),parseInt(N,10),parseInt(C,10),z?parseInt(z.replace(".",""),10):0,"-"===j,parseInt(G,10),parseInt(b,10));if(!1===L.isValid)throw new c.eS(c.f.InvalidTimeStamp);return L}if(f=En.exec(i),null!==f){const[,l,v,h,t,N,C,z,j]=f,G=T.H.fromParts(parseInt(l,10),parseInt(v,10),parseInt(h,10),parseInt(t,10),parseInt(N,10),0,0,"-"===C,parseInt(z,10),parseInt(j,10));if(!1===G.isValid)throw new c.eS(c.f.InvalidTimeStamp);return G}if(f=Mn.exec(i),null!==f){const[,l,v,h,t,N]=f,C=E.ou.fromObject({year:parseInt(l,10),month:parseInt(v,10),day:parseInt(h,10),hour:parseInt(t,10),minute:parseInt(N,10),second:0},{zone:(0,W.L9)(r)});if(!1===C.isValid)throw new c.eS(c.f.InvalidTimeStamp);return C}if(f=mt.exec(i),null!==f){const[,l,v,h]=f,t=E.ou.fromObject({year:parseInt(l,10),month:parseInt(v,10),day:parseInt(h,10),hour:0,minute:0,second:0},{zone:(0,W.L9)(r)});if(!1===t.isValid)throw new c.eS(c.f.InvalidTimeStamp);return t}throw new c.eS(c.f.InvalidTimeStamp)}function ht(i,r){const s=mt.exec(i);if(null===s)try{return Te(i,r)}catch{throw new c.eS(c.f.InvalidDate)}const[,f,l,v]=s,h=U.u.fromParts(parseInt(f,10),parseInt(l,10),parseInt(v,10));if(null===h)throw new c.eS(c.f.InvalidDate);return h}var Fn=V(77275);const _n=321408e5,Dn=26784e5,Pn=864e5,Ln=36e5,Un=6e4;function $e(i){return!!M(i)||!!_(i)}function Ne(i){if(M(i))return i.toMillis();if(F(i))return i.toNumber();if(_(i))return i.toMilliseconds();throw new c.eS(c.f.InvalidDataType)}function Q(i,r,s,f){if(null==i||null==r)return null;if(Z(i)){if(Z(r))return X(i,r,s);if(k(r))return function Vn(i,r,s){const f=parseFloat(r);if(!isNaN(f))return X(i,f,s);const l=i.toString();switch(s){case"<>":return l!==r;case"=":return l===r;case">":return l>r;case"<":return l<r;case">=":return l>=r;case"<=":return l<=r}}(i,r,s);if(function Rn(i){return!!(M(i)||F(i)||_(i)||P(i))}(r))throw new c.eS(c.f.InvalidOperator);if(F(r))throw new c.eS(c.f.InvalidOperator)}else if(k(i)){if(Z(r))return function Jn(i,r,s){const f=parseFloat(i);if(!isNaN(f))return X(f,r,s);const l=r.toString();switch(s){case"<>":return i!==l;case"=":return i===l;case">":return i>l;case"<":return i<l;case">=":return i>=l;case"<=":return i<=l}}(i,r,s);if(k(r))return function qn(i,r,s){switch(s){case"<>":return i!==r;case"=":return i===r;case">":return i>r;case"<":return i<r;case">=":return i>=r;case"<=":return i<=r}}(i,r,s);if(M(r))throw new c.eS(c.f.InvalidOperator);if(F(r))throw new c.eS(c.f.InvalidOperator);if(P(r))throw new c.eS(c.f.InvalidOperator);if(_(r))throw new c.eS(c.f.InvalidOperator)}else if(M(i)){if($e(r)){if(i instanceof E.ou&&(0,W.A4)(i.zone)){if(r instanceof E.ou&&!1===(0,W.A4)(r.zone)||r instanceof T.H)return ve(i,r,s)}else if(r instanceof E.ou&&(0,W.A4)(r.zone)&&(i instanceof E.ou&&!1===(0,W.A4)(i.zone)||i instanceof T.H))return ve(i,r,s);return X(Ne(i),Ne(r),s)}if(k(r))throw new c.eS(c.f.InvalidOperator);if(F(r))return function zn(i,r,s){const f=r.toDateTimeLuxon(i.zone);return X((i=i.startOf("day")).toMillis(),f.toMillis(),s)}(i,r,s);if(P(r))throw new c.eS(c.f.InvalidOperator);if(Z(r))throw new c.eS(c.f.InvalidOperator)}else if(F(i)){if(_(r))return function Zn(i,r,s){const f=i.toDateTimeLuxon(r.toDateTime().zone);return r=r.startOfDay(),X(f.toMillis(),r.toMilliseconds(),s)}(i,r,s);if(M(r))return function Hn(i,r,s){const f=i.toDateTimeLuxon(r.zone);return r=r.startOf("day"),X(f.toMillis(),r.toMillis(),s)}(i,r,s);if(k(r))throw new c.eS(c.f.InvalidOperator);if(F(r))return X(i.toNumber(),r.toNumber(),s);if(P(r))throw new c.eS(c.f.InvalidOperator);if(Z(r))throw new c.eS(c.f.InvalidOperator)}else if(P(i)){if(P(r))return X(i.toNumber(),r.toNumber(),s);if(k(r))throw new c.eS(c.f.InvalidOperator);if(Z(r))throw new c.eS(c.f.InvalidOperator);if(F(r))throw new c.eS(c.f.InvalidOperator);if($e(r))throw new c.eS(c.f.InvalidOperator)}else if(_(i)){if($e(r))return r instanceof E.ou&&(0,W.A4)(r.zone)?ve(i,r,s):X(Ne(i),Ne(r),s);if(k(r))throw new c.eS(c.f.InvalidOperator);if(F(r))return function $n(i,r,s){const f=r.toDateTimeLuxon(i.toDateTime().zone);return X((i=i.startOfDay()).toMilliseconds(),f.toMillis(),s)}(i,r,s);if(P(r))throw new c.eS(c.f.InvalidOperator);if(Z(r))throw new c.eS(c.f.InvalidOperator)}switch(s){case"<>":return i!==r;case"=":return i===r;case">":return i>r;case"<":return i<r;case">=":return i>=r;case"<=":return i<=r}}function X(i,r,s){switch(s){case"<>":return i!==r;case"=":return i===r;case">":return i>r;case"<":return i<r;case">=":return i>=r;case"<=":return i<=r}}function ve(i,r,s){i instanceof T.H&&(i=i.toDateTime()),r instanceof T.H&&(r=r.toDateTime());const f=vt(i),l=vt(r);switch(s){case"<>":return f!==l;case"=":return f===l;case">":return f>l;case"<":return f<l;case">=":return f>=l;case"<=":return f<=l}}function vt(i){return i.year*_n+i.month*Dn+i.day*Pn+i.hour*Ln+i.minute*Un+1e3*i.second+i.millisecond}function He(i,r,s){const f=St[i.toLowerCase()];if(null==f)throw new c.eS(c.f.FunctionNotRecognized);if(r.length<f.minParams||r.length>f.maxParams)throw new c.eS(c.f.InvalidParameterCount,{name:i.toUpperCase()});return f.evaluate(r,s)}function Oe(i){return"string"==typeof i||i instanceof String}function Ze(i){return!(B(i)||F(i)||M(i)||P(i)||_(i))}function wt(i){return F(i)||P(i)?i.toString():_(i)?i.toSQLValue():M(i)?0===i.millisecond?i.toFormat("yyyy-LL-dd HH:mm:ss"):i.toSQL({includeOffset:!1}):B(i)?wt(E.ou.fromJSDate(i)):i.toString()}const St={extract:{minParams:2,maxParams:2,evaluate:([i,r])=>{if(null==r)return null;if(B(r))switch(i.toUpperCase()){case"SECOND":return r.getSeconds();case"MINUTE":return r.getMinutes();case"HOUR":return r.getHours();case"DAY":return r.getDate();case"MONTH":return r.getMonth()+1;case"YEAR":return r.getFullYear();case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":return 0}else if(M(r))switch(i.toUpperCase()){case"SECOND":return r.second;case"MINUTE":return r.minute;case"HOUR":return r.hour;case"DAY":return r.day;case"MONTH":return r.month;case"YEAR":return r.year;case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":throw new c.eS(c.f.InvalidFunctionParameters,{function:"EXTRACT"})}else if(F(r))switch(i.toUpperCase()){case"DAY":return r.day;case"MONTH":return r.month;case"YEAR":return r.year;case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":throw new c.eS(c.f.InvalidFunctionParameters,{function:"EXTRACT"})}else if(P(r))switch(i.toUpperCase()){case"SECOND":return r.second;case"MINUTE":return r.minute;case"HOUR":return r.hour}else if(_(r))switch(i.toUpperCase()){case"SECOND":return r.second;case"MINUTE":return r.minute;case"HOUR":return r.hour;case"DAY":return r.day;case"MONTH":return r.month;case"YEAR":return r.year;case"TIMEZONE_HOUR":return r.timezoneOffsetHour;case"TIMEZONE_MINUTE":return r.timezoneOffsetMinutes}throw new c.eS(c.f.InvalidFunctionParameters,{function:"EXTRACT"})}},substring:{minParams:2,maxParams:3,evaluate:i=>{if(2===i.length){const[r,s]=i;return null==r||null==s?null:r.toString().substring(s-1)}if(3===i.length){const[r,s,f]=i;return null==r||null==s||null==f?null:f<=0?"":r.toString().substring(s-1,s+f-1)}}},position:{minParams:2,maxParams:2,evaluate:([i,r])=>null==i||null==r?null:r.indexOf(i)+1},trim:{minParams:2,maxParams:3,evaluate:i=>{const r=3===i.length,s=r?i[1]:" ",f=r?i[2]:i[1];if(null==s||null==f)return null;const l=`(${(0,Fn.Qs)(s)})`;switch(i[0]){case"BOTH":return f.replaceAll(new RegExp(`^${l}*|${l}*$`,"g"),"");case"LEADING":return f.replaceAll(new RegExp(`^${l}*`,"g"),"");case"TRAILING":return f.replaceAll(new RegExp(`${l}*$`,"g"),"")}throw new c.eS(c.f.InvalidFunctionParameters,{function:"TRIM"})}},abs:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.abs(i[0])},ceiling:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.ceil(i[0])},floor:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.floor(i[0])},log:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.log(i[0])},log10:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.log(i[0])*Math.LOG10E},sin:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.sin(i[0])},cos:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.cos(i[0])},tan:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.tan(i[0])},asin:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.asin(i[0])},acos:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.acos(i[0])},atan:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.atan(i[0])},sign:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:i[0]>0?1:i[1]<0?-1:0},power:{minParams:2,maxParams:2,evaluate:i=>null==i[0]||null==i[1]?null:i[0]**i[1]},mod:{minParams:2,maxParams:2,evaluate:i=>null==i[0]||null==i[1]?null:i[0]%i[1]},round:{minParams:1,maxParams:2,evaluate:i=>{const r=i[0],s=2===i.length?10**i[1]:1;return null==r?null:Math.round(r*s)/s}},truncate:{minParams:1,maxParams:2,evaluate:i=>null==i[0]?null:1===i.length?parseInt(i[0].toFixed(0),10):parseFloat(i[0].toFixed(i[1]))},char_length:{minParams:1,maxParams:1,evaluate:i=>Oe(i[0])?i[0].length:0},concat:{minParams:1,maxParams:1/0,evaluate:i=>{let r="";for(let s=0;s<i.length;s++){if(null==i[s])return null;r+=i[s].toString()}return r}},lower:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:i[0].toString().toLowerCase()},upper:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:i[0].toString().toUpperCase()},coalesce:{minParams:1,maxParams:1/0,evaluate:i=>{for(const r of i)if(null!==r)return r;return null}},cosh:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.cosh(i[0])},sinh:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.sinh(i[0])},tanh:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.tanh(i[0])},nullif:{minParams:2,maxParams:2,evaluate:(i,r)=>Q(i[0],i[1],"=")?null:i[0]},cast:{minParams:2,maxParams:2,evaluate:(i,r)=>{const s=i[0],f=i[1];if(null===s)return null;switch(f.type){case"integer":{if(!Ze(s))throw new c.eS(c.f.CannotCastValue);const l=parseInt(s,10);if(isNaN(l))throw new c.eS(c.f.CannotCastValue);return l}case"smallint":{if(!Ze(s))throw new c.eS(c.f.CannotCastValue);const l=parseInt(s,10);if(isNaN(l))throw new c.eS(c.f.CannotCastValue);if(l>32767||l<-32767)throw new c.eS(c.f.CannotCastValue);return l}case"float":case"real":{if(!Ze(s))throw new c.eS(c.f.CannotCastValue);const l=parseFloat(s);if(isNaN(l))throw new c.eS(c.f.CannotCastValue);return l}case"time":return function Yn(i){if(B(i))return J.n.fromDateJS(i);if(M(i))return J.n.fromDateTime(i);if(F(i))throw new c.eS(c.f.CannotCastValue);if(P(i))return i;if(_(i))return J.n.fromSqlTimeStampOffset(i);if(Oe(i))return ze(i);throw new c.eS(c.f.CannotCastValue)}(s);case"date":return function Wn(i){if(B(i))return U.u.fromDateJS(i);if(M(i))return U.u.fromParts(i.year,i.month,i.day);if(F(i))return i;if(P(i))throw new c.eS(c.f.CannotCastValue);if(_(i)&&null===U.u.fromParts(i.year,i.month,i.day))throw new c.eS(c.f.CannotCastValue);if(Oe(i)){const r=U.u.fromReader(i);if(null!==r&&r.isValid)return r}throw new c.eS(c.f.CannotCastValue)}(s);case"timestamp":return function jn(i,r,s){if(B(i))return ye(i,r);if(M(i))return i;if(F(i))return i.toDateTimeLuxon("unknown");if(P(i))throw new c.eS(c.f.CannotCastValue);if(_(i))return i;if(Oe(i))return Te(i,"unknown",s);throw new c.eS(c.f.CannotCastValue)}(s,r,!0===f.withtimezone);case"varchar":{const l=wt(s);if(l.length>f.size)throw new c.eS(c.f.CannotCastValue);return l}default:throw new c.eS(c.f.InvalidDataType)}}}};function It(i,r,s,f){if("||"===i)return He("concat",[r,s],f);if(null===r||null===s)return null;if(Z(r)){if(Z(s))return ke(r,s,i);if(ie(s))return function nr(i,r,s){switch(s){case"+":return x.createFromMilliseconds(i+r.valueInMilliseconds());case"-":return x.createFromMilliseconds(i-r.valueInMilliseconds());case"*":return x.createFromMilliseconds(i*r.valueInMilliseconds());case"/":return x.createFromMilliseconds(i/r.valueInMilliseconds())}throw new c.eS(c.f.InvalidOperator)}(r,s,i);if(P(s))return function dr(i,r,s){throw new c.eS(c.f.InvalidOperator)}();if(F(s))return function pr(i,r,s){throw new c.eS(c.f.InvalidOperator)}();if(_(s))return function fr(i,r,s){throw new c.eS(c.f.InvalidOperator)}();if(M(s))return function lr(i,r,s){throw new c.eS(c.f.InvalidOperator)}();if(k(s))return function mr(i,r,s){const f=parseFloat(r);if(isNaN(f))throw new c.eS(c.f.InvalidOperator);return ke(i,f,s)}(r,s,i);throw new c.eS(c.f.InvalidOperator)}if(F(r)){if(Z(s))return function sr(i,r,s){const f=1e3*r*24*60*60;switch(s){case"+":return i.plus("milliseconds",f);case"-":return i.plus("milliseconds",-1*f)}throw new c.eS(c.f.InvalidOperator)}(r,s,i);if(ie(s))return function rr(i,r,s){switch(s){case"+":return i.plus("milliseconds",r.valueInMilliseconds());case"-":return i.plus("milliseconds",-1*r.valueInMilliseconds())}throw new c.eS(c.f.InvalidOperator)}(r,s,i);if(P(s))return function Tr(i,r,s){throw new c.eS(c.f.InvalidOperator)}();if(F(s))return function yr(i,r,s){if("-"===s)return i.toDateTimeLuxon("UTC").diff(r.toDateTimeLuxon("UTC")).as("days");throw new c.eS(c.f.InvalidOperator)}(r,s,i);if(_(s))return function gr(i,r,s){if("-"===s)return i.toDateTimeLuxon(r.toDateTime().zone).diff(r.toDateTime()).as("days");throw new c.eS(c.f.InvalidOperator)}(r,s,i);if(M(s))return function Ir(i,r,s){if("-"===s)return i.toDateTimeLuxon(r.zone).diff(r).as("days");throw new c.eS(c.f.InvalidOperator)}(r,s,i);if(k(s))return function Lr(i,r,s){throw new c.eS(c.f.InvalidOperator)}();throw new c.eS(c.f.InvalidOperator)}if(P(r)){if(Z(s))return function ur(i,r,s){const f=1e3*r*24*60*60;switch(s){case"+":return i.plus("milliseconds",f);case"-":return i.plus("milliseconds",-1*f)}throw new c.eS(c.f.InvalidOperator)}(r,s,i);if(ie(s))return function Kn(i,r,s){switch(s){case"+":return i.plus("milliseconds",r.valueInMilliseconds());case"-":return i.plus("milliseconds",-1*r.valueInMilliseconds())}throw new c.eS(c.f.InvalidOperator)}(r,s,i);if(P(s))return function Mr(i,r,s){throw new c.eS(c.f.InvalidOperator)}();if(F(s))return function br(i,r,s){throw new c.eS(c.f.InvalidOperator)}();if(_(s))return function Er(i,r,s){throw new c.eS(c.f.InvalidOperator)}();if(M(s))return function xr(i,r,s){throw new c.eS(c.f.InvalidOperator)}();if(k(s))return function Ur(i,r,s){throw new c.eS(c.f.InvalidOperator)}();throw new c.eS(c.f.InvalidOperator)}if(ie(r)){if(Z(s))return function tr(i,r,s){switch(s){case"+":return x.createFromMilliseconds(i.valueInMilliseconds()+r);case"-":return x.createFromMilliseconds(i.valueInMilliseconds()-r);case"*":return x.createFromMilliseconds(i.valueInMilliseconds()*r);case"/":return x.createFromMilliseconds(i.valueInMilliseconds()/r)}throw new c.eS(c.f.InvalidOperator)}(r,s,i);if(ie(s))return function er(i,r,s){switch(s){case"+":return x.createFromMilliseconds(i.valueInMilliseconds()+r.valueInMilliseconds());case"-":return x.createFromMilliseconds(i.valueInMilliseconds()-r.valueInMilliseconds());case"*":return x.createFromMilliseconds(i.valueInMilliseconds()*r.valueInMilliseconds());case"/":return x.createFromMilliseconds(i.valueInMilliseconds()/r.valueInMilliseconds())}throw new c.eS(c.f.InvalidOperator)}(r,s,i);if(P(s))return function Qn(i,r,s){if("+"===s)return r.plus("milliseconds",i.valueInMilliseconds());throw new c.eS(c.f.InvalidOperator)}(r,s,i);if(F(s))return function Gn(i,r,s){if("+"===s)return r.plus("milliseconds",i.valueInMilliseconds());throw new c.eS(c.f.InvalidOperator)}(r,s,i);if(_(s))return function Xn(i,r,s){if("+"===s)return r.addMilliseconds(i.valueInMilliseconds());throw new c.eS(c.f.InvalidOperator)}(r,s,i);if(M(s))return function Bn(i,r,s){switch(s){case"+":return r.plus({milliseconds:i.valueInMilliseconds()});case"-":return i.valueInMilliseconds()-r.toMillis()}throw new c.eS(c.f.InvalidOperator)}(r,s,i);if(k(s))return function wr(i,r,s){throw new c.eS(c.f.InvalidOperator)}();throw new c.eS(c.f.InvalidOperator)}if(M(r)){if(Z(s))return function or(i,r,s){const f=1e3*r*24*60*60;switch(s){case"+":return i.plus({milliseconds:f});case"-":return i.minus({milliseconds:f})}throw new c.eS(c.f.InvalidOperator)}(r,s,i);if(ie(s))return function ar(i,r,s){switch(s){case"+":return i.plus({milliseconds:r.valueInMilliseconds()});case"-":return i.minus({milliseconds:r.valueInMilliseconds()})}throw new c.eS(c.f.InvalidOperator)}(r,s,i);if(P(s))return function Pr(i,r,s){throw new c.eS(c.f.InvalidOperator)}();if(F(s))return function _r(i,r,s){if("-"===s)return i.diff(r.toDateTimeLuxon(i.zone)).as("days");throw new c.eS(c.f.InvalidOperator)}(r,s,i);if(_(s))return function Dr(i,r,s){if("-"===s)return i.diff(r.toDateTime()).as("days");throw new c.eS(c.f.InvalidOperator)}(r,s,i);if(M(s))return function Fr(i,r,s){if("-"===s)return i.diff(r).as("days");throw new c.eS(c.f.InvalidOperator)}(r,s,i);if(k(s))return function Rr(i,r,s){throw new c.eS(c.f.InvalidOperator)}();throw new c.eS(c.f.InvalidOperator)}if(_(r)){if(Z(s))return function cr(i,r,s){const f=1e3*r*24*60*60;switch(s){case"+":return i.addMilliseconds(f);case"-":return i.addMilliseconds(-1*f)}throw new c.eS(c.f.InvalidOperator)}(r,s,i);if(ie(s))return function ir(i,r,s){switch(s){case"+":return i.addMilliseconds(r.valueInMilliseconds());case"-":return i.addMilliseconds(-1*r.valueInMilliseconds())}throw new c.eS(c.f.InvalidOperator)}(r,s,i);if(P(s))return function Nr(i,r,s){throw new c.eS(c.f.InvalidOperator)}();if(F(s))return function Or(i,r,s){if("-"===s)return i.toDateTime().diff(r.toDateTimeLuxon(i.toDateTime().zone)).as("days");throw new c.eS(c.f.InvalidOperator)}(r,s,i);if(_(s))return function Ar(i,r,s){if("-"===s)return i.toDateTime().diff(r.toDateTime()).as("days");throw new c.eS(c.f.InvalidOperator)}(r,s,i);if(M(s))return function Cr(i,r,s){if("-"===s)return i.toDateTime().diff(r).as("days");throw new c.eS(c.f.InvalidOperator)}(r,s,i);if(k(s))return function Vr(i,r,s){throw new c.eS(c.f.InvalidOperator)}();throw new c.eS(c.f.InvalidOperator)}if(k(r)){if(Z(s))return function hr(i,r,s){const f=parseFloat(i);if(isNaN(f))throw new c.eS(c.f.InvalidOperator);return ke(f,r,s)}(r,s,i);if(ie(s))return function Sr(i,r,s){throw new c.eS(c.f.InvalidOperator)}();if(P(s))return function Jr(i,r,s){throw new c.eS(c.f.InvalidOperator)}();if(F(s))return function qr(i,r,s){throw new c.eS(c.f.InvalidOperator)}();if(_(s))return function $r(i,r,s){throw new c.eS(c.f.InvalidOperator)}();if(M(s))return function zr(i,r,s){throw new c.eS(c.f.InvalidOperator)}();if(k(s))return function vr(i,r,s){if("+"===s)return i+r;throw new c.eS(c.f.InvalidOperator)}(r,s,i);throw new c.eS(c.f.InvalidOperator)}throw new c.eS(c.f.InvalidOperator)}function ke(i,r,s){switch(s){case"+":return i+r;case"-":return i-r;case"*":return i*r;case"/":return i/r}throw new c.eS(c.f.InvalidOperator)}V(1719);var gt,We={exports:{}};(gt=We).exports&&(gt.exports=function(){function r(l,v,h,t){var N=Error.call(this,l);return Object.setPrototypeOf&&Object.setPrototypeOf(N,r.prototype),N.expected=v,N.found=h,N.location=t,N.name="SyntaxError",N}function s(l,v,h){return h=h||" ",l.length>v?l:l+(h+=h.repeat(v-=l.length)).slice(0,v)}return function i(l,v){function h(){this.constructor=l}h.prototype=v.prototype,l.prototype=new h}(r,Error),r.prototype.format=function(l){var v="Error: "+this.message;if(this.location){var h,t=null;for(h=0;h<l.length;h++)if(l[h].source===this.location.source){t=l[h].text.split(/\r\n|\n|\r/g);break}var N=this.location.start,C=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(N):N,z=this.location.source+":"+C.line+":"+C.column;if(t){var j=this.location.end,G=s("",C.line.toString().length," "),b=t[N.line-1],L=(N.line===j.line?j.column:b.length+1)-N.column||1;v+="\n --\x3e "+z+"\n"+G+" |\n"+C.line+" | "+b+"\n"+G+" | "+s("",N.column-1," ")+s("",L,"^")}else v+="\n at "+z}return v},r.buildMessage=function(l,v){var h={literal:function(b){return'"'+N(b.text)+'"'},class:function(b){var L=b.parts.map(function(K){return Array.isArray(K)?C(K[0])+"-"+C(K[1]):C(K)});return"["+(b.inverted?"^":"")+L.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(b){return b.description}};function t(b){return b.charCodeAt(0).toString(16).toUpperCase()}function N(b){return b.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(L){return"\\x0"+t(L)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(L){return"\\x"+t(L)})}function C(b){return b.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(L){return"\\x0"+t(L)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(L){return"\\x"+t(L)})}function z(b){return h[b.type](b)}return"Expected "+function j(b){var L,K,q=b.map(z);if(q.sort(),q.length>0){for(L=1,K=1;L<q.length;L++)q[L-1]!==q[L]&&(q[K]=q[L],K++);q.length=K}switch(q.length){case 1:return q[0];case 2:return q[0]+" or "+q[1];default:return q.slice(0,-1).join(", ")+", or "+q[q.length-1]}}(l)+" but "+function G(b){return b?'"'+N(b)+'"':"end of input"}(v)+" found."},{SyntaxError:r,parse:function f(l,v){var h,t={},N=(v=void 0!==v?v:{}).grammarSource,C={start:Zt},z=Zt,j="!",G="=",b=">=",L=">",K="<=",q="<>",Br="<",xt="!=",Ge="+",Ke="-",bt="||",Qr="*",Gr="/",Kr="@",Et="'",Mt="N'",Ae="''",Xr=".",ea="null",ta="true",na="false",ra="in",aa="is",ia="like",oa="escape",sa="not",ua="and",la="or",ca="between",fa="from",da="for",pa="substring",ma="extract",ha="trim",va="position",wa="timestamp",Sa="date",Ia="time",ga="leading",ya="trailing",Ta="both",Na="cast",Oa="as",Ca="integer",Aa="smallint",xa="float",ba="real",Ea="varchar",Ma="to",Fa="interval",_a="year",Da="timezone_hour",Pa="timezone_minute",La="month",Ua="day",Ra="hour",Va="minute",Ja="second",qa="case",za="end",$a="when",Ha="then",Za="else",ka=",",Wa="(",ja=")",Ft="`",Ya=/^[A-Za-z_\x80-\uFFFF]/,Ba=/^[A-Za-z0-9_]/,_t=/^[A-Za-z0-9_.\x80-\uFFFF]/,Qa=/^["]/,Dt=/^[^']/,Ga=/^[0-9]/,Ka=/^[eE]/,Xa=/^[+\-]/,ei=/^[ \t\n\r]/,Pt=/^[^`]/,ti=I("!",!1),Lt=I("=",!1),ni=I(">=",!1),ri=I(">",!1),ai=I("<=",!1),ii=I("<>",!1),oi=I("<",!1),si=I("!=",!1),Xe=I("+",!1),et=I("-",!1),ui=I("||",!1),li=I("*",!1),ci=I("/",!1),fi=te([["A","Z"],["a","z"],"_",["\x80","\uffff"]],!1,!1),di=te([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),Ut=te([["A","Z"],["a","z"],["0","9"],"_",".",["\x80","\uffff"]],!1,!1),pi=te(['"'],!1,!1),mi=I("@",!1),Rt=I("'",!1),hi=I("N'",!1),Vt=I("''",!1),Jt=te(["'"],!0,!1),vi=I(".",!1),wi=te([["0","9"]],!1,!1),Si=te(["e","E"],!1,!1),Ii=te(["+","-"],!1,!1),gi=I("NULL",!0),yi=I("TRUE",!0),Ti=I("FALSE",!0),Ni=I("IN",!0),Oi=I("IS",!0),Ci=I("LIKE",!0),Ai=I("ESCAPE",!0),xi=I("NOT",!0),bi=I("AND",!0),Ei=I("OR",!0),Mi=I("BETWEEN",!0),Fi=I("FROM",!0),_i=I("FOR",!0),Di=I("SUBSTRING",!0),Pi=I("EXTRACT",!0),Li=I("TRIM",!0),Ui=I("POSITION",!0),Ri=I("TIMESTAMP",!0),Vi=I("DATE",!0),Ji=I("TIME",!0),qi=I("LEADING",!0),zi=I("TRAILING",!0),$i=I("BOTH",!0),Hi=I("CAST",!0),Zi=I("AS",!0),ki=I("INTEGER",!0),Wi=I("SMALLINT",!0),ji=I("FLOAT",!0),Yi=I("REAL",!0),Bi=I("VARCHAR",!0),Qi=I("TO",!0),Gi=I("INTERVAL",!0),Ki=I("YEAR",!0),Xi=I("TIMEZONE_HOUR",!0),eo=I("TIMEZONE_MINUTE",!0),to=I("MONTH",!0),no=I("DAY",!0),ro=I("HOUR",!0),ao=I("MINUTE",!0),io=I("SECOND",!0),oo=I("CASE",!0),so=I("END",!0),uo=I("WHEN",!0),lo=I("THEN",!0),co=I("ELSE",!0),fo=I(",",!1),po=I("(",!1),mo=I(")",!1),ho=te([" ","\t","\n","\r"],!1,!1),qt=I("`",!1),zt=te(["`"],!0,!1),vo=function(e){return e},wo=function(e,a){var o={type:"expression-list"},u=function ec(e,a,o){return function Xl(e,a){for(var o=[e],u=0;u<a.length;u++)o.push(a[u][3]);return o}(e,a)}(e,a);return o.value=u,o},So=function(e,a){return Ie(e,a)},Io=function(e,a){return Ie(e,a)},go=function(e){return function Kl(e,a){return{type:"unary-expression",operator:e,expr:a}}("NOT",e)},yo=function(e,a){return""==a||null==a||null==a?e:"arithmetic"==a.type?Ie(e,a.tail):Nn(a.op,e,a.right,a.escape)},To=function(e){return{type:"arithmetic",tail:e}},No=function(e,a){return{op:e+"NOT",right:a}},Oo=function(e,a){return{op:e,right:a}},Co=function(e,a,o){return{op:"NOT"+e,right:{type:"expression-list",value:[a,o]}}},Ao=function(e,a,o){return{op:e,right:{type:"expression-list",value:[a,o]}}},xo=function(e){return e[0]+" "+e[2]},bo=function(e){return e[0]+" "+e[2]},Eo=function(e,a,o){return{op:e,right:a,escape:o.value}},Mo=function(e,a){return{op:e,right:a,escape:""}},Fo=function(e,a){return{op:e,right:a}},_o=function(e){return{op:e,right:{type:"expression-list",value:[]}}},Do=function(e,a){return{op:e,right:a}},Po=function(e,a){return Ie(e,a)},Lo=function(e,a){return Ie(e,a)},Uo=function(e){return e.paren=!0,e},Ro=function(e){return/^CURRENT_DATE$/i.test(e)?{type:"current-time",mode:"date"}:/^CURRENT_TIMESTAMP$/i.test(e)?{type:"current-time",mode:"timestamp"}:{type:"column-reference",table:"",column:e}},Vo=function(e){return{type:"column-reference",table:"",column:e,delimited:!0}},Jo=function(e){return e},qo=function(e,a){return e+a.join("")},zo=function(e,a){return e+a.join("")},$o=function(e){return e},Ho=function(e){return e.join("")},Zo=function(){return'"'},ko=function(e){return{type:"parameter",value:e[1]}},Wo=function(e,a){return{type:"function",name:"extract",args:{type:"expression-list",value:[{type:"string",value:e},a]}}},jo=function(e,a,o){return{type:"function",name:"substring",args:{type:"expression-list",value:o?[e,a,o[2]]:[e,a]}}},Yo=function(e,a){return{type:"function",name:"cast",args:{type:"expression-list",value:[e,a]}}},Bo=function(){return{type:"data-type",value:{type:"integer"}}},Qo=function(){return{type:"data-type",value:{type:"smallint"}}},Go=function(){return{type:"data-type",value:{type:"float"}}},Ko=function(){return{type:"data-type",value:{type:"real"}}},Xo=function(){return{type:"data-type",value:{type:"date"}}},es=function(){return{type:"data-type",value:{type:"timestamp"}}},ts=function(){return{type:"data-type",value:{type:"time"}}},ns=function(e){return{type:"data-type",value:{type:"varchar",size:parseInt(e)}}},rs=function(e,a,o){return{type:"function",name:"trim",args:{type:"expression-list",value:[{type:"string",value:e??"BOTH"},a,o]}}},as=function(e,a){return{type:"function",name:"trim",args:{type:"expression-list",value:[{type:"string",value:e??"BOTH"},a]}}},is=function(e,a){return{type:"function",name:"position",args:{type:"expression-list",value:[e,a]}}},os=function(e,a){return{type:"function",name:e,args:a||{type:"expression-list",value:[]}}},ss=function(e){return"string"===e.type&&function tc(e){!0!==/^(\d{4})-(\d{1,2})-(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/.test(e)&&nt("Timestamp literal is invalid")}(e.value),{type:"timestamp",value:e.value}},us=function(e){return"string"===e.type&&function nc(e){!0!==/^(\d{1,2}):(\d{1,2}):(\d{1,2})$|^(\d{1,2}):(\d{1,2})$|^(\d{1,2}):(\d{1,2}):(\d{1,2}).([0-9]+)$/.test(e)&&nt("Time literal is invalid")}(e.value),{type:"time",value:e.value}},ls=function(e,a,o){return{type:"interval",value:a,qualifier:o,op:e}},cs=function(e,a){return{type:"interval",value:e,qualifier:a,op:""}},fs=function(e,a){return{type:"interval-qualifier",start:e,end:a}},ds=function(e,a){return{type:"interval-period",period:e.value,precision:a,secondary:null}},ps=function(e){return{type:"interval-period",period:e.value,precision:null,secondary:null}},ms=function(e){return{type:"interval-period",period:e.value,precision:null,secondary:null}},hs=function(e,a){return{type:"interval-period",period:"second",precision:e,secondary:a}},vs=function(e){return{type:"interval-period",period:"second",precision:e,secondary:null}},ws=function(){return{type:"interval-period",period:"second",precision:null,secondary:null}},Ss=function(e,a){return{type:"interval-period",period:e.value,precision:a,secondary:null}},Is=function(e){return{type:"interval-period",period:e.value,precision:null,secondary:null}},gs=function(e,a){return{type:"interval-period",period:"second",precision:e,secondary:a}},ys=function(e){return{type:"interval-period",period:"second",precision:e,secondary:null}},Ts=function(){return{type:"interval-period",period:"second",precision:null,secondary:null}},Ns=function(){return{type:"string",value:"day"}},Os=function(){return{type:"string",value:"hour"}},Cs=function(){return{type:"string",value:"minute"}},As=function(){return{type:"string",value:"month"}},xs=function(){return{type:"string",value:"year"}},bs=function(e){return parseFloat(e)},Es=function(e){return parseFloat(e)},Ms=function(e){return"string"===e.type&&function rc(e){!0!==/^(\d{4})-(\d{1,2})-(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/.test(e)&&nt("Date literal is invalid")}(e.value),{type:"date",value:e.value}},Fs=function(){return{type:"null",value:null}},_s=function(){return{type:"boolean",value:!0}},Ds=function(){return{type:"boolean",value:!1}},$t=function(){return"'"},Ps=function(e){return{type:"string",value:e.join("")}},Ls=function(e,a){return{type:"case-expression",format:"simple",operand:e,clauses:a,else:null}},Us=function(e,a,o){return{type:"case-expression",format:"simple",operand:e,clauses:a,else:o.value}},Rs=function(e){return{type:"case-expression",format:"searched",clauses:e,else:null}},Vs=function(e,a){return{type:"case-expression",format:"searched",clauses:e,else:a.value}},Js=function(e,a){return{type:"when-clause",operand:e,value:a}},qs=function(e,a){return{type:"when-clause",operand:e,value:a}},zs=function(e){return{type:"else-clause",value:e}},$s=function(e){return{type:"number",value:e}},Hs=function(e,a,o){return parseFloat(e+a+o)},Zs=function(e,a){return parseFloat(e+a)},ks=function(e,a){return parseFloat(e+a)},Ws=function(e){return parseFloat(e)},js=function(e,a){return e[0]+a},Ys=function(e){return"."+(e??"")},Bs=function(e,a){return e+a},Qs=function(e){return e.join("")},Gs=function(e,a){return"e"+(null===a?"":a)},Ks=function(){return"IN"},Xs=function(){return"IS"},eu=function(){return"LIKE"},tu=function(){return"ESCAPE"},nu=function(){return"NOT"},ru=function(){return"AND"},au=function(){return"OR"},iu=function(){return"BETWEEN"},ou=function(){return"FROM"},su=function(){return"FOR"},uu=function(){return"SUBSTRING"},lu=function(){return"EXTRACT"},cu=function(){return"TRIM"},fu=function(){return"POSITION"},du=function(){return"TIMESTAMP"},pu=function(){return"DATE"},mu=function(){return"TIME"},hu=function(){return"LEADING"},vu=function(){return"TRAILING"},wu=function(){return"BOTH"},Su=function(){return"CAST"},Iu=function(){return"AS"},gu=function(){return"INTEGER"},yu=function(){return"SMALLINT"},Tu=function(){return"FLOAT"},Nu=function(){return"REAL"},Ou=function(){return"VARCHAR"},Cu=function(){return"TO"},Au=function(){return"INTERVAL"},xu=function(){return"YEAR"},bu=function(){return"TIMEZONE_HOUR"},Eu=function(){return"TIMEZONE_MINUTE"},Mu=function(){return"MONTH"},Fu=function(){return"DAY"},_u=function(){return"HOUR"},Du=function(){return"MINUTE"},Pu=function(){return"SECOND"},Lu=function(){return"CASE"},Uu=function(){return"END"},Ru=function(){return"WHEN"},Vu=function(){return"THEN"},Ju=function(){return"ELSE"},qu=function(e){return e},zu=function(e){return e.join("")},n=0,m=0,xe=[{line:1,column:1}],ee=0,tt=[],d=0;if("startRule"in v){if(!(v.startRule in C))throw new Error("Can't start parsing from rule \""+v.startRule+'".');z=C[v.startRule]}function nt(e,a){throw function Hu(e,a){return new r(e,null,null,a)}(e,a=void 0!==a?a:rt(m,n))}function I(e,a){return{type:"literal",text:e,ignoreCase:a}}function te(e,a,o){return{type:"class",parts:e,inverted:a,ignoreCase:o}}function Ht(e){var a,o=xe[e];if(o)return o;for(a=e-1;!xe[a];)a--;for(o={line:(o=xe[a]).line,column:o.column};a<e;)10===l.charCodeAt(a)?(o.line++,o.column=1):o.column++,a++;return xe[e]=o,o}function rt(e,a,o){var u=Ht(e),S=Ht(a),y={source:N,start:{offset:e,line:u.line,column:u.column},end:{offset:a,line:S.line,column:S.column}};return o&&N&&"function"==typeof N.offset&&(y.start=N.offset(y.start),y.end=N.offset(y.end)),y}function w(e){n<ee||(n>ee&&(ee=n,tt=[]),tt.push(e))}function Zt(){var e,a;return e=n,p(),(a=R())!==t?(p(),m=e,e=vo(a)):(n=e,e=t),e}function kt(){var e,a,o,u,S,y,A,D;if(e=n,(a=R())!==t){for(o=[],u=n,S=p(),(y=Ve())!==t?(A=p(),(D=R())!==t?u=S=[S,y,A,D]:(n=u,u=t)):(n=u,u=t);u!==t;)o.push(u),u=n,S=p(),(y=Ve())!==t?(A=p(),(D=R())!==t?u=S=[S,y,A,D]:(n=u,u=t)):(n=u,u=t);m=e,e=wo(a,o)}else n=e,e=t;return e}function R(){var e,a,o,u,S,y,A,D;if(e=n,(a=at())!==t){for(o=[],u=n,S=p(),(y=un())!==t?(A=p(),(D=at())!==t?u=S=[S,y,A,D]:(n=u,u=t)):(n=u,u=t);u!==t;)o.push(u),u=n,S=p(),(y=un())!==t?(A=p(),(D=at())!==t?u=S=[S,y,A,D]:(n=u,u=t)):(n=u,u=t);m=e,e=So(a,o)}else n=e,e=t;return e}function at(){var e,a,o,u,S,y,A,D;if(e=n,(a=be())!==t){for(o=[],u=n,S=p(),(y=Le())!==t?(A=p(),(D=be())!==t?u=S=[S,y,A,D]:(n=u,u=t)):(n=u,u=t);u!==t;)o.push(u),u=n,S=p(),(y=Le())!==t?(A=p(),(D=be())!==t?u=S=[S,y,A,D]:(n=u,u=t)):(n=u,u=t);m=e,e=Io(a,o)}else n=e,e=t;return e}function be(){var e,a,o,u,S;return e=n,(a=Se())===t&&(a=n,33===l.charCodeAt(n)?(o=j,n++):(o=t,0===d&&w(ti)),o!==t?(u=n,d++,61===l.charCodeAt(n)?(S=G,n++):(S=t,0===d&&w(Lt)),d--,S===t?u=void 0:(n=u,u=t),u!==t?a=o=[o,u]:(n=a,a=t)):(n=a,a=t)),a!==t?(o=p(),(u=be())!==t?(m=e,e=go(u)):(n=e,e=t)):(n=e,e=t),e===t&&(e=function ku(){var e,a,o;return e=n,(a=re())!==t?(p(),(o=function Wu(){var e;return(e=function ju(){var e,a,o,u,S,y,A;if(e=n,a=[],o=n,u=p(),(S=Wt())!==t?(y=p(),(A=re())!==t?o=u=[u,S,y,A]:(n=o,o=t)):(n=o,o=t),o!==t)for(;o!==t;)a.push(o),o=n,u=p(),(S=Wt())!==t?(y=p(),(A=re())!==t?o=u=[u,S,y,A]:(n=o,o=t)):(n=o,o=t);else a=t;return a!==t&&(m=e,a=To(a)),a}())===t&&(e=function Gu(){var e,a,o,u;return e=n,(a=it())!==t?(p(),(o=$())!==t?(p(),(u=kt())!==t?(p(),H()!==t?(m=e,e=Fo(a,u)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e===t&&(e=n,(a=it())!==t?(p(),(o=$())!==t?(p(),(u=H())!==t?(m=e,e=_o(a)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e===t&&(e=n,(a=it())!==t?(p(),(o=lt())!==t?(m=e,e=Do(a,o)):(n=e,e=t)):(n=e,e=t))),e}())===t&&(e=function Bu(){var e,a,o,u,S,y;return e=n,(a=Se())!==t?(p(),(o=ln())!==t?(p(),(u=re())!==t?(p(),(S=Le())!==t?(p(),(y=re())!==t?(m=e,e=Co(o,u,y)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e===t&&(e=n,(a=ln())!==t?(p(),(o=re())!==t?(p(),(u=Le())!==t?(p(),(S=re())!==t?(m=e,e=Ao(a,o,S)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)),e}())===t&&(e=function Yu(){var e,a,o,u;return e=n,(a=on())!==t?(p(),(o=Se())!==t?(p(),(u=re())!==t?(m=e,e=No(a,u)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e===t&&(e=n,(a=on())!==t?(p(),(o=re())!==t?(m=e,e=Oo(a,o)):(n=e,e=t)):(n=e,e=t)),e}())===t&&(e=function Qu(){var e,a,o,u;return e=n,(a=jt())!==t?(p(),(o=ue())!==t?(p(),function _l(){var e,a,o,u;return e=n,l.substr(n,6).toLowerCase()===oa?(a=l.substr(n,6),n+=6):(a=t,0===d&&w(Ai)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=tu()):(n=e,e=t)):(n=e,e=t),e}()!==t?(p(),(u=ct())!==t?(m=e,e=Eo(a,o,u)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e===t&&(e=n,(a=jt())!==t?(p(),(o=ue())!==t?(m=e,e=Mo(a,o)):(n=e,e=t)):(n=e,e=t)),e}()),e}())===t&&(o=null),m=e,e=yo(a,o)):(n=e,e=t),e}()),e}function Wt(){var e;return l.substr(n,2)===b?(e=b,n+=2):(e=t,0===d&&w(ni)),e===t&&(62===l.charCodeAt(n)?(e=L,n++):(e=t,0===d&&w(ri)),e===t&&(l.substr(n,2)===K?(e=K,n+=2):(e=t,0===d&&w(ai)),e===t&&(l.substr(n,2)===q?(e=q,n+=2):(e=t,0===d&&w(ii)),e===t&&(60===l.charCodeAt(n)?(e=Br,n++):(e=t,0===d&&w(oi)),e===t&&(61===l.charCodeAt(n)?(e=G,n++):(e=t,0===d&&w(Lt)),e===t&&(l.substr(n,2)===xt?(e=xt,n+=2):(e=t,0===d&&w(si)))))))),e}function jt(){var e,a,o,u,S;return e=n,a=n,(o=Se())!==t?(u=p(),(S=sn())!==t?a=o=[o,u,S]:(n=a,a=t)):(n=a,a=t),a!==t&&(m=e,a=xo(a)),(e=a)===t&&(e=sn()),e}function it(){var e,a,o,u,S;return e=n,a=n,(o=Se())!==t?(u=p(),(S=ft())!==t?a=o=[o,u,S]:(n=a,a=t)):(n=a,a=t),a!==t&&(m=e,a=bo(a)),(e=a)===t&&(e=ft()),e}function re(){var e,a,o,u,S,y,A,D;if(e=n,(a=ot())!==t){for(o=[],u=n,S=p(),(y=Yt())!==t?(A=p(),(D=ot())!==t?u=S=[S,y,A,D]:(n=u,u=t)):(n=u,u=t);u!==t;)o.push(u),u=n,S=p(),(y=Yt())!==t?(A=p(),(D=ot())!==t?u=S=[S,y,A,D]:(n=u,u=t)):(n=u,u=t);m=e,e=Po(a,o)}else n=e,e=t;return e}function Yt(){var e;return 43===l.charCodeAt(n)?(e=Ge,n++):(e=t,0===d&&w(Xe)),e===t&&(45===l.charCodeAt(n)?(e=Ke,n++):(e=t,0===d&&w(et)),e===t&&(l.substr(n,2)===bt?(e=bt,n+=2):(e=t,0===d&&w(ui)))),e}function ot(){var e,a,o,u,S,y,A,D;if(e=n,(a=st())!==t){for(o=[],u=n,S=p(),(y=Bt())!==t?(A=p(),(D=st())!==t?u=S=[S,y,A,D]:(n=u,u=t)):(n=u,u=t);u!==t;)o.push(u),u=n,S=p(),(y=Bt())!==t?(A=p(),(D=st())!==t?u=S=[S,y,A,D]:(n=u,u=t)):(n=u,u=t);m=e,e=Lo(a,o)}else n=e,e=t;return e}function Bt(){var e;return 42===l.charCodeAt(n)?(e=Qr,n++):(e=t,0===d&&w(li)),e===t&&(47===l.charCodeAt(n)?(e=Gr,n++):(e=t,0===d&&w(ci))),e}function st(){var e,a;return(e=function pl(){var e;return(e=ct())===t&&(e=function Al(){var e,a,o,u;return e=n,(a=function xl(){var e,a,o,u;return e=n,(a=Pe())!==t&&(o=nn())!==t&&(u=rn())!==t?(m=e,e=Hs(a,o,u)):(n=e,e=t),e===t&&(e=n,(a=Pe())!==t&&(o=nn())!==t?(m=e,e=Zs(a,o)):(n=e,e=t),e===t&&(e=n,(a=Pe())!==t&&(o=rn())!==t?(m=e,e=ks(a,o)):(n=e,e=t),e===t&&(e=n,(a=Pe())!==t&&(m=e,a=Ws(a)),e=a))),e}())!==t?(o=n,d++,u=ut(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=$s(a)):(n=e,e=t)):(n=e,e=t),e}())===t&&(e=function Tl(){var e,a;return e=n,(a=function Ml(){var e,a,o,u;return e=n,l.substr(n,4).toLowerCase()===ta?(a=l.substr(n,4),n+=4):(a=t,0===d&&w(yi)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?e=a=[a,o]:(n=e,e=t)):(n=e,e=t),e}())!==t&&(m=e,a=_s()),(e=a)===t&&(e=n,(a=function Fl(){var e,a,o,u;return e=n,l.substr(n,5).toLowerCase()===na?(a=l.substr(n,5),n+=5):(a=t,0===d&&w(Ti)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?e=a=[a,o]:(n=e,e=t)):(n=e,e=t),e}())!==t&&(m=e,a=Ds()),e=a),e}())===t&&(e=function yl(){var e,a;return e=n,(a=function El(){var e,a,o,u;return e=n,l.substr(n,4).toLowerCase()===ea?(a=l.substr(n,4),n+=4):(a=t,0===d&&w(gi)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?e=a=[a,o]:(n=e,e=t)):(n=e,e=t),e}())!==t&&(m=e,a=Fs()),a}())===t&&(e=function gl(){var e,a;return e=n,dn()!==t?(p(),(a=ue())!==t?(m=e,e=Ms(a)):(n=e,e=t)):(n=e,e=t),e}())===t&&(e=function ml(){var e,a;return e=n,fn()!==t?(p(),(a=ue())!==t?(m=e,e=ss(a)):(n=e,e=t)):(n=e,e=t),e}())===t&&(e=function vl(){var e,a,o,u;return e=n,mn()!==t?(p(),45===l.charCodeAt(n)?(a=Ke,n++):(a=t,0===d&&w(et)),a===t&&(43===l.charCodeAt(n)?(a=Ge,n++):(a=t,0===d&&w(Xe))),a!==t?(p(),(o=ue())!==t?(p(),(u=en())!==t?(m=e,e=ls(a,o,u)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e===t&&(e=n,mn()!==t?(p(),(a=ue())!==t?(p(),(o=en())!==t?(m=e,e=cs(a,o)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)),e}())===t&&(e=function hl(){var e,a;return e=n,pn()!==t?(p(),(a=ue())!==t?(m=e,e=us(a)):(n=e,e=t)):(n=e,e=t),e}()),e}())===t&&(e=function il(){var e,a,o;return e=n,function Ll(){var e,a,o,u;return e=n,l.substr(n,7).toLowerCase()===ma?(a=l.substr(n,7),n+=7):(a=t,0===d&&w(Pi)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=lu()):(n=e,e=t)):(n=e,e=t),e}()!==t?(p(),$()!==t?(p(),(a=function dl(){var e;return(e=hn())===t&&(e=vn())===t&&(e=wn())===t&&(e=Sn())===t&&(e=In())===t&&(e=ce())===t&&(e=function Yl(){var e,a,o,u;return e=n,l.substr(n,13).toLowerCase()===Da?(a=l.substr(n,13),n+=13):(a=t,0===d&&w(Xi)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=bu()):(n=e,e=t)):(n=e,e=t),e}())===t&&(e=function Bl(){var e,a,o,u;return e=n,l.substr(n,15).toLowerCase()===Pa?(a=l.substr(n,15),n+=15):(a=t,0===d&&w(eo)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Eu()):(n=e,e=t)):(n=e,e=t),e}()),e}())!==t?(p(),dt()!==t?(p(),(o=R())!==t?(p(),H()!==t?(m=e,e=Wo(a,o)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e}())===t&&(e=function ol(){var e,a,o,u,S,y,A;return e=n,function Pl(){var e,a,o,u;return e=n,l.substr(n,9).toLowerCase()===pa?(a=l.substr(n,9),n+=9):(a=t,0===d&&w(Di)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=uu()):(n=e,e=t)):(n=e,e=t),e}()!==t?(p(),$()!==t?(p(),(a=R())!==t?(p(),dt()!==t?(p(),(o=R())!==t?(p(),u=n,(S=function Dl(){var e,a,o,u;return e=n,l.substr(n,3).toLowerCase()===da?(a=l.substr(n,3),n+=3):(a=t,0===d&&w(_i)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=su()):(n=e,e=t)):(n=e,e=t),e}())!==t?(y=p(),(A=R())!==t?u=S=[S,y,A,p()]:(n=u,u=t)):(n=u,u=t),u===t&&(u=null),(S=H())!==t?(m=e,e=jo(a,o,u)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e}())===t&&(e=function ll(){var e,a,o,u;return e=n,cn()!==t?(p(),$()!==t?(p(),(a=Xt())===t&&(a=null),p(),(o=R())!==t?(p(),dt()!==t?(p(),(u=R())!==t?(p(),H()!==t?(m=e,e=rs(a,o,u)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e===t&&(e=n,cn()!==t?(p(),$()!==t?(p(),(a=Xt())===t&&(a=null),p(),(o=R())!==t?(p(),H()!==t?(m=e,e=as(a,o)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)),e}())===t&&(e=function cl(){var e,a,o;return e=n,function Ul(){var e,a,o,u;return e=n,l.substr(n,8).toLowerCase()===va?(a=l.substr(n,8),n+=8):(a=t,0===d&&w(Ui)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=fu()):(n=e,e=t)):(n=e,e=t),e}()!==t?(p(),$()!==t?(p(),(a=R())!==t?(p(),ft()!==t?(p(),(o=R())!==t?(p(),H()!==t?(m=e,e=is(a,o)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e}())===t&&(e=function sl(){var e,a,o;return e=n,function ql(){var e,a,o,u;return e=n,l.substr(n,4).toLowerCase()===Na?(a=l.substr(n,4),n+=4):(a=t,0===d&&w(Hi)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Su()):(n=e,e=t)):(n=e,e=t),e}()!==t?(p(),$()!==t?(p(),(a=R())!==t?(p(),function zl(){var e,a,o,u;return e=n,l.substr(n,2).toLowerCase()===Oa?(a=l.substr(n,2),n+=2):(a=t,0===d&&w(Zi)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Iu()):(n=e,e=t)):(n=e,e=t),e}()!==t?(p(),(o=function ul(){var e,a,o;return e=n,(a=function $l(){var e,a,o,u;return e=n,l.substr(n,7).toLowerCase()===Ca?(a=l.substr(n,7),n+=7):(a=t,0===d&&w(ki)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=gu()):(n=e,e=t)):(n=e,e=t),e}())!==t&&(m=e,a=Bo()),(e=a)===t&&(e=n,(a=function Hl(){var e,a,o,u;return e=n,l.substr(n,8).toLowerCase()===Aa?(a=l.substr(n,8),n+=8):(a=t,0===d&&w(Wi)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=yu()):(n=e,e=t)):(n=e,e=t),e}())!==t&&(m=e,a=Qo()),(e=a)===t&&(e=n,(a=function Zl(){var e,a,o,u;return e=n,l.substr(n,5).toLowerCase()===xa?(a=l.substr(n,5),n+=5):(a=t,0===d&&w(ji)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Tu()):(n=e,e=t)):(n=e,e=t),e}())!==t&&(m=e,a=Go()),(e=a)===t&&(e=n,(a=function kl(){var e,a,o,u;return e=n,l.substr(n,4).toLowerCase()===ba?(a=l.substr(n,4),n+=4):(a=t,0===d&&w(Yi)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Nu()):(n=e,e=t)):(n=e,e=t),e}())!==t&&(m=e,a=Ko()),(e=a)===t&&(e=n,(a=dn())!==t&&(m=e,a=Xo()),(e=a)===t&&(e=n,(a=fn())!==t&&(m=e,a=es()),(e=a)===t&&(e=n,(a=pn())!==t&&(m=e,a=ts()),(e=a)===t&&(e=n,(a=function Wl(){var e,a,o,u;return e=n,l.substr(n,7).toLowerCase()===Ea?(a=l.substr(n,7),n+=7):(a=t,0===d&&w(Bi)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Ou()):(n=e,e=t)):(n=e,e=t),e}())!==t?(p(),$()!==t?(p(),(o=le())!==t?(p(),H()!==t?(m=e,e=ns(o)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)))))))),e}())!==t?(p(),H()!==t?(m=e,e=Yo(a,o)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e}())===t&&(e=function fl(){var e,a,o;return e=n,(a=function Gl(){var e,a,o,u;if(e=n,(a=Qt())!==t&&(m=e,a=qu(a)),(e=a)===t)if(e=n,96===l.charCodeAt(n)?(a=Ft,n++):(a=t,0===d&&w(qt)),a!==t){if(o=[],Pt.test(l.charAt(n))?(u=l.charAt(n),n++):(u=t,0===d&&w(zt)),u!==t)for(;u!==t;)o.push(u),Pt.test(l.charAt(n))?(u=l.charAt(n),n++):(u=t,0===d&&w(zt));else o=t;o!==t?(96===l.charCodeAt(n)?(u=Ft,n++):(u=t,0===d&&w(qt)),u!==t?(m=e,e=zu(o)):(n=e,e=t)):(n=e,e=t)}else n=e,e=t;return e}())!==t?(p(),$()!==t?(p(),(o=kt())===t&&(o=null),p(),H()!==t?(m=e,e=os(a,o)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e}())===t&&(e=function Nl(){var e;return(e=function Ol(){var e,a,o,u,S;if(e=n,Ue()!==t)if(p(),(a=R())!==t){for(p(),o=[],u=De();u!==t;)o.push(u),u=De();u=p(),(S=Re())!==t?(m=e,e=Ls(a,o)):(n=e,e=t)}else n=e,e=t;else n=e,e=t;if(e===t)if(e=n,Ue()!==t)if(p(),(a=R())!==t){for(p(),o=[],u=De();u!==t;)o.push(u),u=De();u=p(),(S=tn())!==t?(p(),Re()!==t?(m=e,e=Us(a,o,S)):(n=e,e=t)):(n=e,e=t)}else n=e,e=t;else n=e,e=t;return e}())===t&&(e=function Cl(){var e,a,o,u;if(e=n,Ue()!==t){for(p(),a=[],o=_e();o!==t;)a.push(o),o=_e();o=p(),(u=Re())!==t?(m=e,e=Rs(a)):(n=e,e=t)}else n=e,e=t;if(e===t)if(e=n,Ue()!==t){for(p(),a=[],o=_e();o!==t;)a.push(o),o=_e();o=p(),(u=tn())!==t?(p(),Re()!==t?(m=e,e=Vs(a,u)):(n=e,e=t)):(n=e,e=t)}else n=e,e=t;return e}()),e}())===t&&(e=function Ku(){var e,a;return e=n,(a=function Xu(){var e,a;return e=n,(a=function el(){var e,a,o,u;if(e=n,(a=ut())!==t){for(o=[],u=Gt();u!==t;)o.push(u),u=Gt();m=e,e=qo(a,o)}else n=e,e=t;return e}())!==t&&(m=e,a=Jo(a)),a}())!==t&&(m=e,a=Ro(a)),(e=a)===t&&(e=n,(a=function tl(){var e,a;return e=n,Ee()!==t?(a=function nl(){var e,a,o;for(e=n,a=[],o=Kt();o!==t;)a.push(o),o=Kt();return m=e,Ho(a)}(),Ee()!==t?(m=e,e=$o(a)):(n=e,e=t)):(n=e,e=t),e}())!==t&&(m=e,a=Vo(a)),e=a),e}())===t&&(e=lt())===t&&(e=n,$()!==t?(p(),(a=R())!==t?(p(),H()!==t?(m=e,e=Uo(a)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)),e}function Qt(){var e,a,o,u;if(e=n,(a=ut())!==t){for(o=[],u=g();u!==t;)o.push(u),u=g();m=e,e=zo(a,o)}else n=e,e=t;return e}function ut(){var e;return Ya.test(l.charAt(n))?(e=l.charAt(n),n++):(e=t,0===d&&w(fi)),e}function g(){var e;return Ba.test(l.charAt(n))?(e=l.charAt(n),n++):(e=t,0===d&&w(di)),e}function Gt(){var e;return _t.test(l.charAt(n))?(e=l.charAt(n),n++):(e=t,0===d&&w(Ut)),e}function Kt(){var e;return(e=function al(){var e;return _t.test(l.charAt(n))?(e=l.charAt(n),n++):(e=t,0===d&&w(Ut)),e}())===t&&(e=function rl(){var e;return e=n,Ee()!==t&&Ee()!==t?(m=e,e=Zo()):(n=e,e=t),e}()),e}function Ee(){var e;return Qa.test(l.charAt(n))?(e=l.charAt(n),n++):(e=t,0===d&&w(pi)),e}function lt(){var e,a,o,u;return e=n,a=n,64===l.charCodeAt(n)?(o=Kr,n++):(o=t,0===d&&w(mi)),o!==t&&(u=Qt())!==t?a=o=[o,u]:(n=a,a=t),a!==t&&(m=e,a=ko(a)),a}function Xt(){var e;return(e=function Rl(){var e,a,o,u;return e=n,l.substr(n,7).toLowerCase()===ga?(a=l.substr(n,7),n+=7):(a=t,0===d&&w(qi)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=hu()):(n=e,e=t)):(n=e,e=t),e}())===t&&(e=function Vl(){var e,a,o,u;return e=n,l.substr(n,8).toLowerCase()===ya?(a=l.substr(n,8),n+=8):(a=t,0===d&&w(zi)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=vu()):(n=e,e=t)):(n=e,e=t),e}())===t&&(e=function Jl(){var e,a,o,u;return e=n,l.substr(n,4).toLowerCase()===Ta?(a=l.substr(n,4),n+=4):(a=t,0===d&&w($i)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=wu()):(n=e,e=t)):(n=e,e=t),e}()),e}function en(){var e,a,o;return e=n,(a=function wl(){var e,a,o;return e=n,(a=we())!==t?(p(),$()!==t?(p(),(o=Fe())!==t?(p(),H()!==t?(m=e,e=ds(a,o)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e===t&&(e=n,(a=we())!==t&&(m=e,a=ps(a)),e=a),e}())!==t?(p(),function jl(){var e,a,o,u;return e=n,l.substr(n,2).toLowerCase()===Ma?(a=l.substr(n,2),n+=2):(a=t,0===d&&w(Qi)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Cu()):(n=e,e=t)):(n=e,e=t),e}()!==t?(p(),(o=function Sl(){var e,a,o,u;return e=n,(a=we())!==t&&(m=e,a=ms(a)),(e=a)===t&&(e=n,(a=ce())!==t?(p(),$()!==t?(p(),(o=Fe())!==t?(p(),Ve()!==t?(p(),(u=Me())!==t?(p(),H()!==t?(m=e,e=hs(o,u)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e===t&&(e=n,(a=ce())!==t?(p(),$()!==t?(p(),(o=Fe())!==t?(p(),H()!==t?(m=e,e=vs(o)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e===t&&(e=n,(a=ce())!==t&&(m=e,a=ws()),e=a))),e}())!==t?(m=e,e=fs(a,o)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e===t&&(e=function Il(){var e,a,o,u;return e=n,(a=we())!==t?(p(),$()!==t?(p(),(o=Me())!==t?(p(),H()!==t?(m=e,e=Ss(a,o)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e===t&&(e=n,(a=we())!==t&&(m=e,a=Is(a)),(e=a)===t&&(e=n,(a=ce())!==t?(p(),$()!==t?(p(),(o=Fe())!==t?(p(),Ve()!==t?(p(),(u=Me())!==t?(p(),H()!==t?(m=e,e=gs(o,u)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e===t&&(e=n,(a=ce())!==t?(p(),$()!==t?(p(),(o=Me())!==t?(p(),H()!==t?(m=e,e=ys(o)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e===t&&(e=n,(a=ce())!==t&&(m=e,a=Ts()),e=a)))),e}()),e}function we(){var e,a;return e=n,(a=wn())!==t&&(m=e,a=Ns()),(e=a)===t&&(e=n,(a=Sn())!==t&&(m=e,a=Os()),(e=a)===t&&(e=n,(a=In())!==t&&(m=e,a=Cs()),(e=a)===t&&(e=n,(a=vn())!==t&&(m=e,a=As()),(e=a)===t&&(e=n,(a=hn())!==t&&(m=e,a=xs()),e=a)))),e}function Me(){var e,a;return e=n,(a=le())!==t&&(m=e,a=bs(a)),a}function Fe(){var e,a;return e=n,(a=le())!==t&&(m=e,a=Es(a)),a}function ue(){var e;return(e=ct())===t&&(e=lt()),e}function ct(){var e,a,o,u,S;if(e=n,39===l.charCodeAt(n)?(a=Et,n++):(a=t,0===d&&w(Rt)),a===t&&(l.substr(n,2)===Mt?(a=Mt,n+=2):(a=t,0===d&&w(hi))),a!==t){for(o=[],u=n,l.substr(n,2)===Ae?(S=Ae,n+=2):(S=t,0===d&&w(Vt)),S!==t&&(m=u,S=$t()),(u=S)===t&&(Dt.test(l.charAt(n))?(u=l.charAt(n),n++):(u=t,0===d&&w(Jt)));u!==t;)o.push(u),u=n,l.substr(n,2)===Ae?(S=Ae,n+=2):(S=t,0===d&&w(Vt)),S!==t&&(m=u,S=$t()),(u=S)===t&&(Dt.test(l.charAt(n))?(u=l.charAt(n),n++):(u=t,0===d&&w(Jt)));39===l.charCodeAt(n)?(u=Et,n++):(u=t,0===d&&w(Rt)),u!==t?(m=e,e=Ps(o)):(n=e,e=t)}else n=e,e=t;return e}function _e(){var e,a,o;return e=n,gn()!==t?(p(),(a=R())!==t?(p(),yn()!==t?(p(),(o=R())!==t?(m=e,e=Js(a,o)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e}function De(){var e,a,o;return e=n,gn()!==t?(p(),(a=R())!==t?(p(),yn()!==t?(p(),(o=R())!==t?(m=e,e=qs(a,o)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e}function tn(){var e,a;return e=n,function Ql(){var e,a,o,u;return e=n,l.substr(n,4).toLowerCase()===Za?(a=l.substr(n,4),n+=4):(a=t,0===d&&w(co)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Ju()):(n=e,e=t)):(n=e,e=t),e}()!==t?(p(),(a=R())!==t?(m=e,e=zs(a)):(n=e,e=t)):(n=e,e=t),e}function Pe(){var e,a,o;return(e=le())===t&&(e=n,45===l.charCodeAt(n)?(a=Ke,n++):(a=t,0===d&&w(et)),a===t&&(43===l.charCodeAt(n)?(a=Ge,n++):(a=t,0===d&&w(Xe))),a!==t&&(o=le())!==t?(m=e,e=js(a,o)):(n=e,e=t)),e}function nn(){var e,a,o;return e=n,46===l.charCodeAt(n)?(a=Xr,n++):(a=t,0===d&&w(vi)),a!==t?((o=le())===t&&(o=null),m=e,e=Ys(o)):(n=e,e=t),e}function rn(){var e,a,o;return e=n,(a=function bl(){var e,a,o;return e=n,Ka.test(l.charAt(n))?(a=l.charAt(n),n++):(a=t,0===d&&w(Si)),a!==t?(Xa.test(l.charAt(n))?(o=l.charAt(n),n++):(o=t,0===d&&w(Ii)),o===t&&(o=null),m=e,e=Gs(a,o)):(n=e,e=t),e}())!==t&&(o=le())!==t?(m=e,e=Bs(a,o)):(n=e,e=t),e}function le(){var e,a,o;if(e=n,a=[],(o=an())!==t)for(;o!==t;)a.push(o),o=an();else a=t;return a!==t&&(m=e,a=Qs(a)),a}function an(){var e;return Ga.test(l.charAt(n))?(e=l.charAt(n),n++):(e=t,0===d&&w(wi)),e}function ft(){var e,a,o,u;return e=n,l.substr(n,2).toLowerCase()===ra?(a=l.substr(n,2),n+=2):(a=t,0===d&&w(Ni)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Ks()):(n=e,e=t)):(n=e,e=t),e}function on(){var e,a,o,u;return e=n,l.substr(n,2).toLowerCase()===aa?(a=l.substr(n,2),n+=2):(a=t,0===d&&w(Oi)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Xs()):(n=e,e=t)):(n=e,e=t),e}function sn(){var e,a,o,u;return e=n,l.substr(n,4).toLowerCase()===ia?(a=l.substr(n,4),n+=4):(a=t,0===d&&w(Ci)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=eu()):(n=e,e=t)):(n=e,e=t),e}function Se(){var e,a,o,u;return e=n,l.substr(n,3).toLowerCase()===sa?(a=l.substr(n,3),n+=3):(a=t,0===d&&w(xi)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=nu()):(n=e,e=t)):(n=e,e=t),e}function Le(){var e,a,o,u;return e=n,l.substr(n,3).toLowerCase()===ua?(a=l.substr(n,3),n+=3):(a=t,0===d&&w(bi)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=ru()):(n=e,e=t)):(n=e,e=t),e}function un(){var e,a,o,u;return e=n,l.substr(n,2).toLowerCase()===la?(a=l.substr(n,2),n+=2):(a=t,0===d&&w(Ei)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=au()):(n=e,e=t)):(n=e,e=t),e}function ln(){var e,a,o,u;return e=n,l.substr(n,7).toLowerCase()===ca?(a=l.substr(n,7),n+=7):(a=t,0===d&&w(Mi)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=iu()):(n=e,e=t)):(n=e,e=t),e}function dt(){var e,a,o,u;return e=n,l.substr(n,4).toLowerCase()===fa?(a=l.substr(n,4),n+=4):(a=t,0===d&&w(Fi)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=ou()):(n=e,e=t)):(n=e,e=t),e}function cn(){var e,a,o,u;return e=n,l.substr(n,4).toLowerCase()===ha?(a=l.substr(n,4),n+=4):(a=t,0===d&&w(Li)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=cu()):(n=e,e=t)):(n=e,e=t),e}function fn(){var e,a,o,u;return e=n,l.substr(n,9).toLowerCase()===wa?(a=l.substr(n,9),n+=9):(a=t,0===d&&w(Ri)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=du()):(n=e,e=t)):(n=e,e=t),e}function dn(){var e,a,o,u;return e=n,l.substr(n,4).toLowerCase()===Sa?(a=l.substr(n,4),n+=4):(a=t,0===d&&w(Vi)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=pu()):(n=e,e=t)):(n=e,e=t),e}function pn(){var e,a,o,u;return e=n,l.substr(n,4).toLowerCase()===Ia?(a=l.substr(n,4),n+=4):(a=t,0===d&&w(Ji)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=mu()):(n=e,e=t)):(n=e,e=t),e}function mn(){var e,a,o,u;return e=n,l.substr(n,8).toLowerCase()===Fa?(a=l.substr(n,8),n+=8):(a=t,0===d&&w(Gi)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Au()):(n=e,e=t)):(n=e,e=t),e}function hn(){var e,a,o,u;return e=n,l.substr(n,4).toLowerCase()===_a?(a=l.substr(n,4),n+=4):(a=t,0===d&&w(Ki)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=xu()):(n=e,e=t)):(n=e,e=t),e}function vn(){var e,a,o,u;return e=n,l.substr(n,5).toLowerCase()===La?(a=l.substr(n,5),n+=5):(a=t,0===d&&w(to)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Mu()):(n=e,e=t)):(n=e,e=t),e}function wn(){var e,a,o,u;return e=n,l.substr(n,3).toLowerCase()===Ua?(a=l.substr(n,3),n+=3):(a=t,0===d&&w(no)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Fu()):(n=e,e=t)):(n=e,e=t),e}function Sn(){var e,a,o,u;return e=n,l.substr(n,4).toLowerCase()===Ra?(a=l.substr(n,4),n+=4):(a=t,0===d&&w(ro)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=_u()):(n=e,e=t)):(n=e,e=t),e}function In(){var e,a,o,u;return e=n,l.substr(n,6).toLowerCase()===Va?(a=l.substr(n,6),n+=6):(a=t,0===d&&w(ao)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Du()):(n=e,e=t)):(n=e,e=t),e}function ce(){var e,a,o,u;return e=n,l.substr(n,6).toLowerCase()===Ja?(a=l.substr(n,6),n+=6):(a=t,0===d&&w(io)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Pu()):(n=e,e=t)):(n=e,e=t),e}function Ue(){var e,a,o,u;return e=n,l.substr(n,4).toLowerCase()===qa?(a=l.substr(n,4),n+=4):(a=t,0===d&&w(oo)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Lu()):(n=e,e=t)):(n=e,e=t),e}function Re(){var e,a,o,u;return e=n,l.substr(n,3).toLowerCase()===za?(a=l.substr(n,3),n+=3):(a=t,0===d&&w(so)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Uu()):(n=e,e=t)):(n=e,e=t),e}function gn(){var e,a,o,u;return e=n,l.substr(n,4).toLowerCase()===$a?(a=l.substr(n,4),n+=4):(a=t,0===d&&w(uo)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Ru()):(n=e,e=t)):(n=e,e=t),e}function yn(){var e,a,o,u;return e=n,l.substr(n,4).toLowerCase()===Ha?(a=l.substr(n,4),n+=4):(a=t,0===d&&w(lo)),a!==t?(o=n,d++,u=g(),d--,u===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Vu()):(n=e,e=t)):(n=e,e=t),e}function Ve(){var e;return 44===l.charCodeAt(n)?(e=ka,n++):(e=t,0===d&&w(fo)),e}function $(){var e;return 40===l.charCodeAt(n)?(e=Wa,n++):(e=t,0===d&&w(po)),e}function H(){var e;return 41===l.charCodeAt(n)?(e=ja,n++):(e=t,0===d&&w(mo)),e}function p(){var e,a;for(e=[],a=Tn();a!==t;)e.push(a),a=Tn();return e}function Tn(){var e;return ei.test(l.charAt(n))?(e=l.charAt(n),n++):(e=t,0===d&&w(ho)),e}function Nn(e,a,o,u){var S={type:"binary-expression",operator:e,left:a,right:o};return void 0!==u&&(S.escape=u),S}function Ie(e,a){for(var o=e,u=0;u<a.length;u++)o=Nn(a[u][1],o,a[u][3]);return o}if((h=z())!==t&&n===l.length)return h;throw h!==t&&n<l.length&&w({type:"end"}),function Zu(e,a,o){return new r(r.buildMessage(e,a),e,a,o)}(tt,ee<l.length?l.charAt(ee):null,rt(ee,ee<l.length?ee+1:ee))}}}());var Hr=We.exports;class Zr{static parse(r){return Hr.parse(r)}}const kr=new Set(["current_timestamp","current_date","current_time"]);class Wr{static makeBool(r){return Tt(r)}static featureValue(r,s,f,l){return At(r,s,f,l)}static equalsNull(r){return null===r}static applyLike(r,s,f){return Qe(r,s,f)}static ensureArray(r){return Ye(r)}static applyIn(r,s){return Be(r,s)}static currentDate(r){return U.u.fromNow(r)}static makeSqlInterval(r,s,f){return x.createFromValueAndQualifer(r,s,f)}static convertInterval(r){return r instanceof x?r.valueInMilliseconds():r}static currentTimestamp(r){return ye(new Date,r)}static compare(r,s,f,l){return Q(s,f,r)}static calculate(r,s,f,l){return It(r,s,f,l)}static evaluateTime(r){return ze(r)}static evaluateTimestamp(r,s,f){return Te(r,s,f)}static evaluateDate(r,s){return ht(r,s)}static evaluateFunction(r,s,f){return He(r,s,f)}static lookup(r,s){const f=s[r];return void 0===f?null:f}static between(r,s,f){return null==r||null==s[0]||null==s[1]?null:Q(r,s[0],">=")&&Q(r,s[1],"<=")}static notbetween(r,s,f){return null==r||null==s[0]||null==s[1]?null:Q(r,s[0],"<")||Q(r,s[1],">")}static ternaryNot(r){return Ce(r)}static ternaryAnd(r,s){return Nt(r,s)}static ternaryOr(r,s){return Ot(r,s)}}class je{constructor(r,s,f="UTC"){this.fieldsIndex=s,this.timeZone=f,this.parameters={},this._hasDateFunctions=void 0,this.parseTree=Zr.parse(r);const{isStandardized:l,isAggregate:v,referencedFieldNames:h}=this._extractExpressionInfo(s);this._referencedFieldNames=h,this.isStandardized=l,this.isAggregate=v}static convertValueToStorageFormat(r,s=null){if(null===s)return B(r)?r.getTime():M(r)?r.toMillis():_(r)?r.toStorageFormat():P(r)?r.toStorageString():F(r)?r.toStorageFormat():r;switch(s){case"date":return B(r)?r.getTime():M(r)?r.toMillis():_(r)?r.toMilliseconds():F(r)?r.toNumber():r;case"date-only":return B(r)?U.u.fromDateJS(r).toString():_(r)?U.u.fromSqlTimeStampOffset(r).toString():M(r)?U.u.fromDateTime(r).toString():r;case"time-only":return B(r)?J.n.fromDateJS(r).toStorageString():M(r)?J.n.fromDateTime(r).toStorageString():_(r)?J.n.fromSqlTimeStampOffset(r).toStorageString():P(r)?r.toStorageString():r;case"timestamp-offset":if(B(r))return T.H.fromJSDate(r).toStorageFormat();if(M(r))return T.H.fromDateTime(r).toStorageFormat();if(_(r))return r.toStorageFormat()}return r}static create(r,s,f="UTC"){return new je(r,s,f)}get fieldNames(){return this._referencedFieldNames}testSet(r,s=de){return!!this._evaluateNode(this.parseTree,null,s,r)}calculateValue(r,s=de){const f=this._evaluateNode(this.parseTree,r,s,null);return f instanceof x?f.valueInMilliseconds()/864e5:f}calculateValueCompiled(r,s=de){return null!=this.parseTree._compiledVersion?this.parseTree._compiledVersion(r,this.parameters,s,this.fieldsIndex,this.timeZone):(0,Y.Z)("esri-csp-restrictions")?this.calculateValue(r,s):(this._compileMe(),this.parseTree._compiledVersion(r,this.parameters,s,this.fieldsIndex,this.timeZone))}testFeature(r,s=de){return!!this._evaluateNode(this.parseTree,r,s,null)}testFeatureCompiled(r,s=de){return null!=this.parseTree._compiledVersion?!!this.parseTree._compiledVersion(r,this.parameters,s,this.fieldsIndex,this.timeZone):(0,Y.Z)("esri-csp-restrictions")?this.testFeature(r,s):(this._compileMe(),!!this.parseTree._compiledVersion(r,this.parameters,s,this.fieldsIndex,this.timeZone))}get hasDateFunctions(){return null!=this._hasDateFunctions||(this._hasDateFunctions=!1,this._visitAll(this.parseTree,r=>{"current-time"===r.type?this._hasDateFunctions=!0:"function"===r.type&&(this._hasDateFunctions=this._hasDateFunctions||kr.has(r.name.toLowerCase()))})),this._hasDateFunctions}getFunctions(){const r=new Set;return this._visitAll(this.parseTree,s=>{"function"===s.type&&r.add(s.name.toLowerCase())}),Array.from(r)}getExpressions(){const r=new Map;return this._visitAll(this.parseTree,s=>{if("function"===s.type){const f=s.name.toLowerCase(),l=s.args.value[0];if("column-reference"===l.type){const v=l.column,h=`${f}-${v}`;r.has(h)||r.set(h,{aggregateType:f,field:v})}}}),[...r.values()]}getVariables(){const r=new Set;return this._visitAll(this.parseTree,s=>{"parameter"===s.type&&r.add(s.value.toLowerCase())}),Array.from(r)}_compileMe(){const r="return this.convertInterval("+this.evaluateNodeToJavaScript(this.parseTree)+")";this.parseTree._compiledVersion=new Function("feature","lookups","attributeAdapter","fieldsIndex","timeZone",r).bind(Wr)}_extractExpressionInfo(r){const s=[],f=new Set;let l=!0,v=!1;return this._visitAll(this.parseTree,h=>{switch(h.type){case"column-reference":{const t=r?.get(h.column);let N,C;t?N=C=t.name??"":(C=h.column,N=C.toLowerCase()),f.has(N)||(f.add(N),s.push(C)),h.column=C;break}case"function":{const{name:t,args:N}=h,C=N.value.length;l&&(l=function kn(i,r){const s=St[i.toLowerCase()];return null!=s&&r>=s.minParams&&r<=s.maxParams}(t,C)),!1===v&&(v=ae(t,C));break}}}),{referencedFieldNames:Array.from(s),isStandardized:l,isAggregate:v}}_visitAll(r,s){if(null!=r)switch(s(r),r.type){case"when-clause":this._visitAll(r.operand,s),this._visitAll(r.value,s);break;case"case-expression":for(const f of r.clauses)this._visitAll(f,s);"simple"===r.format&&this._visitAll(r.operand,s),null!==r.else&&this._visitAll(r.else,s);break;case"expression-list":for(const f of r.value)this._visitAll(f,s);break;case"unary-expression":this._visitAll(r.expr,s);break;case"binary-expression":this._visitAll(r.left,s),this._visitAll(r.right,s);break;case"function":this._visitAll(r.args,s)}}evaluateNodeToJavaScript(r){switch(r.type){case"interval":return"this.makeSqlInterval("+this.evaluateNodeToJavaScript(r.value)+", "+JSON.stringify(r.qualifier)+","+JSON.stringify(r.op)+")";case"case-expression":{let s="";if("simple"===r.format){const f=this.evaluateNodeToJavaScript(r.operand);s="( ";for(let l=0;l<r.clauses.length;l++)s+=" (this.compare('=',"+f+","+this.evaluateNodeToJavaScript(r.clauses[l].operand)+") ? ("+this.evaluateNodeToJavaScript(r.clauses[l].value)+") : ";s+=null!==r.else?this.evaluateNodeToJavaScript(r.else):"null",s+=" )"}else{s="( ";for(let f=0;f<r.clauses.length;f++)s+=" this.makeBool("+this.evaluateNodeToJavaScript(r.clauses[f].operand)+")===true ? ("+this.evaluateNodeToJavaScript(r.clauses[f].value)+") : ";s+=null!==r.else?this.evaluateNodeToJavaScript(r.else):"null",s+=" )"}return s}case"parameter":return"this.lookup("+JSON.stringify(r.value.toLowerCase())+",lookups)";case"expression-list":{let s="[";for(const f of r.value)"["!==s&&(s+=","),s+=this.evaluateNodeToJavaScript(f);return s+="]",s}case"unary-expression":return"this.ternaryNot("+this.evaluateNodeToJavaScript(r.expr)+")";case"binary-expression":switch(r.operator){case"AND":return"this.ternaryAnd("+this.evaluateNodeToJavaScript(r.left)+","+this.evaluateNodeToJavaScript(r.right)+" )";case"OR":return"this.ternaryOr("+this.evaluateNodeToJavaScript(r.left)+","+this.evaluateNodeToJavaScript(r.right)+" )";case"IS":if("null"!==r.right.type)throw new c.eS(c.f.UnsupportedIsRhs);return"this.equalsNull("+this.evaluateNodeToJavaScript(r.left)+")";case"ISNOT":if("null"!==r.right.type)throw new c.eS(c.f.UnsupportedIsRhs);return"(!(this.equalsNull("+this.evaluateNodeToJavaScript(r.left)+")))";case"IN":return"this.applyIn("+this.evaluateNodeToJavaScript(r.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(r.right)+"))";case"NOT IN":return"this.ternaryNot(this.applyIn("+this.evaluateNodeToJavaScript(r.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(r.right)+")))";case"BETWEEN":return"this.between("+this.evaluateNodeToJavaScript(r.left)+","+this.evaluateNodeToJavaScript(r.right)+", timeZone)";case"NOTBETWEEN":return"this.notbetween("+this.evaluateNodeToJavaScript(r.left)+","+this.evaluateNodeToJavaScript(r.right)+", timeZone)";case"LIKE":return"this.applyLike("+this.evaluateNodeToJavaScript(r.left)+","+this.evaluateNodeToJavaScript(r.right)+","+JSON.stringify(r.escape)+")";case"NOT LIKE":return"this.ternaryNot(this.applyLike("+this.evaluateNodeToJavaScript(r.left)+","+this.evaluateNodeToJavaScript(r.right)+","+JSON.stringify(r.escape)+"))";case"<>":case"<":case">":case">=":case"<=":case"=":return"this.compare("+JSON.stringify(r.operator)+","+this.evaluateNodeToJavaScript(r.left)+","+this.evaluateNodeToJavaScript(r.right)+", timeZone)";case"*":case"-":case"+":case"/":case"||":return"this.calculate("+JSON.stringify(r.operator)+","+this.evaluateNodeToJavaScript(r.left)+","+this.evaluateNodeToJavaScript(r.right)+", timeZone)"}throw new c.eS(c.f.UnsupportedOperator,{operator:r.operator});case"null":case"boolean":case"string":case"number":return JSON.stringify(r.value);case"time":return"this.evaluateTime(JSON.stringify(node.value))";case"date":return"this.evaluateDate(JSON.stringify(node.value), 'unknown')";case"timestamp":return"this.evaluateTimestamp(JSON.stringify(node.value), 'unknown')";case"current-time":return"date"===r.mode?"this.currentDate(timeZone)":"this.currentTimestamp(timeZone)";case"column-reference":return"this.featureValue(feature,"+JSON.stringify(r.column)+",fieldsIndex,attributeAdapter)";case"function":return"this.evaluateFunction("+JSON.stringify(r.name)+","+this.evaluateNodeToJavaScript(r.args)+", timeZone)"}throw new c.eS(c.f.UnsupportedSyntax,{node:r.type})}_evaluateNode(r,s,f,l){let v;switch(r.type){case"interval":{const h=this._evaluateNode(r.value,s,f,l);return x.createFromValueAndQualifer(h,r.qualifier,r.op)}case"case-expression":if("simple"===r.format){const h=this._evaluateNode(r.operand,s,f,l);for(let t=0;t<r.clauses.length;t++)if(Q(h,this._evaluateNode(r.clauses[t].operand,s,f,l),"="))return this._evaluateNode(r.clauses[t].value,s,f,l);if(null!==r.else)return this._evaluateNode(r.else,s,f,l)}else{for(let h=0;h<r.clauses.length;h++)if(Tt(this._evaluateNode(r.clauses[h].operand,s,f,l)))return this._evaluateNode(r.clauses[h].value,s,f,l);if(null!==r.else)return this._evaluateNode(r.else,s,f,l)}return null;case"parameter":return v=this.parameters[r.value.toLowerCase()],B(v)?E.ou.fromJSDate(v):v instanceof oe.iG?v.toDateTime():v;case"expression-list":{const h=[];for(const t of r.value)h.push(this._evaluateNode(t,s,f,l));return h}case"unary-expression":return Ce(this._evaluateNode(r.expr,s,f,l));case"binary-expression":switch(r.operator){case"AND":return Nt(this._evaluateNode(r.left,s,f,l),this._evaluateNode(r.right,s,f,l));case"OR":return Ot(this._evaluateNode(r.left,s,f,l),this._evaluateNode(r.right,s,f,l));case"IS":if("null"!==r.right.type)throw new c.eS(c.f.UnsupportedIsRhs);return null===this._evaluateNode(r.left,s,f,l);case"ISNOT":if("null"!==r.right.type)throw new c.eS(c.f.UnsupportedIsRhs);return null!==this._evaluateNode(r.left,s,f,l);case"IN":{const h=Ye(this._evaluateNode(r.right,s,f,l));return Be(this._evaluateNode(r.left,s,f,l),h)}case"NOT IN":{const h=Ye(this._evaluateNode(r.right,s,f,l));return Ce(Be(this._evaluateNode(r.left,s,f,l),h))}case"BETWEEN":{const h=this._evaluateNode(r.left,s,f,l),t=this._evaluateNode(r.right,s,f,l);return null==h||null==t[0]||null==t[1]?null:Q(h,t[0],">=")&&Q(h,t[1],"<=")}case"NOTBETWEEN":{const h=this._evaluateNode(r.left,s,f,l),t=this._evaluateNode(r.right,s,f,l);return null==h||null==t[0]||null==t[1]?null:Q(h,t[0],"<")||Q(h,t[1],">")}case"LIKE":return Qe(this._evaluateNode(r.left,s,f,l),this._evaluateNode(r.right,s,f,l),r.escape);case"NOT LIKE":return Ce(Qe(this._evaluateNode(r.left,s,f,l),this._evaluateNode(r.right,s,f,l),r.escape));case"<>":case"<":case">":case">=":case"<=":case"=":return Q(this._evaluateNode(r.left,s,f,l),this._evaluateNode(r.right,s,f,l),r.operator);case"-":case"+":case"*":case"/":case"||":return It(r.operator,this._evaluateNode(r.left,s,f,l),this._evaluateNode(r.right,s,f,l),this.timeZone)}case"null":case"boolean":case"string":case"number":return r.value;case"date":return r.parsedValue??=ht(r.value,"unknown"),r.parsedValue;case"timestamp":return r.parsedValue??=Te(r.value,"unknown"),r.parsedValue;case"time":return ze(r.value);case"current-time":return"date"===r.mode?U.u.fromNow(this.timeZone):ye(new Date,this.timeZone);case"column-reference":return At(s,r.column,this.fieldsIndex,f);case"data-type":return r.value;case"function":{if(this.isAggregate&&ae(r.name,r.args.value.length)){const t=[];for(const N of r.args?.value||[]){const C=[];for(const z of l||[])C.push(this._evaluateNode(N,z,f,null));t.push(C)}return function O(i,r){const s=ne[i.toLowerCase()];if(null==s)throw new c.eS(c.f.FunctionNotRecognized);if(r.length<s.minParams||r.length>s.maxParams)throw new c.eS(c.f.InvalidParameterCount,{name:i.toUpperCase()});return s.evaluate(r)}(r.name,t)}const h=this._evaluateNode(r.args,s,f,l);return He(r.name,h,this.timeZone)}}throw new c.eS(c.f.UnsupportedSyntax,{node:r.type})}}function Tt(i){return!0===i}function Ye(i){return Array.isArray(i)?i:[i]}function Ce(i){return null!==i?!0!==i:null}function Nt(i,r){return null!=i&&null!=r?!0===i&&!0===r:!1!==i&&!1!==r&&null}function Ot(i,r){return null!=i&&null!=r?!0===i||!0===r:!0===i||!0===r||null}function Be(i,r){if(null==i)return null;let s=!1;for(const f of r)if(null==f)s=null;else if(i===f){s=!0;break}return s}const Ct="-[]/{}()*+?.\\^$|";var se,i;function Qe(i,r,s){return null==i?null:function jr(i,r){const s=r;let f="",l=se.Normal;for(let v=0;v<i.length;v++){const h=i.charAt(v);switch(l){case se.Normal:h===s?l=se.Escaped:Ct.includes(h)?f+="\\"+h:f+="%"===h?".*":"_"===h?".":h;break;case se.Escaped:Ct.includes(h)?f+="\\"+h:f+=h,l=se.Normal}}return new RegExp("^"+f+"$","m")}(r,s).test(i)}function At(i,r,s,f){const l=f.getAttribute(i,r),v=s?.get(r);return null==l||"esriFieldTypeDate"!==v?.type&&"date"!==v?.type?null==l||"esriFieldTypeDateOnly"!==v?.type&&"date-only"!==v?.type?null==l||"esriFieldTypeTimeOnly"!==v?.type&&"time-only"!==v?.type?null==l||"esriFieldTypeTimestampOffset"!==v?.type&&"timestamp-offset"!==v?.type?l:new T.H(l):J.n.fromReader(l):U.u.fromReader(l):ye(new Date(l),s?.getLuxonTimeZone(v.name)??E.Qf.utcInstance)}(i=se||(se={}))[i.Normal=0]="Normal",i[i.Escaped=1]="Escaped";const de={getAttribute:(i,r)=>(function Yr(i){return i&&"object"==typeof i.attributes}(i)?i.attributes:i)[r]}}}]);