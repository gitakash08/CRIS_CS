"use strict";(self.webpackChunkCRIS=self.webpackChunkCRIS||[]).push([[6089],{7848:(pt,B,N)=>{N.d(B,{G6:()=>w,Ie:()=>nt,J9:()=>mt,RF:()=>et,U1:()=>K,vY:()=>rt,ym:()=>ft});var L=N(91179);const S=(g,y,b)=>[y,b],z=(g,y,b)=>[y,b,g[2]],j=(g,y,b)=>[y,b,g[2],g[3]];function rt(g){return g?{originPosition:"upper-left"===g.originPosition?"upperLeft":"lower-left"===g.originPosition?"lowerLeft":g.originPosition,scale:g.tolerance?[g.tolerance,g.tolerance]:[1,1],translate:null!=g.extent?[g.extent.xmin,g.extent.ymax]:[0,0]}:null}function D({scale:g,translate:y},b){return Math.round((b-y[0])/g[0])}function E({scale:g,translate:y},b){return Math.round((y[1]-b)/g[1])}function U(g,y,b){const I=[];let F,C,v,Z;for(let T=0;T<b.length;T++){const d=b[T];T>0?(v=D(g,d[0]),Z=E(g,d[1]),v===F&&Z===C||(I.push(y(d,v-F,Z-C)),F=v,C=Z)):(F=D(g,d[0]),C=E(g,d[1]),I.push(y(d,F,C)))}return I.length>0?I:null}function A({scale:g,translate:y},b){return b*g[0]+y[0]}function G({scale:g,translate:y},b){return y[1]-b*g[1]}function J(g,y,b){const I=new Array(b.length);if(!b.length)return I;const[F,C]=g.scale;let v=A(g,b[0][0]),Z=G(g,b[0][1]);I[0]=y(b[0],v,Z);for(let T=1;T<b.length;T++){const d=b[T];v+=d[0]*F,Z-=d[1]*C,I[T]=y(d,v,Z)}return I}function W(g,y,b){const I=new Array(b.length);for(let F=0;F<b.length;F++)I[F]=J(g,y,b[F]);return I}function et(g,y,b,I,F){return y.x=D(g,b.x),y.y=E(g,b.y),y!==b&&(I&&(y.z=b.z),F&&(y.m=b.m)),y}function ft(g,y){return g&&y?(0,L.wp)(y)?et(g,{},y,!1,!1):(0,L.l9)(y)?function ct(g,y,b,I,F){const C=function Y(g,y,b,I){const F=[],C=b?I?j:z:I?z:S;for(let v=0;v<y.length;v++){const Z=U(g,C,y[v]);Z&&Z.length>=2&&F.push(Z)}return F.length?F:null}(g,b.paths,I,F);return C?(y.paths=C,y):null}(g,{},y,!1,!1):(0,L.oU)(y)?function ht(g,y,b,I,F){const C=function V(g,y,b,I){const F=[],C=b?I?j:z:I?z:S;for(let v=0;v<y.length;v++){const Z=U(g,C,y[v]);Z&&Z.length>=3&&F.push(Z)}return F.length?F:null}(g,b.rings,I,F);return C?(y.rings=C,y):null}(g,{},y,!1,!1):(0,L.aW)(y)?function tt(g,y,b,I,F){return y.points=function at(g,y,b,I){return U(g,b?I?j:z:I?z:S,y)}(g,b.points,I,F)??[],y}(g,{},y,!1,!1):(0,L.YX)(y)?function q(g,y,b,I,F){return y.xmin=D(g,b.xmin),y.ymin=E(g,b.ymin),y.xmax=D(g,b.xmax),y.ymax=E(g,b.ymax),y!==b&&(I&&(y.zmin=b.zmin,y.zmax=b.zmax),F&&(y.mmin=b.mmin,y.mmax=b.mmax)),y}(g,{},y,!1,!1):null:null}function mt(g,y,b,I,F){return null!=b&&(y.points=function X(g,y,b,I){return J(g,b?I?j:z:I?z:S,y)}(g,b.points,I,F)),y}function K(g,y,b,I,F){return null==b||(y.x=A(g,b.x),y.y=G(g,b.y),y!==b&&(I&&(y.z=b.z),F&&(y.m=b.m))),y}function nt(g,y,b,I,F){return null!=b&&(y.rings=function ot(g,y,b,I){return W(g,b?I?j:z:I?z:S,y)}(g,b.rings,I,F)),y}function w(g,y,b,I,F){return null!=b&&(y.paths=function $(g,y,b,I){return W(g,b?I?j:z:I?z:S,y)}(g,b.paths,I,F)),y}},46089:(pt,B,N)=>{N.r(B),N.d(B,{default:()=>T});var L=N(94573),O=N(86236),S=N(65234),z=N(33696),st=(N(8314),N(55713),N(5548),N(65401),N(7848),N(71774),N(36255));N(37053);class Q{constructor(f,x,M){this.uid=f,this.geometry=x,this.attributes=M,this.visible=!0,this.objectId=null,this.centroid=null}}class lt{constructor(){this.exceededTransferLimit=!1,this.features=[],this.fields=[],this.hasM=!1,this.hasZ=!1,this.geometryType=null,this.objectIdFieldName=null,this.globalIdFieldName=null,this.geometryProperties=null,this.geohashFieldName=null,this.spatialReference=null,this.transform=null}}var K=N(82054);function nt(d,f){return f}function w(d,f,x,M){switch(x){case 0:return I(d,f+M,0);case 1:return"lowerLeft"===d.originPosition?I(d,f+M,1):function F({translate:d,scale:f},x,M){return d[M]-x*f[M]}(d,f+M,1)}}function g(d,f,x,M){return 2===x?I(d,f,2):w(d,f,x,M)}function y(d,f,x,M){return 2===x?I(d,f,3):w(d,f,x,M)}function b(d,f,x,M){return 3===x?I(d,f,3):g(d,f,x,M)}function I({translate:d,scale:f},x,M){return d[M]+x*f[M]}class C{constructor(f){this._options=f,this.geometryTypes=["point","multipoint","polyline","polygon"],this._previousCoordinate=[0,0],this._transform=null,this._applyTransform=nt,this._lengths=[],this._currentLengthIndex=0,this._toAddInCurrentPath=0,this._vertexDimension=0,this._coordinateBuffer=null,this._coordinateBufferPtr=0,this._attributesConstructor=class{}}createFeatureResult(){return new lt}finishFeatureResult(f){if(this._options.applyTransform&&(f.transform=null),this._attributesConstructor=class{},this._coordinateBuffer=null,this._lengths.length=0,!f.hasZ)return;const x=(0,z.k)(f.geometryType,this._options.sourceSpatialReference,f.spatialReference);if(null!=x)for(const M of f.features)x(M.geometry)}createSpatialReference(){return new S.Z}addField(f,x){f.fields.push(st.Z.fromJSON(x));const M=f.fields.map(P=>P.name);this._attributesConstructor=function(){for(const P of M)this[P]=null}}addFeature(f,x){const M=this._options.maxStringAttributeLength??0;if(M>0)for(const P in x.attributes){const R=x.attributes[P];"string"==typeof R&&R.length>M&&(x.attributes[P]="")}f.features.push(x)}addQueryGeometry(f,x){const{queryGeometry:M,queryGeometryType:P}=x,R=(0,K.$g)(M.clone(),M,!1,!1,this._transform),k=(0,K.di)(R,P,!1,!1);let _=null;switch(P){case"esriGeometryPoint":_="point";break;case"esriGeometryPolygon":_="polygon";break;case"esriGeometryPolyline":_="polyline";break;case"esriGeometryMultipoint":_="multipoint"}k.type=_,f.queryGeometryType=P,f.queryGeometry=k}prepareFeatures(f){switch(this._transform=f.transform??null,this._options.applyTransform&&f.transform&&(this._applyTransform=this._deriveApplyTransform(f)),this._vertexDimension=2,f.hasZ&&this._vertexDimension++,f.hasM&&this._vertexDimension++,f.geometryType){case"point":this.addCoordinate=(x,M,P)=>this.addCoordinatePoint(x,M,P),this.createGeometry=x=>this.createPointGeometry(x);break;case"polygon":this.addCoordinate=(x,M,P)=>this._addCoordinatePolygon(x,M,P),this.createGeometry=x=>this._createPolygonGeometry(x);break;case"polyline":this.addCoordinate=(x,M,P)=>this._addCoordinatePolyline(x,M,P),this.createGeometry=x=>this._createPolylineGeometry(x);break;case"multipoint":this.addCoordinate=(x,M,P)=>this._addCoordinateMultipoint(x,M,P),this.createGeometry=x=>this._createMultipointGeometry(x);break;case"mesh":case"extent":break;default:(0,L.Bg)(f.geometryType)}}createFeature(){return this._lengths.length=0,this._currentLengthIndex=0,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0,new Q((0,O.D)(),null,new this._attributesConstructor)}allocateCoordinates(){const f=this._lengths.reduce((x,M)=>x+M,0);this._coordinateBuffer=new Float64Array(f*this._vertexDimension),this._coordinateBufferPtr=0}addLength(f,x){0===this._lengths.length&&(this._toAddInCurrentPath=x),this._lengths.push(x)}createPointGeometry(f){const x={type:"point",x:0,y:0,spatialReference:f.spatialReference,hasZ:!!f.hasZ,hasM:!!f.hasM};return x.hasZ&&(x.z=0),x.hasM&&(x.m=0),x}addCoordinatePoint(f,x,M){const P=this._transform?this._applyTransform(this._transform,x,M,0):x;if(null!=P)switch(M){case 0:f.x=P;break;case 1:f.y=P;break;case 2:f.hasZ?f.z=P:f.m=P;break;case 3:f.m=P}}_transformPathLikeValue(f,x){let M=0;return x<=1&&(M=this._previousCoordinate[x],this._previousCoordinate[x]+=f),this._transform?this._applyTransform(this._transform,f,x,M):f}_addCoordinatePolyline(f,x,M){this._dehydratedAddPointsCoordinate(f.paths,x,M)}_addCoordinatePolygon(f,x,M){this._dehydratedAddPointsCoordinate(f.rings,x,M)}_addCoordinateMultipoint(f,x,M){0===M&&f.points.push([]);const P=this._transformPathLikeValue(x,M);f.points[f.points.length-1].push(P)}_createPolygonGeometry(f){return{type:"polygon",rings:[[]],spatialReference:f.spatialReference,hasZ:!!f.hasZ,hasM:!!f.hasM}}_createPolylineGeometry(f){return{type:"polyline",paths:[[]],spatialReference:f.spatialReference,hasZ:!!f.hasZ,hasM:!!f.hasM}}_createMultipointGeometry(f){return{type:"multipoint",points:[],spatialReference:f.spatialReference,hasZ:!!f.hasZ,hasM:!!f.hasM}}_dehydratedAddPointsCoordinate(f,x,M){0===M&&0==this._toAddInCurrentPath--&&(f.push([]),this._toAddInCurrentPath=this._lengths[++this._currentLengthIndex]-1,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0);const P=this._transformPathLikeValue(x,M),k=this._coordinateBuffer;if(k){if(0===M){const _=this._coordinateBufferPtr*Float64Array.BYTES_PER_ELEMENT;f[f.length-1].push(new Float64Array(k.buffer,_,this._vertexDimension))}k[this._coordinateBufferPtr++]=P}}_deriveApplyTransform(f){const{hasZ:x,hasM:M}=f;return x&&M?b:x?g:M?y:w}}var v=N(85262);class Z{_parseFeatureQuery(f){const x=(0,v.C)(f.buffer,new C(f.options)),M={...x,spatialReference:x.spatialReference?.toJSON(),fields:x.fields?x.fields.map(P=>P.toJSON()):void 0};return Promise.resolve(M)}}function T(){return new Z}}}]);