"use strict";(self.webpackChunkCRIS=self.webpackChunkCRIS||[]).push([[362],{50011:($,B,p)=>{p.d(B,{F:()=>D,M:()=>u});const u={Base64:0,Hex:1,String:2,Raw:3},y=8,f=(1<<y)-1;function j(r,c){const t=(65535&r)+(65535&c);return(r>>16)+(c>>16)+(t>>16)<<16|65535&t}function x(r,c,t,o,s,n){return j(function Z(r,c){return r<<c|r>>>32-c}(j(j(c,r),j(o,n)),s),t)}function C(r,c,t,o,s,n,i){return x(c&t|~c&o,r,c,s,n,i)}function m(r,c,t,o,s,n,i){return x(c&o|t&~o,r,c,s,n,i)}function b(r,c,t,o,s,n,i){return x(c^t^o,r,c,s,n,i)}function S(r,c,t,o,s,n,i){return x(t^(c|~o),r,c,s,n,i)}function D(r,c=u.Hex){const t=c||u.Base64,o=function T(r,c){r[c>>5]|=128<<c%32,r[14+(c+64>>>9<<4)]=c;let t=1732584193,o=-271733879,s=-1732584194,n=271733878;for(let i=0;i<r.length;i+=16){const A=t,a=o,l=s,v=n;t=C(t,o,s,n,r[i],7,-680876936),n=C(n,t,o,s,r[i+1],12,-389564586),s=C(s,n,t,o,r[i+2],17,606105819),o=C(o,s,n,t,r[i+3],22,-1044525330),t=C(t,o,s,n,r[i+4],7,-176418897),n=C(n,t,o,s,r[i+5],12,1200080426),s=C(s,n,t,o,r[i+6],17,-1473231341),o=C(o,s,n,t,r[i+7],22,-45705983),t=C(t,o,s,n,r[i+8],7,1770035416),n=C(n,t,o,s,r[i+9],12,-1958414417),s=C(s,n,t,o,r[i+10],17,-42063),o=C(o,s,n,t,r[i+11],22,-1990404162),t=C(t,o,s,n,r[i+12],7,1804603682),n=C(n,t,o,s,r[i+13],12,-40341101),s=C(s,n,t,o,r[i+14],17,-1502002290),o=C(o,s,n,t,r[i+15],22,1236535329),t=m(t,o,s,n,r[i+1],5,-165796510),n=m(n,t,o,s,r[i+6],9,-1069501632),s=m(s,n,t,o,r[i+11],14,643717713),o=m(o,s,n,t,r[i],20,-373897302),t=m(t,o,s,n,r[i+5],5,-701558691),n=m(n,t,o,s,r[i+10],9,38016083),s=m(s,n,t,o,r[i+15],14,-660478335),o=m(o,s,n,t,r[i+4],20,-405537848),t=m(t,o,s,n,r[i+9],5,568446438),n=m(n,t,o,s,r[i+14],9,-1019803690),s=m(s,n,t,o,r[i+3],14,-187363961),o=m(o,s,n,t,r[i+8],20,1163531501),t=m(t,o,s,n,r[i+13],5,-1444681467),n=m(n,t,o,s,r[i+2],9,-51403784),s=m(s,n,t,o,r[i+7],14,1735328473),o=m(o,s,n,t,r[i+12],20,-1926607734),t=b(t,o,s,n,r[i+5],4,-378558),n=b(n,t,o,s,r[i+8],11,-2022574463),s=b(s,n,t,o,r[i+11],16,1839030562),o=b(o,s,n,t,r[i+14],23,-35309556),t=b(t,o,s,n,r[i+1],4,-1530992060),n=b(n,t,o,s,r[i+4],11,1272893353),s=b(s,n,t,o,r[i+7],16,-155497632),o=b(o,s,n,t,r[i+10],23,-1094730640),t=b(t,o,s,n,r[i+13],4,681279174),n=b(n,t,o,s,r[i],11,-358537222),s=b(s,n,t,o,r[i+3],16,-722521979),o=b(o,s,n,t,r[i+6],23,76029189),t=b(t,o,s,n,r[i+9],4,-640364487),n=b(n,t,o,s,r[i+12],11,-421815835),s=b(s,n,t,o,r[i+15],16,530742520),o=b(o,s,n,t,r[i+2],23,-995338651),t=S(t,o,s,n,r[i],6,-198630844),n=S(n,t,o,s,r[i+7],10,1126891415),s=S(s,n,t,o,r[i+14],15,-1416354905),o=S(o,s,n,t,r[i+5],21,-57434055),t=S(t,o,s,n,r[i+12],6,1700485571),n=S(n,t,o,s,r[i+3],10,-1894986606),s=S(s,n,t,o,r[i+10],15,-1051523),o=S(o,s,n,t,r[i+1],21,-2054922799),t=S(t,o,s,n,r[i+8],6,1873313359),n=S(n,t,o,s,r[i+15],10,-30611744),s=S(s,n,t,o,r[i+6],15,-1560198380),o=S(o,s,n,t,r[i+13],21,1309151649),t=S(t,o,s,n,r[i+4],6,-145523070),n=S(n,t,o,s,r[i+11],10,-1120210379),s=S(s,n,t,o,r[i+2],15,718787259),o=S(o,s,n,t,r[i+9],21,-343485551),t=j(t,A),o=j(o,a),s=j(s,l),n=j(n,v)}return[t,o,s,n]}(function J(r){const c=[];for(let t=0,o=r.length*y;t<o;t+=y)c[t>>5]|=(r.charCodeAt(t/y)&f)<<t%32;return c}(r),r.length*y);switch(t){case u.Raw:return o;case u.Hex:return function U(r){const c="0123456789abcdef",t=[];for(let o=0,s=4*r.length;o<s;o++)t.push(c.charAt(r[o>>2]>>o%4*8+4&15)+c.charAt(r[o>>2]>>o%4*8&15));return t.join("")}(o);case u.String:return function W(r){const c=[];for(let t=0,o=32*r.length;t<o;t+=y)c.push(String.fromCharCode(r[t>>5]>>>t%32&f));return c.join("")}(o);case u.Base64:return function g(r){const o=[];for(let s=0,n=4*r.length;s<n;s+=3){const i=(r[s>>2]>>s%4*8&255)<<16|(r[s+1>>2]>>(s+1)%4*8&255)<<8|r[s+2>>2]>>(s+2)%4*8&255;for(let A=0;A<4;A++)o.push(8*s+6*A>32*r.length?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>6*(3-A)&63))}return o.join("")}(o)}}},31370:($,B,p)=>{p.r(B),p.d(B,{default:()=>q});var z,u=p(15861),y=p(17626),f=p(26584),j=p(63290),J=p(99959),W=p(10699),U=p(32917),g=p(77712),m=(p(90912),p(85931),p(8314),p(68653)),b=p(76898),S=p(128),T=p(44917),D=p(50085),r=p(65088),c=p(49286),t=p(6647),o=p(99555),s=p(42432),n=p(13812),i=p(35031),A=p(84792),a=p(74333),l=p(86810),v=p(21726),M=(p(29132),p(58817)),N=p(14889),L=p(99433),O=p(5464),F=p(37118);let K=z=class extends l.wq{constructor(d){super(d),this.geometry=null,this.type="clip"}writeGeometry(d,h,P,E){if(E.layer?.spatialReference&&!E.layer.spatialReference.equals(this.geometry.spatialReference)){if(!(0,O.canProjectWithoutEngine)(d.spatialReference,E.layer.spatialReference))return void(E?.messages&&E.messages.push(new N.Z("scenemodification:unsupported","Scene modifications with incompatible spatial references are not supported",{modification:this,spatialReference:E.layer.spatialReference,context:E})));const H=new F.Z;(0,O.projectPolygon)(d,H,E.layer.spatialReference),h[P]=H.toJSON(E)}else h[P]=d.toJSON(E);delete h[P].spatialReference}clone(){return new z({geometry:(0,M.d9)(this.geometry),type:this.type})}};(0,y._)([(0,g.Cb)({type:F.Z}),(0,S.B)()],K.prototype,"geometry",void 0),(0,y._)([(0,L.c)(["web-scene","portal-item"],"geometry")],K.prototype,"writeGeometry",null),(0,y._)([(0,g.Cb)({type:["clip","mask","replace"],nonNullable:!0}),(0,S.B)()],K.prototype,"type",void 0),K=z=(0,y._)([(0,b.j)("esri.layers.support.SceneModification")],K);const Y=K;var w;let V=w=class extends((0,l.eC)(a.Z.ofType(Y))){constructor(d){super(d),this.url=null}clone(){return new w({url:this.url,items:this.items.map(d=>d.clone())})}toJSON(d){return this.toArray().map(h=>h.toJSON(d)).filter(h=>!!h.geometry)}static fromJSON(d,h){const P=new w;for(const E of d)P.add(Y.fromJSON(E,h));return P}static fromUrl(d,h,P){return(0,u.Z)(function*(){const E={url:(0,v.mN)(d),origin:"service"},H=yield(0,A.Z)(d,{responseType:"json",signal:P?.signal}),ee=h.toJSON(),X=[];for(const _ of H.data)X.push(Y.fromJSON({..._,geometry:{..._.geometry,spatialReference:ee}},E));return new w({url:d,items:X})})()}};(0,y._)([(0,g.Cb)({type:String})],V.prototype,"url",void 0),V=w=(0,y._)([(0,b.j)("esri.layers.support.SceneModifications")],V);const Q=V;var G=p(60507),k=p(29840);let R=class extends((0,s.Vt)((0,r.Y)((0,c.q)((0,t.I)((0,o.M)((0,J.R)((0,D.V)(T.Z)))))))){constructor(...d){super(...d),this.geometryType="mesh",this.operationalLayerType="IntegratedMeshLayer",this.type="integrated-mesh",this.nodePages=null,this.materialDefinitions=null,this.textureSetDefinitions=null,this.geometryDefinitions=null,this.serviceUpdateTimeStamp=null,this.profile="mesh-pyramids",this.modifications=null,this._modificationsSource=null,this.path=null}initialize(){this.addHandles((0,U.on)(()=>this.modifications,"after-changes",()=>this.modifications=this.modifications,U.Z_))}normalizeCtorArgs(d,h){return"string"==typeof d?{url:d,...h}:d}readModifications(d,h,P){this._modificationsSource={url:(0,k.f)(d,P),context:P}}set elevationInfo(d){this._set("elevationInfo",d),this._validateElevationInfo()}load(d){var h=this;return(0,u.Z)(function*(){return h.addResolvingPromise(h._doLoad(d)),h})()}_doLoad(d){var h=this;return(0,u.Z)(function*(){const P=d?.signal;try{yield h.loadFromPortal({supportedTypes:["Scene Service"]},d)}catch(E){(0,W.r9)(E)}if(yield h._fetchService(P),null!=h._modificationsSource){const E=yield Q.fromUrl(h._modificationsSource.url,h.spatialReference,d);h.setAtOrigin("modifications",E,h._modificationsSource.context.origin),h._modificationsSource=null}yield h._fetchIndexAndUpdateExtent(h.nodePages,P)})()}beforeSave(){if(null!=this._modificationsSource)return this.load().then(()=>{},()=>{})}saveAs(d,h){var P=this;return(0,u.Z)(function*(){return P._debouncedSaveOperations(s.xp.SAVE_AS,{...h,getTypeKeywords:()=>P._getTypeKeywords(),portalItemLayerType:"integrated-mesh"},d)})()}save(){var d=this;return(0,u.Z)(function*(){const h={getTypeKeywords:()=>d._getTypeKeywords(),portalItemLayerType:"integrated-mesh"};return d._debouncedSaveOperations(s.xp.SAVE,h)})()}validateLayer(d){if(d.layerType&&"IntegratedMesh"!==d.layerType)throw new f.Z("integrated-mesh-layer:layer-type-not-supported","IntegratedMeshLayer does not support this layer type",{layerType:d.layerType});if(isNaN(this.version.major)||isNaN(this.version.minor))throw new f.Z("layer:service-version-not-supported","Service version is not supported.",{serviceVersion:this.version.versionString,supportedVersions:"1.x"});if(this.version.major>1)throw new f.Z("layer:service-version-too-new","Service version is too new.",{serviceVersion:this.version.versionString,supportedVersions:"1.x"})}_getTypeKeywords(){return["IntegratedMeshLayer"]}_validateElevationInfo(){const d=this.elevationInfo,h="Integrated mesh layers";(0,G.LR)(j.Z.getLogger(this),(0,G.Uy)(h,"absolute-height",d)),(0,G.LR)(j.Z.getLogger(this),(0,G.kf)(h,d))}};(0,y._)([(0,g.Cb)({type:String,readOnly:!0})],R.prototype,"geometryType",void 0),(0,y._)([(0,g.Cb)({type:["show","hide"]})],R.prototype,"listMode",void 0),(0,y._)([(0,g.Cb)({type:["IntegratedMeshLayer"]})],R.prototype,"operationalLayerType",void 0),(0,y._)([(0,g.Cb)({json:{read:!1},readOnly:!0})],R.prototype,"type",void 0),(0,y._)([(0,g.Cb)({type:i.U4,readOnly:!0})],R.prototype,"nodePages",void 0),(0,y._)([(0,g.Cb)({type:[i.QI],readOnly:!0})],R.prototype,"materialDefinitions",void 0),(0,y._)([(0,g.Cb)({type:[i.Yh],readOnly:!0})],R.prototype,"textureSetDefinitions",void 0),(0,y._)([(0,g.Cb)({type:[i.H3],readOnly:!0})],R.prototype,"geometryDefinitions",void 0),(0,y._)([(0,g.Cb)({readOnly:!0})],R.prototype,"serviceUpdateTimeStamp",void 0),(0,y._)([(0,g.Cb)({type:Q}),(0,S.B)({origins:["web-scene","portal-item"],type:"resource",prefix:"modifications"})],R.prototype,"modifications",void 0),(0,y._)([(0,m.r)(["web-scene","portal-item"],"modifications")],R.prototype,"readModifications",null),(0,y._)([(0,g.Cb)(n.PV)],R.prototype,"elevationInfo",null),(0,y._)([(0,g.Cb)({type:String,json:{origins:{"web-scene":{read:!0,write:!0},"portal-item":{read:!0,write:!0}},read:!1}})],R.prototype,"path",void 0),R=(0,y._)([(0,b.j)("esri.layers.IntegratedMeshLayer")],R);const q=R},35031:($,B,p)=>{p.d(B,{H3:()=>c,QI:()=>m,U4:()=>Z,Yh:()=>S});var u=p(17626),y=p(86810),f=p(77712),U=(p(90912),p(85931),p(8314),p(55342)),g=p(76898);let Z=class extends y.wq{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};(0,u._)([(0,f.Cb)({type:Number})],Z.prototype,"nodesPerPage",void 0),(0,u._)([(0,f.Cb)({type:Number})],Z.prototype,"rootIndex",void 0),(0,u._)([(0,f.Cb)({type:String})],Z.prototype,"lodSelectionMetricType",void 0),Z=(0,u._)([(0,g.j)("esri.layer.support.I3SNodePageDefinition")],Z);let x=class extends y.wq{constructor(){super(...arguments),this.factor=1}};(0,u._)([(0,f.Cb)({type:Number,json:{read:{source:"textureSetDefinitionId"}}})],x.prototype,"id",void 0),(0,u._)([(0,f.Cb)({type:Number})],x.prototype,"factor",void 0),x=(0,u._)([(0,g.j)("esri.layer.support.I3SMaterialTexture")],x);let C=class extends y.wq{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};(0,u._)([(0,f.Cb)({type:[Number]})],C.prototype,"baseColorFactor",void 0),(0,u._)([(0,f.Cb)({type:x})],C.prototype,"baseColorTexture",void 0),(0,u._)([(0,f.Cb)({type:x})],C.prototype,"metallicRoughnessTexture",void 0),(0,u._)([(0,f.Cb)({type:Number})],C.prototype,"metallicFactor",void 0),(0,u._)([(0,f.Cb)({type:Number})],C.prototype,"roughnessFactor",void 0),C=(0,u._)([(0,g.j)("esri.layer.support.I3SMaterialPBRMetallicRoughness")],C);let m=class extends y.wq{constructor(){super(...arguments),this.alphaMode="opaque",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace="none",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};(0,u._)([(0,U.J)({opaque:"opaque",mask:"mask",blend:"blend"})],m.prototype,"alphaMode",void 0),(0,u._)([(0,f.Cb)({type:Number})],m.prototype,"alphaCutoff",void 0),(0,u._)([(0,f.Cb)({type:Boolean})],m.prototype,"doubleSided",void 0),(0,u._)([(0,U.J)({none:"none",back:"back",front:"front"})],m.prototype,"cullFace",void 0),(0,u._)([(0,f.Cb)({type:x})],m.prototype,"normalTexture",void 0),(0,u._)([(0,f.Cb)({type:x})],m.prototype,"occlusionTexture",void 0),(0,u._)([(0,f.Cb)({type:x})],m.prototype,"emissiveTexture",void 0),(0,u._)([(0,f.Cb)({type:[Number]})],m.prototype,"emissiveFactor",void 0),(0,u._)([(0,f.Cb)({type:C})],m.prototype,"pbrMetallicRoughness",void 0),m=(0,u._)([(0,g.j)("esri.layer.support.I3SMaterialDefinition")],m);let b=class extends y.wq{};(0,u._)([(0,f.Cb)({type:String,json:{read:{source:["name","index"],reader:(t,o)=>t??`${o.index}`}}})],b.prototype,"name",void 0),(0,u._)([(0,U.J)({jpg:"jpg",png:"png",dds:"dds","ktx-etc2":"ktx-etc2",ktx2:"ktx2",basis:"basis"})],b.prototype,"format",void 0),b=(0,u._)([(0,g.j)("esri.layer.support.I3STextureFormat")],b);let S=class extends y.wq{constructor(){super(...arguments),this.atlas=!1}};(0,u._)([(0,f.Cb)({type:[b]})],S.prototype,"formats",void 0),(0,u._)([(0,f.Cb)({type:Boolean})],S.prototype,"atlas",void 0),S=(0,u._)([(0,g.j)("esri.layer.support.I3STextureSetDefinition")],S);let T=class extends y.wq{};(0,u._)([(0,U.J)({Float32:"Float32",UInt64:"UInt64",UInt32:"UInt32",UInt16:"UInt16",UInt8:"UInt8"})],T.prototype,"type",void 0),(0,u._)([(0,f.Cb)({type:Number})],T.prototype,"component",void 0),T=(0,u._)([(0,g.j)("esri.layer.support.I3SGeometryAttribute")],T);let D=class extends y.wq{};(0,u._)([(0,U.J)({draco:"draco"})],D.prototype,"encoding",void 0),(0,u._)([(0,f.Cb)({type:[String]})],D.prototype,"attributes",void 0),D=(0,u._)([(0,g.j)("esri.layer.support.I3SGeometryCompressedAttributes")],D);let r=class extends y.wq{constructor(){super(...arguments),this.offset=0}};(0,u._)([(0,f.Cb)({type:Number})],r.prototype,"offset",void 0),(0,u._)([(0,f.Cb)({type:T})],r.prototype,"position",void 0),(0,u._)([(0,f.Cb)({type:T})],r.prototype,"normal",void 0),(0,u._)([(0,f.Cb)({type:T})],r.prototype,"uv0",void 0),(0,u._)([(0,f.Cb)({type:T})],r.prototype,"color",void 0),(0,u._)([(0,f.Cb)({type:T})],r.prototype,"uvRegion",void 0),(0,u._)([(0,f.Cb)({type:T})],r.prototype,"featureId",void 0),(0,u._)([(0,f.Cb)({type:T})],r.prototype,"faceRange",void 0),(0,u._)([(0,f.Cb)({type:D})],r.prototype,"compressedAttributes",void 0),r=(0,u._)([(0,g.j)("esri.layer.support.I3SGeometryBuffer")],r);let c=class extends y.wq{};(0,u._)([(0,U.J)({triangle:"triangle"})],c.prototype,"topology",void 0),(0,u._)([(0,f.Cb)()],c.prototype,"geometryBuffers",void 0),c=(0,u._)([(0,g.j)("esri.layer.support.I3SGeometryDefinition")],c)},60507:($,B,p)=>{function J(a,l){return function f(a,l){return l?.mode?l.mode:function y(a){return a?n:i}(a).mode}(null!=a&&a.hasZ,l)}function c(a,l,v){return v&&v.mode!==l?`${a} only support ${l} elevation mode`:null}function t(a,l,v){return v?.mode===l?`${a} do not support ${l} elevation mode`:null}function o(a,l){return null!=l?.featureExpressionInfo&&"0"!==l.featureExpressionInfo.expression?`${a} do not support featureExpressionInfo`:null}function s(a,l){l&&a.warn(".elevationInfo=",l)}p.d(B,{LR:()=>s,Uy:()=>c,VW:()=>J,Wb:()=>t,kf:()=>o}),p(29505);const n={mode:"absolute-height",offset:0},i={mode:"on-the-ground",offset:null}}}]);