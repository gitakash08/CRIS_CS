"use strict";(self.webpackChunkCRIS=self.webpackChunkCRIS||[]).push([[3216],{25982:(de,q,e)=>{e.d(q,{Z:()=>Z});var m,o=e(17626),R=e(86810),k=e(58817),A=e(77712),Y=e(90912),re=e(76898);let N=m=class extends R.wq{constructor(O){super(O),this.variableName=null,this.dimensionName=null,this.values=[],this.isSlice=!1}clone(){return new m({variableName:this.variableName,dimensionName:this.dimensionName,values:(0,k.d9)(this.values),isSlice:this.isSlice})}};(0,o._)([(0,A.Cb)({type:String,json:{write:!0}})],N.prototype,"variableName",void 0),(0,o._)([(0,A.Cb)({type:String,json:{write:!0}})],N.prototype,"dimensionName",void 0),(0,o._)([(0,A.Cb)({type:Y.V5.array(Y.V5.oneOf([Y.V5.native(Number),Y.V5.array(Y.V5.native(Number))])),json:{write:!0}})],N.prototype,"values",void 0),(0,o._)([(0,A.Cb)({type:Boolean,json:{write:!0}})],N.prototype,"isSlice",void 0),N=m=(0,o._)([(0,re.j)("esri.layers.support.DimensionalDefinition")],N);const Z=N},20145:(de,q,e)=>{e.d(q,{Z:()=>d});var _,o=e(17626),R=e(55538),k=e(2076),A=e(86810),Y=e(58817),re=e(63290),m=e(77712),N=e(66656),Z=e(68653),O=e(76898),K=e(99433),G=e(90912),V=e(72642),F=e(25982),W=e(85436);const E=(0,k.w)()({MT_FIRST:"first",MT_LAST:"last",MT_MIN:"min",MT_MAX:"max",MT_MEAN:"mean",MT_BLEND:"blend",MT_SUM:"sum"}),v=(0,k.w)()({esriMosaicNone:"none",esriMosaicCenter:"center",esriMosaicNadir:"nadir",esriMosaicViewpoint:"viewpoint",esriMosaicAttribute:"attribute",esriMosaicLockRaster:"lock-raster",esriMosaicNorthwest:"northwest",esriMosaicSeamline:"seamline"});let n=_=class extends A.wq{constructor(u){super(u),this.ascending=!0,this.itemRasterFunction=null,this.lockRasterIds=null,this.method=null,this.multidimensionalDefinition=null,this.objectIds=null,this.operation=null,this.sortField=null,this.sortValue=null,this.viewpoint=null,this.where=null}readAscending(u,s){return null!=s.ascending?s.ascending:null==s.sortAscending||s.sortAscending}get itemRenderingRule(){return(0,R.Mr)(re.Z.getLogger(this),"itemRenderingRule",{replacement:"itemRasterFunction",version:"4.27",warnOnce:!0}),this._get("itemRasterFunction")}set itemRenderingRule(u){(0,R.Mr)(re.Z.getLogger(this),"itemRenderingRule",{replacement:"itemRasterFunction",version:"4.27",warnOnce:!0}),this._set("itemRasterFunction",u)}readMethod(u,s){return function B(u){let s;switch(u?u.toLowerCase().replace("esrimosaic",""):""){case"byattribute":case"attribute":s="esriMosaicAttribute";break;case"lockraster":s="esriMosaicLockRaster";break;case"center":s="esriMosaicCenter";break;case"northwest":s="esriMosaicNorthwest";break;case"nadir":s="esriMosaicNadir";break;case"viewpoint":s="esriMosaicViewpoint";break;case"seamline":s="esriMosaicSeamline";break;default:s="esriMosaicNone"}return v.fromJSON(s)}(s.mosaicMethod||s.defaultMosaicMethod)}writeMultidimensionalDefinition(u,s,y){null!=u&&(u=u.filter(({variableName:I,dimensionName:C})=>I&&"*"!==I||C)).length&&(s[y]=u.map(I=>I.toJSON()))}readOperation(u,s){const y=s.mosaicOperation,I=s.mosaicOperator?.toLowerCase(),C=y||(I?E.toJSON(I):null);return E.fromJSON(C)||"first"}castSortValue(u){return null==u||"string"==typeof u||"number"==typeof u?u:`${u}`}clone(){return new _({ascending:this.ascending,itemRasterFunction:(0,Y.d9)(this.itemRasterFunction),lockRasterIds:(0,Y.d9)(this.lockRasterIds),method:this.method,multidimensionalDefinition:(0,Y.d9)(this.multidimensionalDefinition),objectIds:(0,Y.d9)(this.objectIds),operation:this.operation,sortField:this.sortField,sortValue:this.sortValue,viewpoint:(0,Y.d9)(this.viewpoint),where:this.where})}};(0,o._)([(0,m.Cb)({type:Boolean,json:{write:!0}})],n.prototype,"ascending",void 0),(0,o._)([(0,Z.r)("ascending",["ascending","sortAscending"])],n.prototype,"readAscending",null),(0,o._)([(0,m.Cb)({type:W.Z,json:{name:"itemRenderingRule",write:!0}})],n.prototype,"itemRasterFunction",void 0),(0,o._)([(0,m.Cb)({type:W.Z})],n.prototype,"itemRenderingRule",null),(0,o._)([(0,m.Cb)({type:[G.z8],json:{write:{overridePolicy(){return{enabled:"lock-raster"===this.method}}}}})],n.prototype,"lockRasterIds",void 0),(0,o._)([(0,m.Cb)({type:String,json:{type:v.jsonValues,write:{target:"mosaicMethod",writer:v.write}}})],n.prototype,"method",void 0),(0,o._)([(0,Z.r)("method",["mosaicMethod","defaultMosaicMethod"])],n.prototype,"readMethod",null),(0,o._)([(0,m.Cb)({type:[F.Z],json:{write:!0}})],n.prototype,"multidimensionalDefinition",void 0),(0,o._)([(0,K.c)("multidimensionalDefinition")],n.prototype,"writeMultidimensionalDefinition",null),(0,o._)([(0,m.Cb)({type:[G.z8],json:{name:"fids",write:!0}})],n.prototype,"objectIds",void 0),(0,o._)([(0,m.Cb)({json:{type:E.jsonValues,read:{reader:E.read},write:{target:"mosaicOperation",writer:E.write}}})],n.prototype,"operation",void 0),(0,o._)([(0,Z.r)("operation",["mosaicOperation","mosaicOperator"])],n.prototype,"readOperation",null),(0,o._)([(0,m.Cb)({type:String,json:{write:{overridePolicy(){return{enabled:"attribute"===this.method}}}}})],n.prototype,"sortField",void 0),(0,o._)([(0,m.Cb)({type:[String,Number],json:{write:{allowNull:!0,overridePolicy(){return{enabled:"attribute"===this.method,allowNull:!0}}}}})],n.prototype,"sortValue",void 0),(0,o._)([(0,N.p)("sortValue")],n.prototype,"castSortValue",null),(0,o._)([(0,m.Cb)({type:V.Z,json:{write:!0}})],n.prototype,"viewpoint",void 0),(0,o._)([(0,m.Cb)({type:String,json:{write:!0}})],n.prototype,"where",void 0),n=_=(0,o._)([(0,O.j)("esri.layers.support.MosaicRule")],n);const d=n},11354:(de,q,e)=>{e.d(q,{Z:()=>E});var F,o=e(17626),k=(e(29132),e(86810)),A=e(77712),N=(e(90912),e(85931),e(8314),e(76898)),Z=e(2004),O=e(37118),K=e(91179),G=e(25982);const W={base:e(21674).Z,key:"type",typeMap:{extent:Z.Z,polygon:O.Z}};let _=F=class extends k.wq{constructor(v){super(v),this.areaOfInterest=null,this.subsetDefinitions=null}get dimensions(){const{subsetDefinitions:v}=this;if(null==v||0===v.length)return[];const B=new Map;v.forEach(d=>{if(!d.dimensionName)return;let u,s;if(Array.isArray(d.values[0])){const y=d.values;u=y[0][0],s=y[d.values.length-1][1]}else{const y=d.values;u=y[0],s=y[d.values.length-1]}if(B.has(d.dimensionName)){const y=B.get(d.dimensionName);y[0]=Math.min(u,y[0]),y[1]=Math.max(s,y[1])}else B.set(d.dimensionName,[u,s])});const n=[];for(const d of B)n.push({name:d[0],extent:d[1]});return n}get variables(){const{subsetDefinitions:v}=this;if(null==v||0===v.length)return[];const B=new Set;return v.forEach(n=>{n.variableName&&B.add(n.variableName)}),[...B]}clone(){const v=this.subsetDefinitions?.map(n=>n.clone()),B=this.areaOfInterest?this.areaOfInterest.clone():this.areaOfInterest;return new F({areaOfInterest:B,subsetDefinitions:v})}};(0,o._)([(0,A.Cb)({types:W,json:{read:K.im,write:!0}})],_.prototype,"areaOfInterest",void 0),(0,o._)([(0,A.Cb)({readOnly:!0})],_.prototype,"dimensions",null),(0,o._)([(0,A.Cb)({readOnly:!0})],_.prototype,"variables",null),(0,o._)([(0,A.Cb)({type:[G.Z],json:{write:!0}})],_.prototype,"subsetDefinitions",void 0),_=F=(0,o._)([(0,N.j)("esri.layers.support.MultidimensionalSubset")],_);const E=_},85436:(de,q,e)=>{e.d(q,{Z:()=>H});var o=e(17626),R=e(86810),k=e(58817),A=e(77712),Y=e(90912),re=e(55342),m=e(68653),N=e(76898),Z=e(99433),O=e(2076),V=(e(85931),e(8314),e(2939));let F=class extends R.wq{constructor(){super(...arguments),this.pixelType="unknown"}};(0,o._)([(0,A.Cb)({type:String,json:{write:!0}})],F.prototype,"name",void 0),(0,o._)([(0,A.Cb)({type:String,json:{write:!0}})],F.prototype,"description",void 0),(0,o._)([(0,A.Cb)({type:Y.z8,json:{type:Y.z8,write:!0,name:"_object_id"}})],F.prototype,"id",void 0),(0,o._)([(0,A.Cb)({type:String,json:{type:V.sM.jsonValues,read:V.sM.read,write:V.sM.write}})],F.prototype,"pixelType",void 0),(0,o._)([(0,A.Cb)({type:String,json:{write:!0}})],F.prototype,"type",void 0),F=(0,o._)([(0,N.j)("esri.layers.support.RasterFunctionInfo")],F);const W=F;let _=class extends R.wq{constructor(){super(...arguments),this.isDataset=!1,this.isPublic=!1,this.type="RasterFunctionVariable"}};(0,o._)([(0,A.Cb)({type:String,json:{write:!0}})],_.prototype,"name",void 0),(0,o._)([(0,A.Cb)({type:Number,json:{type:Y.z8,write:!0,name:"_object_id"}})],_.prototype,"id",void 0),(0,o._)([(0,A.Cb)({type:Boolean,json:{write:!0}})],_.prototype,"isDataset",void 0),(0,o._)([(0,A.Cb)({type:Boolean,json:{write:!0}})],_.prototype,"isPublic",void 0),(0,o._)([(0,A.Cb)({json:{write:!0}})],_.prototype,"value",void 0),(0,o._)([(0,A.Cb)({type:String,json:{write:!0}})],_.prototype,"type",void 0),_=(0,o._)([(0,N.j)("esri.layers.support.RasterFunctionVariable")],_);const v={key:"type",base:null,typeMap:{RasterFunctionVariable:_}};let B=class extends R.wq{};(0,o._)([(0,A.Cb)({types:v,json:{types:v,name:"MatchVariable"}})],B.prototype,"matchVariable",void 0),(0,o._)([(0,A.Cb)({types:v,json:{types:v,name:"UnionDimension"}})],B.prototype,"unionDimension",void 0),(0,o._)([(0,A.Cb)({type:Number,json:{type:Y.z8,write:!0,name:"_object_id"}})],B.prototype,"id",void 0),(0,o._)([(0,A.Cb)({type:String,json:{write:!0}})],B.prototype,"type",void 0),B=(0,o._)([(0,N.j)("esri.layers.support.RasterFunctionProperties")],B);const n=B,d=new O.X({0:"mosaic",1:"item",2:"item-group"},{useNumericKeys:!0});let u=class extends R.wq{constructor(){super(...arguments),this.functionType="mosaic",this.type="RasterFunctionTemplate"}};(0,o._)([(0,A.Cb)({type:[String],json:{write:!0}})],u.prototype,"aliases",void 0),(0,o._)([(0,A.Cb)({type:Object,json:{write:!0}})],u.prototype,"arguments",void 0),(0,o._)([(0,A.Cb)({type:String,json:{write:!0}})],u.prototype,"description",void 0),(0,o._)([(0,A.Cb)({type:W,json:{write:!0,name:"function"}})],u.prototype,"functionInfo",void 0),(0,o._)([(0,A.Cb)({type:d.apiValues,json:{type:[0,1,2],read:d.read,write:d.write}})],u.prototype,"functionType",void 0),(0,o._)([(0,A.Cb)({type:String,json:{write:!0}})],u.prototype,"group",void 0),(0,o._)([(0,A.Cb)({type:String,json:{write:!0}})],u.prototype,"help",void 0),(0,o._)([(0,A.Cb)({type:Number,json:{type:Y.z8,write:!0,name:"_object_id"}})],u.prototype,"id",void 0),(0,o._)([(0,A.Cb)({type:String,json:{write:!0}})],u.prototype,"name",void 0),(0,o._)([(0,A.Cb)({type:String,json:{write:!0,name:"definition"}})],u.prototype,"queryDefinition",void 0),(0,o._)([(0,A.Cb)({type:String,json:{write:!0}})],u.prototype,"tag",void 0),(0,o._)([(0,A.Cb)({type:n,json:{write:!0}})],u.prototype,"properties",void 0),(0,o._)([(0,A.Cb)({type:String,json:{write:!0}})],u.prototype,"thumbnail",void 0),(0,o._)([(0,A.Cb)({type:String,json:{write:!0}})],u.prototype,"thumbnailEx",void 0),(0,o._)([(0,A.Cb)({json:{type:["RasterFunctionTemplate"],write:!0}})],u.prototype,"type",void 0),u=(0,o._)([(0,N.j)("esri.layers.support.RasterFunctionTemplate")],u);const s=u;var y;const I=new Set(["raster","raster2","dem","fillraster"]),C=new Set(["rasters"]),P=D=>D?.rasterFunction?ae.fromJSON(D):D,j=D=>D&&D instanceof ae?D.toJSON():D,g=D=>D?.functionName&&!D.declaredClass,S=D=>g(D)?new ae(D):D,te={types:{key:"type",base:null,typeMap:{RasterFunctionTemplate:s}},json:{write:!0,name:"rasterFunctionDefinition"}};let ae=y=class extends R.wq{constructor(D){super(D),this.functionName=null,this.outputPixelType="unknown",this.variableName=null,this.functionDefinition=null}set functionArguments(D){if(D){const Q=Object.keys(D);if(Q.some(J=>I.has(J.toLowerCase())&&g(D[J]))||Q.some(J=>C.has(J.toLowerCase())&&Array.isArray(D[J])&&D[J].some(ne=>g(ne)))){D=(0,k.d9)(D);for(const J of Q)I.has(J.toLowerCase())?D[J]=S(D[J]):C.has(J.toLowerCase())&&Array.isArray(D[J])&&(D[J]=D[J].map(ne=>S(ne)))}}this._set("functionArguments",D)}readFunctionArguments(D){return(D=>{if(null==D)return null;D=(0,k.d9)(D);const Q={};for(const J of Object.keys(D))Q[J]=I.has(J.toLowerCase())?P(D[J]):C.has(J.toLowerCase())&&Array.isArray(D[J])?D[J].map(P):D[J];return Q})(D)}writeFunctionArguments(D,Q,J){const ne={};for(const se of Object.keys(D))ne[se]=I.has(se.toLowerCase())?j(D[se]):C.has(se.toLowerCase())&&Array.isArray(D[se])?D[se].map(j):j(D[se]);Q[J]=ne}readFunctionName(D,Q){const J=Q.rasterFunctionInfos;return Q.name||(J?.length&&"None"!==J[0].name?J[0].name:Q.rasterFunctionDefinition?Q.rasterFunctionDefinition.name:Q.rasterFunction)}get rasterFunctionDefinition(){return this.functionDefinition?.toJSON()}set rasterFunctionDefinition(D){this.functionDefinition=D?s.fromJSON(D):null}clone(){return new y({functionName:this.functionName,functionArguments:(0,k.d9)(this.functionArguments),outputPixelType:this.outputPixelType,variableName:this.variableName,rasterFunctionDefinition:(0,k.d9)(this.rasterFunctionDefinition)})}};(0,o._)([(0,A.Cb)({json:{type:Object,name:"rasterFunctionArguments"}})],ae.prototype,"functionArguments",null),(0,o._)([(0,m.r)("functionArguments")],ae.prototype,"readFunctionArguments",null),(0,o._)([(0,Z.c)("functionArguments")],ae.prototype,"writeFunctionArguments",null),(0,o._)([(0,A.Cb)({json:{type:String,write:{target:"rasterFunction"}}})],ae.prototype,"functionName",void 0),(0,o._)([(0,m.r)("functionName",["rasterFunction","rasterFunctionInfos","rasterFunctionDefinition"])],ae.prototype,"readFunctionName",null),(0,o._)([(0,re.J)({C128:"c128",C64:"c64",F32:"f32",F64:"f64",S16:"s16",S32:"s32",S8:"s8",U1:"u1",U16:"u16",U2:"u2",U32:"u32",U4:"u4",U8:"u8",UNKNOWN:"unknown"},{ignoreUnknown:!1}),(0,A.Cb)({json:{default:"unknown"}})],ae.prototype,"outputPixelType",void 0),(0,o._)([(0,A.Cb)({type:String,json:{read:!0,write:!0}})],ae.prototype,"variableName",void 0),(0,o._)([(0,A.Cb)()],ae.prototype,"rasterFunctionDefinition",null),(0,o._)([(0,A.Cb)(te)],ae.prototype,"functionDefinition",void 0),ae=y=(0,o._)([(0,N.j)("esri.layers.support.RasterFunction")],ae);const H=ae},9548:(de,q,e)=>{e.d(q,{Z:()=>Y});var o=e(15861),R=e(26584),k=e(97347),A=e(85073);class Y{constructor(){this._workerThread=null,this._destroyed=!1}initialize(){var m=this;return(0,o.Z)(function*(){const N=yield(0,k.bA)("RasterWorker");m._destroyed?N.close():m._workerThread=N})()}destroy(){this._destroyed=!0,this._workerThread&&(this._workerThread.close(),this._workerThread=null)}convertVectorFieldData(m,N){var Z=this;return(0,o.Z)(function*(){if(!Z._workerThread)throw new R.Z("raster-jobhandler:no-connection","no available worker connection");const O=yield Z._workerThread.invoke("convertVectorFieldData",{pixelBlock:m.pixelBlock.toJSON(),type:m.dataType},N);return O?new A.Z(O):null})()}computeStatisticsHistograms(m,N){if(!this._workerThread)throw new R.Z("raster-jobhandler:no-connection","no available worker connection");return this._workerThread.invoke("computeStatisticsHistograms",{pixelBlock:m.pixelBlock.toJSON()},N)}decode(m,N){var Z=this;return(0,o.Z)(function*(){if(!Z._workerThread)throw new R.Z("raster-jobhandler:no-connection","no available worker connection");const O=yield Z._workerThread.invoke("decode",m,N);return O?new A.Z(O):null})()}symbolize(m,N){var Z=this;return(0,o.Z)(function*(){if(!Z._workerThread)throw new R.Z("raster-jobhandler:no-connection","no available worker connection");const O={extent:m.extent?.toJSON(),pixelBlock:m.pixelBlock?.toJSON(),simpleStretchParams:m.simpleStretchParams,bandIds:m.bandIds},K=yield Z._workerThread.invoke("symbolize",O,N);return K?new A.Z(K):null})()}updateSymbolizer(m,N){var Z=this;return(0,o.Z)(function*(){if(!Z._workerThread)throw new R.Z("raster-jobhandler:no-connection","no available worker connection");const O=m?.rendererJSON?.histograms;yield Promise.all(Z._workerThread.broadcast("updateSymbolizer",{symbolizerJSON:m.toJSON(),histograms:O},N))})()}updateRasterFunction(m,N){var Z=this;return(0,o.Z)(function*(){if(!Z._workerThread)throw new R.Z("raster-jobhandler:no-connection","no available worker connection");yield Promise.all(Z._workerThread.broadcast("updateRasterFunction",{rasterFunctionJSON:m.toJSON()},N))})()}process(m,N){var Z=this;return(0,o.Z)(function*(){if(!Z._workerThread)throw new R.Z("raster-jobhandler:no-connection","no available worker connection");const O=yield Z._workerThread.invoke("process",{extent:m.extent?.toJSON(),primaryPixelSizes:m.primaryPixelSizes?.map(K=>null!=K?K.toJSON():null),primaryPixelBlocks:m.primaryPixelBlocks.map(K=>null!=K?K.toJSON():null),primaryRasterIds:m.primaryRasterIds},N);return O?new A.Z(O):null})()}stretch(m,N){var Z=this;return(0,o.Z)(function*(){if(!Z._workerThread)throw new R.Z("raster-jobhandler:no-connection","no available worker connection");if(!m?.pixelBlock)return null;const O={srcPixelBlock:m.pixelBlock.toJSON(),stretchParams:m.stretchParams},K=yield Z._workerThread.invoke("stretch",O,N);return K?new A.Z(K):null})()}split(m,N){var Z=this;return(0,o.Z)(function*(){if(!Z._workerThread)throw new R.Z("raster-jobhandler:no-connection","no available worker connection");if(!m?.pixelBlock)return null;const O={srcPixelBlock:m.pixelBlock.toJSON(),tileSize:m.tileSize,maximumPyramidLevel:m.maximumPyramidLevel},K=yield Z._workerThread.invoke("split",O,N);return K&&K.forEach((G,V)=>{K.set(V,G?A.Z.fromJSON(G):null)}),K})()}estimateStatisticsHistograms(m,N){var Z=this;return(0,o.Z)(function*(){if(!Z._workerThread)throw new R.Z("raster-jobhandler:no-connection","no available worker connection");if(!m?.pixelBlock)return null;const O={srcPixelBlock:m.pixelBlock.toJSON()};return yield Z._workerThread.invoke("estimateStatisticsHistograms",O,N)})()}mosaicAndTransform(m,N){var Z=this;return(0,o.Z)(function*(){if(!Z._workerThread)throw new R.Z("raster-jobhandler:no-connection","no available worker connection");if(!m?.srcPixelBlocks?.length)return{pixelBlock:null};const O={...m,srcPixelBlocks:m.srcPixelBlocks.map(G=>null!=G?G.toJSON():null)},K=yield Z._workerThread.invoke("mosaicAndTransform",O,N);return{pixelBlock:K.pixelBlock?new A.Z(K.pixelBlock):null,localNorthDirections:K.localNorthDirections}})()}createFlowMesh(m,N){var Z=this;return(0,o.Z)(function*(){if(!Z._workerThread)throw new R.Z("raster-jobhandler:no-connection","no available worker connection");const O={buffer:m.flowData.data.buffer,maskBuffer:m.flowData.mask.buffer,width:m.flowData.width,height:m.flowData.height},{meshType:K,simulationSettings:G}=m,V=yield Z._workerThread.invoke("createFlowMesh",{meshType:K,flowData:O,simulationSettings:G},{...N,transferList:[O.buffer,O.maskBuffer]});return{vertexData:new Float32Array(V.vertexBuffer),indexData:new Uint32Array(V.indexBuffer)}})()}getProjectionOffsetGrid(m,N){if(!this._workerThread)throw new R.Z("raster-jobhandler:no-connection","no available worker connection");const Z=null!=m.datumTransformation?m.datumTransformation.steps.map(G=>({wkid:G.wkid,wkt:G.wkt,isInverse:G.isInverse})):null,O=null!=m.rasterTransform?m.rasterTransform.toJSON():null,K={projectedExtent:m.projectedExtent.toJSON(),srcBufferExtent:m.srcBufferExtent.toJSON(),pixelSize:m.pixelSize,hasWrapAround:m.hasWrapAround,spacing:m.spacing,datumTransformationSteps:Z,rasterTransform:O,isAdaptive:m.isAdaptive,includeGCSGrid:m.includeGCSGrid};return this._workerThread.invoke("getProjectionOffsetGrid",K,N)}}},79781:(de,q,e)=>{e.d(q,{MO:()=>A,Tj:()=>F,Ur:()=>Y,W2:()=>K,WU:()=>W,WY:()=>V,gk:()=>B,jj:()=>_,nb:()=>O});var o=e(85931),R=e(25982);function k(n,d,u){const s=d.shift();0===u.length&&u.push({sliceId:-1,multidimensionalDefinition:[]});const y=u.length;for(let I=0;I<y;I++){const C=u.shift().multidimensionalDefinition;s.values?.forEach(P=>{u.push({sliceId:-1,multidimensionalDefinition:[...C,{variableName:n,dimensionName:s.name,values:[P]}]})})}d.length&&k(n,d,u)}function A(n,d){const u=[];let s=0;return(d?n.variables.filter(y=>y.name.toLowerCase()===d.toLowerCase()):[...n.variables].sort((y,I)=>y.name>I.name?1:-1)).forEach(y=>{const I=[],C=[...y.dimensions].sort((P,j)=>P.name>j.name?-1:1);k(y.name,C,I),I.forEach(P=>{u.push({...P,sliceId:s++})})}),u}function Y(n,d,u){let s=n;if(d&&(d=[...d].sort((y,I)=>y.dimensionName<I.dimensionName?-1:1)).forEach(({dimensionName:y,values:I,isSlice:C})=>{I.length&&(s=s.filter(P=>{const j=P.multidimensionalDefinition.find(S=>S.dimensionName===y);if(null==j)return!1;const g=j.values[0];return"number"==typeof g?"number"==typeof I[0]?I.includes(g):I.some(S=>S[0]<=g&&S[1]>=g):I.some("number"==typeof I[0]?S=>g[0]<=S&&g[1]>=S:C?S=>S[0]===g[0]&&S[0]===g[1]:S=>S[0]>=g[0]&&S[0]<=g[1]||S[1]>=g[0]&&S[1]<=g[1]||S[0]<g[0]&&S[1]>g[1])}))}),s.length&&null!=u?.start&&null!=u.end){const y=u.start.getTime(),I=u.end.getTime(),C=s[0].multidimensionalDefinition.findIndex(P=>"StdTime"===P.dimensionName);C>-1&&(s=s.filter(P=>{const j=P.multidimensionalDefinition[C].values[0];return y<=j&&I>=j}))}return s.map(y=>y.sliceId)}function re(n,d){return Array.isArray(n)?d[0]===d[1]?n[0]===d[0]||n[1]===d[0]:n[0]>=d[0]&&n[0]<=d[1]&&n[1]>=d[0]&&n[1]<=d[1]:n>=d[0]&&n<=d[1]}function m(n,d){return n[0]<=d[0]&&n[1]>=d[0]||n[0]<=d[1]&&n[1]>=d[1]||n[0]>=d[0]&&n[1]<=d[1]}function N(n){return 1===n.length?[n[0],n[0]]:[n[0],n[n.length-1]]}function Z(n,d,u){if(!d?.subsetDefinitions?.length)return n;let s;if(u){const{variables:C}=d;if(C.length&&!C.includes(u))return null;const P=d.subsetDefinitions.find(j=>j.dimensionName===n.name&&j.variableName===u);if(!P?.values?.length)return n;s=N(P.values)}else s=d.dimensions.find(({name:P})=>P===n.name)?.extent;const y=s;if(!y?.length)return n;const I=n.values.filter(C=>re(C,y));return{...n,extent:[...y],values:I}}function O(n,d,u){if(!d?.subsetDefinitions?.length)return!1;const{variables:s}=d;if(s.length&&n.some(({variableName:y})=>y&&!s.includes(y)))return!0;for(let y=0;y<n.length;y++){const I=n[y],C=d.subsetDefinitions.find(P=>(""===I.variableName||P.variableName===I.variableName)&&P.dimensionName===I.dimensionName);if(C?.values.length){const P=N(C.values);if(I.isSlice||2!==I.values.length||Array.isArray(I.values[0])||I.values[0]===I.values[1]||!u){if(I.values.some(j=>!re(j,P)))return!0}else if(!m(I.values,P))return!0}}return!1}function K(n,d){if(null==n)return{isOutside:!1};const{geometry:u,timeExtent:s,multidimensionalDefinition:y}=d;let I=null;if(null!=s&&(I=function G(n,d){const u=n.dimensions.find(({name:C})=>"StdTime"===C);if(null==u||null==d.start&&null==d.end)return d;d=d.clone();const{start:s,end:y}=d.toJSON(),I=s===y?[s]:null!=s&&null!=y?[s,y]:[s??y];return 2===I.length&&u?.extent.length&&(I[0]=Math.max(I[0],u.extent[0]),I[1]=Math.min(I[1],u.extent[1]??u.extent[0]),I[1]<I[0])||O([new R.Z({variableName:"",dimensionName:"StdTime",isSlice:1===I.length,values:I})],n,!0)?null:(d.start=new Date(I[0]),d.end=new Date(I[1]??I[0]),d)}(n,s),null==I))return{isOutside:!0};const{areaOfInterest:C}=n;if(C&&u){const P="point"===u.type?u:"extent"===u.type?u.center:"polygon"===u.type?u.centroid:null;if(P&&!C.contains(P))return{isOutside:!0}}return null!=y&&y.length&&O(y,n,!0)?{isOutside:!0}:{isOutside:!1,intersection:{geometry:u,timeExtent:I,multidimensionalDefinition:y}}}function V(n,d={}){const{multidimensionalInfo:u,keyProperties:s}=n;if(null==u)return null;const{variableName:y,multidimensionalSubset:I,multidimensionalDefinition:C}=d,j=y||(null!=C?C[0]?.variableName:null)||s?.DefaultVariable;let{variables:g}=u;return I?.variables?.length&&(g=g.filter(({name:S})=>I.variables.includes(S))),j?g.find(({name:S})=>S===j)??g[0]:g[0]}function F(n,d={}){const u=V(n,d);if(!u)return null;const s=[],{dimensions:y,name:I}=u;if(0===y.length)return[new R.Z({variableName:I,dimensionName:"",values:[],isSlice:!0})];for(let C=0;C<y.length;C++){const P=Z(y[C],d.multidimensionalSubset,I);if(!P)return null;const{values:j,extent:g}=P;let S=j?.[0]??g[0];"stdz"===P.name.toLowerCase()&&!P.hasRanges&&Math.abs(g[1])<=Math.abs(g[0])&&(S=j?.length?j[j.length-1]:g[1]),s.push(new R.Z({variableName:I,dimensionName:P.name,values:[S],isSlice:!d.useRangeForRangedDimensionInfo||!!P.hasRanges}))}return s}function W(n){return!!n?.length&&n.some(d=>{if(null==d.values)return!0;const u=d.values.length;return 0===u||u>1||!d.isSlice&&Array.isArray(d.values[0])})}function _(n,d){if(null==d||null==n)return null;let u=d.variables.map(s=>({...s}));return n?.variables?.length&&(u=u.filter(({name:s})=>n.variables.includes(s)),u.forEach(s=>{s.dimensions=s.dimensions.map(y=>Z(y,n,s.name)).filter(o.pC)})),u}function E(n,d){const{values:u}=d;if(u?.length){const P=Array.isArray(u[0]),j=Array.isArray(n);return P!==j?-1:P&&j?u.findIndex(g=>g[0]===n[0]&&g[1]===n[1]):u.indexOf(n)}const{extent:s}=d;if(Array.isArray(n)||n<s[0]||n>s[1])return-1;const y=d.interval||1;if("ISO8601"!==d.unit)return Math.round((n-s[0])/y);const I=s[0];let C=-1;switch(d.intervalUnit?.toLowerCase()||"seconds"){case"seconds":C=Math.round((n-I)/1e3/y);break;case"minutes":C=Math.round((n-I)/6e4/y);break;case"hours":C=Math.round((n-I)/36e5/y);break;case"days":C=Math.round((n-I)/864e5/y);break;case"months":{const P=new Date(n).getUTCFullYear()-new Date(I).getUTCFullYear(),j=new Date(I).getUTCMonth(),g=new Date(n).getUTCMonth();C=0===P?g-j:g+11-j+12*(P-1)}break;case"years":C=Math.round((new Date(n).getUTCFullYear()-new Date(I).getUTCFullYear())/y);break;case"decades":C=Math.round((new Date(n).getUTCFullYear()-new Date(I).getUTCFullYear())/10/y)}return C}function v(n){let d=n.values?.length;if(d)return d;const{extent:u,unit:s}=n,y=n.interval||1,I=u?u[1]-u[0]:0;if("ISO8601"!==s)return Math.round(I/y);switch(n.intervalUnit?.toLowerCase()??"seconds"){case"seconds":d=Math.round(I/1e3/y);break;case"minutes":d=Math.round(I/6e4/y);break;case"hours":d=Math.round(I/36e5/y);break;case"days":d=Math.round(I/864e5/y);break;case"months":{const C=new Date(u[1]).getUTCFullYear()-new Date(u[0]).getUTCFullYear(),P=new Date(u[0]).getUTCMonth(),j=new Date(u[1]).getUTCMonth();d=0===C?j-P+1:j+11-P+12*(C-1)+1}break;case"years":d=Math.round((new Date(u[1]).getUTCFullYear()-new Date(u[0]).getUTCFullYear())/y);break;case"decades":d=Math.round((new Date(u[1]).getUTCFullYear()-new Date(u[0]).getUTCFullYear())/10/y);break;default:d=0}return d}function B(n,d){let u=0;const s=n[0].variableName,y=[...d.variables].sort((I,C)=>I.name>C.name?1:-1);for(let I=0;I<y.length;I++){const C=y[I],P=[...C.dimensions].sort((S,ee)=>S.name>ee.name?-1:1);if(C.name!==s){u+=P.map(S=>v(S)).reduce((S,ee)=>S*ee);continue}const j=P.map(S=>v(S)),g=P.length;for(let S=0;S<g;S++){const ee=n.find(ae=>ae.dimensionName===P[S].name);if(null==ee)return null;const te=E(ee.values[0],P[S]);if(-1===te)return null;j.shift(),u+=S===g-1?te:te*j.reduce((ae,H)=>ae*H)}break}return u}},2939:(de,q,e)=>{e.d(q,{cl:()=>R,kQ:()=>k,sM:()=>A});var o=e(2076);const R=(0,o.w)()({RSP_NearestNeighbor:"nearest",RSP_BilinearInterpolation:"bilinear",RSP_CubicConvolution:"cubic",RSP_Majority:"majority"}),k=(0,o.w)()({esriNoDataMatchAny:"any",esriNoDataMatchAll:"all"}),A=(0,o.w)()({U1:"u1",U2:"u2",U4:"u4",U8:"u8",S8:"s8",U16:"u16",S16:"s16",U32:"u32",S32:"s32",F32:"f32",F64:"f64",C64:"c64",C128:"c128",UNKNOWN:"unknown"})},90885:(de,q,e)=>{e.d(q,{FK:()=>O,dr:()=>Z,ij:()=>V});var o=e(14889),R=e(4832),k=e(12492),A=e(76511),Y=e(15177),re=e(65539),m=e(73640),N=e(53785);const Z={key:"type",base:null,typeMap:{"unique-value":m.Z,"class-breaks":R.Z,"raster-colormap":A.Z,"raster-stretch":re.Z,"vector-field":N.Z,"raster-shaded-relief":Y.Z,flow:k.Z}},O={...Z,typeMap:{...Z.typeMap}};delete O.typeMap["vector-field"],delete O.typeMap.flow;const K={uniqueValue:m.Z,classBreaks:R.Z,rasterStretch:re.Z,rasterColormap:A.Z,vectorField:N.Z,rasterShadedRelief:Y.Z,flowRenderer:k.Z};function V(W,_){if(!W)return null;if("classBreaks"===W.type&&W.classificationMethod){const v=W.authoringInfo||{classificationMethod:""};v.classificationMethod=W.classificationMethod,W.authoringInfo=v}"vectorField"===W.type&&W.visualVariables&&!Array.isArray(W.visualVariables)&&(W.visualVariables=[W.visualVariables]);const E=function G(W){return W&&K[W.type]||null}(W);if(E){const v=new E;return v.read(W,_),v}return _?.messages&&W&&_.messages.push(new o.Z("renderer:unsupported","Renderers of type '"+(W.type||"unknown")+"' are not supported",{definition:W,context:_})),null}},12492:(de,q,e)=>{e.d(q,{Z:()=>B});var _,o=e(15861),R=e(17626),k=e(91558),A=e(2076),Y=e(86810),re=e(23841),m=e(77712),K=(e(90912),e(85931),e(8314),e(55342)),G=e(76898),V=e(98563),F=e(15312),W=e(10914);const E=new A.X({flow_from:"flow-from",flow_to:"flow-to"});let v=_=class extends((0,V.W)(Y.wq)){constructor(n){super(n),this.density=.8,this.color=new k.Z([255,255,255,1]),this.maxPathLength=200,this.trailWidth=1.5,this.flowSpeed=10,this.trailLength=100,this.smoothing=0,this.flowRepresentation="flow-from",this.type="flow",this.authoringInfo=null,this.legendOptions=null,this.trailCap="butt",this.background="none"}clone(){const{density:n,maxPathLength:d,trailWidth:u,flowSpeed:s,trailLength:y,smoothing:I,flowRepresentation:C,trailCap:P,background:j}=this,g=this.color.clone(),S=(this.visualVariables||[]).map(ae=>ae.clone()),ee=this.authoringInfo?.clone(),te=this.legendOptions?.clone();return new _({density:n,color:g,maxPathLength:d,trailWidth:u,flowSpeed:s,trailLength:y,trailCap:P,background:j,smoothing:I,flowRepresentation:C,visualVariables:S,authoringInfo:ee,legendOptions:te})}getSymbol(n,d){}getSymbolAsync(n,d){return(0,o.Z)(function*(){})()}getSymbols(){return[]}};(0,R._)([(0,m.Cb)({type:Number,json:{write:!0}})],v.prototype,"density",void 0),(0,R._)([(0,m.Cb)({type:k.Z,json:{write:{allowNull:!0}}})],v.prototype,"color",void 0),(0,R._)([(0,m.Cb)({type:Number,cast:re.t_,json:{write:!0}})],v.prototype,"maxPathLength",void 0),(0,R._)([(0,m.Cb)({type:Number,cast:re.t_,json:{write:!0}})],v.prototype,"trailWidth",void 0),(0,R._)([(0,m.Cb)({type:Number,json:{write:!0}})],v.prototype,"flowSpeed",void 0),(0,R._)([(0,m.Cb)({type:Number,json:{write:!0}})],v.prototype,"trailLength",void 0),(0,R._)([(0,m.Cb)({type:Number,cast:re.t_,json:{write:!1}})],v.prototype,"smoothing",void 0),(0,R._)([(0,m.Cb)({type:E.apiValues,json:{type:E.jsonValues,read:{reader:E.read},write:{writer:E.write}}})],v.prototype,"flowRepresentation",void 0),(0,R._)([(0,K.J)({flowRenderer:"flow"})],v.prototype,"type",void 0),(0,R._)([(0,m.Cb)({type:F.Z,json:{write:!0}})],v.prototype,"authoringInfo",void 0),(0,R._)([(0,m.Cb)({type:W.I,json:{write:!0}})],v.prototype,"legendOptions",void 0),(0,R._)([(0,m.Cb)({type:String,json:{write:!0}})],v.prototype,"trailCap",void 0),(0,R._)([(0,m.Cb)({type:String,json:{write:!0}})],v.prototype,"background",void 0),v=_=(0,R._)([(0,G.j)("esri.renderers.FlowRenderer")],v);const B=v},76511:(de,q,e)=>{e.d(q,{Z:()=>W});var o=e(17626),R=e(86810),k=e(77712),A=e(90912),m=(e(85931),e(8314),e(55342)),N=e(76898),Z=e(91558);let O=class extends R.wq{constructor(){super(...arguments),this.value=null,this.label=null,this.color=null}};(0,o._)([(0,k.Cb)({type:Number,json:{write:!0}})],O.prototype,"value",void 0),(0,o._)([(0,k.Cb)({type:String,json:{write:!0}})],O.prototype,"label",void 0),(0,o._)([(0,k.Cb)({type:Z.Z,json:{type:[A.z8],write:!0}})],O.prototype,"color",void 0),O=(0,o._)([(0,N.j)("esri.renderers.support.ColormapInfo")],O);const K=O;var V,G=e(70208);let F=V=class extends R.wq{constructor(_){super(_),this.colormapInfos=null,this.type="raster-colormap"}static createFromColormap(_,E){if(!_)return null;const v=5===_[0].length,B=[..._].sort((n,d)=>n[0]-d[0]).map(n=>K.fromJSON({value:n[0],color:v?n.slice(1,5):n.slice(1,4).concat([255]),label:E?E[n[0]]??"":n[0]}));return new V({colormapInfos:B})}static createFromColorramp(_){const E=(0,G.Jw)(_);return V.createFromColormap(E)}clone(){return new V({colormapInfos:this.colormapInfos.map(_=>_.toJSON())})}extractColormap(){return this.colormapInfos.map(({value:_,color:E})=>[_,E.r,E.g,E.b,E.a>1?E.a:255*E.a&255]).sort((_,E)=>_[0]-E[0])}};(0,o._)([(0,k.Cb)({type:[K],json:{write:!0}})],F.prototype,"colormapInfos",void 0),(0,o._)([(0,m.J)({rasterColormap:"raster-colormap"})],F.prototype,"type",void 0),F=V=(0,o._)([(0,N.j)("esri.renderers.RasterColormapRenderer")],F);const W=F},15177:(de,q,e)=>{e.d(q,{Z:()=>G});var O,o=e(17626),R=e(86810),k=e(58817),A=e(77712),re=(e(90912),e(55342)),m=e(68653),N=e(76898),Z=e(79023);let K=O=class extends R.wq{constructor(V){super(V),this.altitude=45,this.azimuth=315,this.colorRamp=null,this.hillshadeType="traditional",this.pixelSizePower=.664,this.pixelSizeFactor=.024,this.scalingType="none",this.type="raster-shaded-relief",this.zFactor=1}readColorRamp(V){return(0,Z.i)(V)}clone(){return new O({hillshadeType:this.hillshadeType,altitude:this.altitude,azimuth:this.azimuth,zFactor:this.zFactor,scalingType:this.scalingType,pixelSizeFactor:this.pixelSizeFactor,pixelSizePower:this.pixelSizePower,colorRamp:(0,k.d9)(this.colorRamp)})}};(0,o._)([(0,A.Cb)({type:Number,json:{write:!0}})],K.prototype,"altitude",void 0),(0,o._)([(0,A.Cb)({type:Number,json:{write:!0}})],K.prototype,"azimuth",void 0),(0,o._)([(0,A.Cb)({types:Z.V,json:{write:!0}})],K.prototype,"colorRamp",void 0),(0,o._)([(0,m.r)("colorRamp")],K.prototype,"readColorRamp",null),(0,o._)([(0,A.Cb)({type:["traditional","multi-directional"],json:{write:!0}})],K.prototype,"hillshadeType",void 0),(0,o._)([(0,A.Cb)({type:Number,json:{write:!0}})],K.prototype,"pixelSizePower",void 0),(0,o._)([(0,A.Cb)({type:Number,json:{write:!0}})],K.prototype,"pixelSizeFactor",void 0),(0,o._)([(0,A.Cb)({type:["none","adjusted"],json:{write:!0}})],K.prototype,"scalingType",void 0),(0,o._)([(0,re.J)({rasterShadedRelief:"raster-shaded-relief"})],K.prototype,"type",void 0),(0,o._)([(0,A.Cb)({type:Number,json:{write:!0}})],K.prototype,"zFactor",void 0),K=O=(0,o._)([(0,N.j)("esri.renderers.RasterShadedReliefRenderer")],K);const G=K},65539:(de,q,e)=>{e.d(q,{Z:()=>F});var G,o=e(17626),R=e(86810),k=e(58817),A=e(77712),re=(e(90912),e(55342)),m=e(68653),N=e(76898),Z=e(99433),O=e(65468),K=e(79023);let V=G=class extends R.wq{constructor(W){super(W),this.colorRamp=null,this.computeGamma=!1,this.dynamicRangeAdjustment=!1,this.gamma=[],this.maxPercent=null,this.minPercent=null,this.numberOfStandardDeviations=null,this.outputMax=null,this.outputMin=null,this.sigmoidStrengthLevel=null,this.statistics=[],this.histograms=null,this.useGamma=!1,this.stretchType="none",this.type="raster-stretch"}readColorRamp(W){if(W)return(0,K.i)(W)}writeStatistics(W,_,E){W?.length&&(Array.isArray(W[0])||(W=W.map(v=>[v.min,v.max,v.avg,v.stddev])),_[E]=W)}readStretchType(W,_){let E=_.stretchType;return"number"==typeof E&&(E=O.J[E]),O.v.read(E)}clone(){return new G({stretchType:this.stretchType,outputMin:this.outputMin,outputMax:this.outputMax,useGamma:this.useGamma,computeGamma:this.computeGamma,statistics:(0,k.d9)(this.statistics),gamma:(0,k.d9)(this.gamma),sigmoidStrengthLevel:this.sigmoidStrengthLevel,numberOfStandardDeviations:this.numberOfStandardDeviations,minPercent:this.minPercent,maxPercent:this.maxPercent,colorRamp:(0,k.d9)(this.colorRamp),histograms:(0,k.d9)(this.histograms),dynamicRangeAdjustment:this.dynamicRangeAdjustment})}};(0,o._)([(0,A.Cb)({types:K.V,json:{write:!0}})],V.prototype,"colorRamp",void 0),(0,o._)([(0,m.r)("colorRamp")],V.prototype,"readColorRamp",null),(0,o._)([(0,A.Cb)({type:Boolean,json:{write:!0}})],V.prototype,"computeGamma",void 0),(0,o._)([(0,A.Cb)({type:Boolean,json:{write:{target:"dra"},read:{source:"dra"}}})],V.prototype,"dynamicRangeAdjustment",void 0),(0,o._)([(0,A.Cb)({type:[Number],json:{write:!0}})],V.prototype,"gamma",void 0),(0,o._)([(0,A.Cb)({type:Number,json:{write:!0}})],V.prototype,"maxPercent",void 0),(0,o._)([(0,A.Cb)({type:Number,json:{write:!0}})],V.prototype,"minPercent",void 0),(0,o._)([(0,A.Cb)({type:Number,json:{write:!0}})],V.prototype,"numberOfStandardDeviations",void 0),(0,o._)([(0,A.Cb)({type:Number,json:{read:{source:"max"},write:{target:"max"}}})],V.prototype,"outputMax",void 0),(0,o._)([(0,A.Cb)({type:Number,json:{read:{source:"min"},write:{target:"min"}}})],V.prototype,"outputMin",void 0),(0,o._)([(0,A.Cb)({type:Number,json:{write:!0}})],V.prototype,"sigmoidStrengthLevel",void 0),(0,o._)([(0,A.Cb)({json:{type:[[Number]],write:!0}})],V.prototype,"statistics",void 0),(0,o._)([(0,A.Cb)()],V.prototype,"histograms",void 0),(0,o._)([(0,Z.c)("statistics")],V.prototype,"writeStatistics",null),(0,o._)([(0,A.Cb)({type:Boolean,json:{write:!0}})],V.prototype,"useGamma",void 0),(0,o._)([(0,A.Cb)({type:O.v.apiValues,json:{type:O.v.jsonValues,write:O.v.write}})],V.prototype,"stretchType",void 0),(0,o._)([(0,m.r)("stretchType",["stretchType"])],V.prototype,"readStretchType",null),(0,o._)([(0,re.J)({rasterStretch:"raster-stretch"})],V.prototype,"type",void 0),V=G=(0,o._)([(0,N.j)("esri.renderers.RasterStretchRenderer")],V);const F=V},53785:(de,q,e)=>{e.d(q,{Z:()=>ae});var j,o=e(15861),R=e(17626),k=e(91558),Y=(e(29132),e(88879)),m=(e(20383),e(2076)),N=e(86810),Z=e(58817),O=e(77712),G=(e(90912),e(55342)),V=e(68653),F=e(76898),W=e(93555),_=e(30994),E=e(4832),v=e(98563),B=e(74400),n=e(13398),d=e(68598),u=e(81808),s=e(52068),y=e(57213),I=e(86606),C=e(72642),P=e(13546);const g=new Set(["esriMetersPerSecond","esriKilometersPerHour","esriKnots","esriFeetPerSecond","esriMilesPerHour"]),S=new m.X({beaufort_ft:"beaufort-ft",beaufort_km:"beaufort-km",beaufort_kn:"beaufort-kn",beaufort_m:"beaufort-m",beaufort_mi:"beaufort-mi",classified_arrow:"classified-arrow",ocean_current_kn:"ocean-current-kn",ocean_current_m:"ocean-current-m",simple_scalar:"simple-scalar",single_arrow:"single-arrow",wind_speed:"wind-barb"}),ee=new m.X({flow_from:"flow-from",flow_to:"flow-to"});let te=j=class extends((0,v.W)(N.wq)){constructor(H){super(H),this.attributeField="Magnitude",this.flowRepresentation="flow-from",this.rotationType="arithmetic",this.style="single-arrow",this.symbolTileSize=50,this.type="vector-field"}readInputUnit(H,D){return g.has(H)?_.NL.fromJSON(H):null}readOutputUnit(H,D){return g.has(H)?_.NL.fromJSON(H):null}get styleRenderer(){const D=this.attributeField,Q=this._createStyleRenderer(this.style);return Q.field=D,Q}get sizeVariables(){const H=[];if(this.visualVariables)for(const D of this.visualVariables)"size"===D.type&&H.push(D);if(0===H.length){const D=new d.Z({field:"Magnitude",minSize:.2*this.symbolTileSize,maxSize:.8*this.symbolTileSize});this.visualVariables?this.visualVariables.push(D):this._set("visualVariables",[D]),H.push(D)}return H}get rotationVariables(){const H=[];if(this.visualVariables)for(const D of this.visualVariables)"rotation"===D.type&&H.push(D);if(0===H.length){const D=new n.Z({field:"Direction",rotationType:this.rotationType});this.visualVariables?this.visualVariables.push(D):this._set("visualVariables",[D]),H.push(D)}return H}clone(){return new j({attributeField:this.attributeField,flowRepresentation:this.flowRepresentation,rotationType:this.rotationType,symbolTileSize:this.symbolTileSize,style:this.style,visualVariables:(0,Z.d9)(this.visualVariables),inputUnit:this.inputUnit,outputUnit:this.outputUnit})}getGraphicsFromPixelData(H,D=!1,Q=[]){var J=this;return(0,o.Z)(function*(){const ne=new Array,se=(0,_.Yx)(J.inputUnit,J.outputUnit),le=D?(0,_.KC)(H.pixelBlock,"vector-uv",J.rotationVariables[0]?.rotationType||J.rotationType,se):(0,_.QI)(H.pixelBlock,"vector-magdir",se);if(null==le)return ne;const _e=H.extent,Ce=null!=le.mask&&le.mask.length>0;let Ie=0;const Ee=(_e.xmax-_e.xmin)/le.width,he=(_e.ymax-_e.ymin)/le.height;for(let M=0;M<le.height;M++)for(let L=0;L<le.width;L++,Ie++){let U=new C.Z({x:_e.xmin+L*Ee+Ee/2,y:_e.ymax-M*he-he/2,spatialReference:_e.spatialReference});U=(yield(0,W.aX)(U))[0];const T=Q.some(z=>z.intersects(U));if((!Ce||le.mask[Ie])&&!T){const X=new Y.Z({geometry:{type:"point",x:U.x,y:U.y,spatialReference:_e.spatialReference},attributes:{Magnitude:le.pixels[0][Ie],Direction:le.pixels[1][Ie]}});X.symbol=J._getVisualVariablesAppliedSymbol(X),ne.push(X)}}return ne})()}getSymbol(H,D){}getSymbolAsync(H,D){return(0,o.Z)(function*(){})()}getSymbols(){return[]}getClassBreakInfos(){return this.styleRenderer?.classBreakInfos}getDefaultSymbol(){return this.styleRenderer?.defaultSymbol}_getDefaultSymbol(H){return new y.Z({path:"M14,32 14,18 9,23 16,3 22,23 17,18 17,32 z",outline:new s.Z({width:0}),size:20,color:H||new k.Z([0,92,230])})}_getVisualVariablesAppliedSymbol(H){if(!H)return;const D=this.styleRenderer?.getSymbol(H)?.clone(),Q=this.sizeVariables,J=this.rotationVariables;return Q&&Q.length&&this.sizeVariables.forEach(ne=>(0,I.e3)(D,(0,u.getAllSizes)([ne],H))),J&&J.length&&(H.attributes.Direction=H.attributes.Direction+("flow-to"===this.flowRepresentation==("ocean-current-kn"===this.style||"ocean-current-m"===this.style)?0:180),this.rotationVariables.forEach(se=>(0,I.BR)(D,(0,u.getRotationAngle)(se,H),se.axis))),D}_createStyleRenderer(H){let D={defaultSymbol:this._getDefaultSymbol(),classBreakInfos:[]};switch(H){case"single-arrow":D=this._createSingleArrowRenderer();break;case"beaufort-kn":D=this._createBeaufortKnotsRenderer();break;case"beaufort-m":D=this._createBeaufortMeterRenderer();break;case"beaufort-ft":D=this._createBeaufortFeetRenderer();break;case"beaufort-mi":D=this._createBeaufortMilesRenderer();break;case"beaufort-km":D=this._createBeaufortKilometersRenderer();break;case"ocean-current-m":D=this._createCurrentMeterRenderer();break;case"ocean-current-kn":D=this._createCurrentKnotsRenderer();break;case"simple-scalar":D=this._createSimpleScalarRenderer();break;case"wind-barb":D=this._createWindBarbsRenderer();break;case"classified-arrow":D=this._createClassifiedArrowRenderer()}return new E.Z(D)}_createSingleArrowRenderer(){return{defaultSymbol:this._getDefaultSymbol()}}_createBeaufortKnotsRenderer(){return{defaultSymbol:this._getDefaultSymbol(new k.Z([214,47,39])),classBreakInfos:this._getClassBreaks([0,1,3,6,10,16,21,27,33,40,47,55,63],[[40,146,199],[89,162,186],[129,179,171],[160,194,155],[191,212,138],[218,230,119],[250,250,100],[252,213,83],[252,179,102],[250,141,52],[247,110,42],[240,71,29]])}}_createBeaufortMeterRenderer(){return{defaultSymbol:this._getDefaultSymbol(new k.Z([214,47,39])),classBreakInfos:this._getClassBreaks([0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7],[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]])}}_createBeaufortFeetRenderer(){const H=this._getDefaultSymbol(new k.Z([214,47,39]));let D=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];return D=D.map(ne=>3.28084*ne),{defaultSymbol:H,classBreakInfos:this._getClassBreaks(D,[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]])}}_createBeaufortMilesRenderer(){const H=this._getDefaultSymbol(new k.Z([214,47,39]));let D=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];return D=D.map(ne=>2.23694*ne),{defaultSymbol:H,classBreakInfos:this._getClassBreaks(D,[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]])}}_createBeaufortKilometersRenderer(){const H=this._getDefaultSymbol(new k.Z([214,47,39]));let D=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];return D=D.map(ne=>3.6*ne),{defaultSymbol:H,classBreakInfos:this._getClassBreaks(D,[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]])}}_createCurrentMeterRenderer(){return{defaultSymbol:this._getDefaultSymbol(new k.Z([177,177,177])),classBreakInfos:this._getClassBreaks([0,.5,1,1.5,2],[[78,26,153],[179,27,26],[202,128,26],[177,177,177]])}}_createCurrentKnotsRenderer(){return{defaultSymbol:this._getDefaultSymbol(new k.Z([177,177,177])),classBreakInfos:this._getClassBreaks([0,.25,.5,1,1.5,2,2.5,3,3.5,4],[[0,0,0],[0,37,100],[78,26,153],[151,0,100],[179,27,26],[177,78,26],[202,128,26],[177,179,52],[177,177,177]])}}_createClassifiedArrowRenderer(){const H=this._getDefaultSymbol(new k.Z([56,168,0]));let D=[0,1e-6,3.5,7,10.5,14];if(this.sizeVariables?.length){const J=this.sizeVariables[0].minDataValue,ne=this.sizeVariables[0].maxDataValue;if(J&&ne){const se=(ne-J)/5;D=Array.from(Array(6).keys()).map(me=>J+se*me)}}return{defaultSymbol:H,classBreakInfos:this._getClassBreaks(D,[[56,168,0],[139,309,0],[255,255,0],[255,128,0],[255,0,0]])}}_createSimpleScalarRenderer(){return{defaultSymbol:P.Z.fromJSON({imageData:"iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAQAAABLVLlLAAAABGdBTUEAAYagMeiWXwAAAAJiS0dEAACqjSMyAAAACXBIWXMAAABIAAAASABGyWs+AAAC3ElEQVRIx9XXvW4cVRQH8N982btpsIREJECyiCXsxX4DKh6AliqGKCBBE2SlwlHgAbBD/AKmyEYUeQ1KahPZSZQvBCkQLTHZ7KGY8Xodz4w3a1NwbzVzz/znfJ//zbStVC5q3icKak9GAs2QIdDx3PtW/S011NW3p+M5Eomh11ipTIKe6+4LQzHaQ+G+63pIZNJJQXMpljwTwj1brpgx5w1zZlyx5Z4QnllEIm2xeeSUHBf0hV0bejo1Uh09G3aFvgXk7cCJFBc9EdaRVuHJJaOdKyTV2TVhYLMduNR0Q9gxL5GaaTDw8GzejrDRBpxWoGsySRW0dttKuattwNkIlFw2YXgzOdYq4Ox49PlM+JrKd5OusjTWhBuVxUfMX/KXXZ3WEmkuqa67wspR4BTbwtKr/5u4fFgStse/T7EifFPnnYl9zPq4vmUOPrRndgoHjDti1gOPqlyXoifcRNGQzUd31lDyfHmob1Gp35vSr+P6vilcQ5Egtyd8YF/ySg9NhPM+9M/IOaHwp5+PSZayXTvCogEUwlatC3J8LLwYtcWB8EuDXQVuCkV5/B4eNHb7wGBs87LBDS+xjdVSn09wq1G8dFM+9tSUhIGneLvUdniKxKpTYljCpu3j7rVWlHj/P23v4NPGUEyeCQnexe9lJjzEQqMjJs+EzNAX6B98dBZVRmroJx95x/A/6gln18EyfCUsl+qdXb/tjvfbw+mwforpUOBz4XLVoBwAn3aWnfeH246NyBXhrq7TTN5lNSP9RkU+puUJm3W2Tsdq0nZWM07srk7MwQrZSRysjjGWBLRJNsNbfj2JMR4AbxpU1XLAb9Mxfpsq5EjMuuiR8L0JiHOOBX3hiUvOmavN0nMueSzcceFk0BK4pMqLo7vDD1Z0qrtDx7Itt4Xwm9UqbMmk8S0Dtuzb2pvOU99Z1nLTOfleNmvfZfP2pYZmPfajwosKdDBNpacNpVGGsWX9CyDI8Xq/Sj6QAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE0LTExLTEwVDAzOjE3OjU4LTA1OjAwF+tHyQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxNC0xMS0xMFQwMzoxNzo1OC0wNTowMGa2/3UAAAAASUVORK5CYII=",height:20,width:20,type:"esriPMS",angle:0})}}_createWindBarbsRenderer(){const H=Array.from(Array(31).keys()).map(ne=>5*ne),D=[{range:"0-5",path:"M20 20 M5 20 A15 15 0 1 0 35 20 A15 15 0 1 0 5 20 M20 20 M10 20 A10 10 0 1 0 30 20 A10 10 0 1 0 10 20",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTIwIDIwIE01IDIwIEExNSAxNSAwIDEgMCAzNSAyMCBBMTUgMTUgMCAxIDAgNSAyMCBNMjAgMjAgTTEwIDIwIEExMCAxMCAwIDEgMCAzMCAyMCBBMTAgMTAgMCAxIDAgMTAgMjAiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"5-10",path:"M25 0 L25 40 M25 35 L17.5 37.5",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNyA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTTI1IDM1IEwxNy41IDM3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"10-15",path:"M25 0 L25 40 L10 45 L25 40",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNyA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTDEwIDQ1IEwyNSA0MCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"15-20",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L17.5 37.5",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjEyIDAgMTUgNDUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxNy41IDM3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"20-25",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNiA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTDEwIDQ1IEwyNSA0MCBNMjUgMzUgTDEwIDQwIiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"25-30",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L17.5 32.5",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNiA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTDEwIDQ1IEwyNSA0MCBNMjUgMzUgTDEwIDQwIEwyNSAzNSBNMjUgMzAgTDE3LjUgMzIuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"30-35",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"35-40",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L17.5 27.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxNy41IDI3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"40-45",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"45-50",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L17.5 22.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxNy41IDIyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"50-55",path:"M25 0 L25 40 L10 40 L25 35",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"55-60",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L17.5 32.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxNy41IDMyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"60-65",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"65-70",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L17.5 27.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxNy41IDI3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"70-75",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"75-80",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L17.5 22.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxNy41IDIyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"80-85",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"85-90",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L17.5 17.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSBMMjUgMjAgTTI1IDE1IEwxNy41IDE3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"90-95",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L10 20",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSBMMjUgMjAgTTI1IDE1IEwxMCAyMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"95-100",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L10 20 L25 15 M25 10 L17.5 12.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSBMMjUgMjAgTTI1IDE1IEwxMCAyMCBMMjUgMTUgTTI1IDEwIEwxNy41IDEyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"100-105",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"105-110",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L17.5 27.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDE3LjUgMjcuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"110-115",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"115-120",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L17.5 22.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDE3LjUgMjIuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"120-125",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"125-130",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L17.5 17.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDE3LjUgMTcuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"130-135",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"135-140",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L17.5 12.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIE0yNSAxNSBNMjUgMTAgTDE3LjUgMTIuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"140-145",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L17.5 12.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIE0yNSAxNSBNMjUgMTAgTDEwIDE1IiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"145-150",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L17.5 12.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIE0yNSAxNSBNMjUgMTAgTDEwIDE1IE0yNSAxMCBNMjUgNSBMMTcuNSA3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="}],Q=P.Z.fromJSON({imageData:"iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAQAAADtq6NDAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAJiS0dEAP+Hj8y/AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAEY0lEQVRIx5XXWWxWRRQH8N+d+31tUdGAVjGglYJABFEBY91jfDAg7piYaFTccA++uMQEFRcSXlATtxiXqMQt4G4iisYl0ai4sIQYtVFZ1KIFKdTS0l4f7vRCS5fPebozc+bM/2z/Mzcx0AgSiUxXnKfIdMn875FIhX53U2n/B/s+kKM4UINTjTBZImixxnrv+9a2iL6zEoUBXcoudrWj/OtHm3wt02lfU9Qao9OnHvIhgmww84MEl1qnxfNmGrqHxAizLdPpC6chGcAxKGGcL+30gOERf1BSpUqVslQSV8d5ReZFe8VQ9avufJn31cWwlJV7iafKStGOE/1qvfH9qUxxu8ydUdmuSKbGO8YUdT2inKLG69pM70tliktl5qIkCAJGmusDG7Vqsc0WjZa4UBlBiA5YZIcjYzB7qDtH5kaUJFLs7RGZTZ42W4PRRmtwvbdt1+wGiaS4drEtDttdZYIDNVuAclR3vA3+dI3qHqmVSy7U6Tv1MScCPvPR7nIpFlsdCy3FdTLPGhK92e2CUITjMJ9ocwKxnsZqc3O3JwMma3d6UVLnyVxB4aXemZqvPqLdpJhW3KVVbY4yYImPo6M5Urv50fj+0z/FG9YaEiENs8UtMfXUaTeTePNHlhXfA1UU+2lyD1Il3Gtt9+adfpNG7dNlpg2U/T3KYLZ2dUWFdTgp3/rQ4sK973qnInV5TIf40x3dhvrJPBiqyWUo4wAtLqhQYS71qK+QKOFRywmGK/kpikzV6WMKhh58vGWs4TIJNjiEYLIuP8Tt4/zmLyqk+AyrJSbF+Qq1DgqRUPMxyl+9q3IQhX/rMCJ6tEunriDs1oSyQZKlr9AkhT2ZIARbJfaJS1vtVbHB+Rgi0RK/y1q1BWsEEyLoz40xtGKcARPVWB1BTPO7f4LNtpkUl1aoMbViLyZo0GRjPD3BxnxjqXeLYlvhqYrzMMG3HoyJXa3JjfnGlbYYFlP7Jh3qKsKY4hQ7TY0nG+xwRL61n63mxHtqNHosigyMLmClNwvuecFnOZB88nNBDzNkzhxEZaKMBVoKapggMzvHHXBEpNSSFAvtcFRsVn0bW8LlMmcXs+c0Kne3gRR32+zg4uXwjC6zit6Wt4a8LXVfcp/MtQXHn2ynGbuCmb8GvvFeJLEE82ReU9/n6+dkq2x3buG9Wn94smcgAw631RPR7BTH+kbmHReZoEpOdEe7zWqZl40s0JWs9Hmv7hjBHqPDwsjGKVJnWWqjbdZp1KhJi0aPmxYZsIRhlttgeF+Jlke41QcOQKoqilSb6HJzSvNG3G/UoWnxwsmt+sVaYwd63dRbqdnMyCPVeyRPvpYgdavM22oGKoMUVRbJfOWMwidJ8Zzb1UvmWK/VVUXzHaTjjrVYh1897HT7xxYEVUaa5SWb/WO+YUWa9SrwvigzM8YlzlYv2GSdVCYxxlBtVnnFq5olwp5/BEk/OLsf5LUmG2+inRJdVvjZ97ZH9/zP34ug1O91pf4p+D+JYBpvrKxfbwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNC0xMS0xMFQwMzoxMjowOS0wNTowMB9ViV0AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTQtMTEtMTBUMDM6MTI6MDktMDU6MDBuCDHhAAAAAElFTkSuQmCC",height:20,width:20,type:"esriPMS",angle:0}),J=H.map((ne,se)=>{let me;if(se!==H.length-1)if(0===se)me={minValue:ne,maxValue:H[se+1],symbol:Q};else{const le=P.Z.fromJSON({type:"esriPMS",imageData:D[se].imageData,contentType:"image/svg+xml",height:32,width:32,angle:0});me={minValue:ne,maxValue:H[se+1],symbol:le}}return new B.Z(me)});return{defaultSymbol:Q,classBreakInfos:J}}_getClassBreaks(H,D){return D.map((Q,J)=>new B.Z({minValue:H[J],maxValue:H[J+1],symbol:this._getDefaultSymbol(new k.Z(Q))}))}};(0,R._)([(0,O.Cb)({type:String,json:{write:!0}})],te.prototype,"attributeField",void 0),(0,R._)([(0,O.Cb)({type:ee.apiValues,json:{type:ee.jsonValues,read:{reader:ee.read},write:{writer:ee.write}}})],te.prototype,"flowRepresentation",void 0),(0,R._)([(0,O.Cb)({type:["geographic","arithmetic"],json:{write:!0}})],te.prototype,"rotationType",void 0),(0,R._)([(0,O.Cb)({type:S.apiValues,json:{type:S.jsonValues,read:{reader:S.read},write:{writer:S.write}}})],te.prototype,"style",void 0),(0,R._)([(0,O.Cb)({json:{write:!0}})],te.prototype,"symbolTileSize",void 0),(0,R._)([(0,O.Cb)({type:_.NL.apiValues,json:{type:_.NL.jsonValues,write:{writer:_.NL.write}}})],te.prototype,"inputUnit",void 0),(0,R._)([(0,V.r)("inputUnit")],te.prototype,"readInputUnit",null),(0,R._)([(0,O.Cb)({type:_.NL.apiValues,json:{type:_.NL.jsonValues,read:{reader:_.NL.read},write:{writer:_.NL.write}}})],te.prototype,"outputUnit",void 0),(0,R._)([(0,V.r)("outputUnit")],te.prototype,"readOutputUnit",null),(0,R._)([(0,G.J)({vectorField:"vector-field"})],te.prototype,"type",void 0),(0,R._)([(0,O.Cb)({type:E.Z})],te.prototype,"styleRenderer",null),(0,R._)([(0,O.Cb)({type:d.Z})],te.prototype,"sizeVariables",null),(0,R._)([(0,O.Cb)({type:n.Z})],te.prototype,"rotationVariables",null),te=j=(0,R._)([(0,F.j)("esri.renderers.VectorFieldRenderer")],te);const ae=te},8341:(de,q,e)=>{e.d(q,{FI:()=>j,In:()=>C,Ob:()=>y,U0:()=>I,YD:()=>g,ol:()=>Ie});var o=e(91558),A=(e(90885),e(16730),e(36255)),re=(e(12492),e(15312)),N=(e(74400),e(70208)),Z=e(89725),O=e(87266),V=(e(8377),e(19556),e(75414)),F=e(65539),W=e(73640),_=e(76511),B=(e(15177),e(4832),e(53785));const n=.25,d=V.Z.fromJSON({type:"multipart",colorRamps:[{fromColor:[0,0,255],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]}]}),u=V.Z.fromJSON(N.xK[0]),s=new Set(["scientific","standard-time","vector-uv","vector-magdir","vector-u","vector-v","vector-magnitude","vector-direction"]);function y(M,L){const{attributeTable:U,colormap:T}=M;if((0,Z.LV)(M)){const z=function _e(M){if(!(0,Z.LV)(M))return null;let L;if(null!=M.statistics&&M.statistics.length&&("vector-magdir"===M.dataType||"vector-uv"===M.dataType)){const{minMagnitude:z,maxMagnitude:X}=function he(M,L){let U,T;if("vector-magdir"===M)U=L[0].min,T=L[0].max;else{const X=L[0].max,$=L[1].min,oe=L[1].max;U=0,T=Math.max(Math.abs(L[0].min),Math.abs($),Math.abs(X),Math.abs(oe))}return{minMagnitude:U,maxMagnitude:T}}(M.dataType,M.statistics);L=[{type:"size",field:"Magnitude",minSize:10,maxSize:40,minDataValue:z,maxDataValue:X}]}const U=null!=M.multidimensionalInfo?le.get(M.multidimensionalInfo.variables[0].unit):null,T=new B.Z({visualVariables:L,inputUnit:U,rotationType:"geographic"});return T.visualVariables=[...T.sizeVariables,...T.rotationVariables],T}(M);if(null!=z)return z}if(null!=T){const z=function J(M){if(!(0,Z.mO)(M))return null;let L;const{attributeTable:U,colormap:T}=M;if(null!=U){const z=Q(U,"value"),X=H(U,null,!0);"string"===X.type&&(L={},U.features.forEach($=>{const oe=$.attributes;L[oe[z.name]]=X?oe[X.name]:oe[z.name]}))}return _.Z.createFromColormap(T,L)}(M);if(null!=z)return z}if(null!=U){const z=function ae(M,L,U,T){if(!(0,Z.MG)(M,L))return null;const{attributeTable:z,statistics:X}=M,$=H(z,L),oe=Q(z,"red"),ge=Q(z,"green"),ye=Q(z,"blue"),Me=new re.Z,ce=[],Ae=new Set,we=!!(oe&&ge&&ye);if(null!=z)z.features.forEach(ie=>{const pe=ie.attributes[$.name];if(!Ae.has(ie.attributes[$.name])&&null!=pe){Ae.add(pe);const je=!we||"single"!==oe.type&&"double"!==oe.type||"single"!==ge.type&&"double"!==ge.type||"single"!==ye.type&&"double"!==ye.type||z.features.some(ue=>ue.attributes[oe.name]>1||ue.attributes[ge.name]>1||ue.attributes[ye.name]>1)?1:255;ce.push(new O.Z({value:ie.attributes[$.name],label:ie.attributes[$.name]+"",symbol:{type:"simple-fill",style:"solid",outline:null,color:new o.Z(we?[ie.attributes[oe.name]*je,ie.attributes[ge.name]*je,ie.attributes[ye.name]*je,1]:[0,0,0,0])}}))}});else if(X?.[0])for(let ie=X[0].min;ie<=X[0].max;ie++)ce.push(new O.Z({value:ie,label:ie.toString(),symbol:{type:"simple-fill",style:"solid",outline:null,color:new o.Z([0,0,0,0])}}));if(ce.sort((ie,pe)=>ie.value&&"string"==typeof ie.value.valueOf()?0:ie.value>pe.value?1:-1),!we){const ie=(0,N.Jw)(u,{numColors:ce.length});ce.forEach((pe,De)=>pe.symbol.color=new o.Z(ie[De].slice(1,4))),Me.colorRamp=u}if(U||T){const ie=U||(0,N.Jw)(T,{numColors:ce.length}).map(pe=>pe.slice(1));ce.forEach((pe,De)=>pe.symbol.color=new o.Z(ie[De])),Me.colorRamp=T}return new W.Z({field:$.name,uniqueValueInfos:ce,authoringInfo:Me})}(M);if(null!=z)return z}return function P(M,L){M=j(M,L?.variableName);const{bandCount:U}=M;let{bandIds:T,stretchType:z}=L||{};T?.some(ce=>ce>=U)&&(T=null);let X=M.statistics,$=M.histograms;U>1?(T=T?.length?T:g(M),X=null==X?null:T?.map(ce=>X[ce]),$=null==$?null:T?.map(ce=>$[ce])):T=[0],null==z&&(z=function te(M){let L="percent-clip";const{pixelType:U,dataType:T,histograms:z,statistics:X,multidimensionalInfo:$}=M,oe=s.has(T)||"generic"===T&&null!=$;return"u8"!==U||"processed"!==T&&null!=z&&null!=X?"u8"===U||"elevation"===T||oe?L="min-max":null!=z?L="percent-clip":null!=X&&(L="min-max"):L="none",L}(M));let oe=!1;switch(z){case"none":oe=!1;break;case"percent-clip":oe=!$?.length;break;default:oe=!X?.length}const{dataType:ge}=M,ye=1===T?.length&&s.has(ge)?d:null,Me=new F.Z({stretchType:z,dynamicRangeAdjustment:oe,colorRamp:ye,outputMin:0,outputMax:255,gamma:1===T?.length?[1]:[1,1,1],useGamma:!1});return"percent-clip"===z?Me.maxPercent=Me.minPercent=n:"standard-deviation"===z&&(Me.numberOfStandardDeviations=2),oe||null==M.multidimensionalInfo&&!L?.includeStatisticsInStretch||("percent-clip"===z?Me.histograms=$:"min-max"!==z&&"standard-deviation"!==z||(Me.statistics=X)),Me}(M,L)}function I(M,L=!1){const U=["raster-stretch"];return(0,Z.mO)(M,L)&&U.push("raster-colormap"),(0,Z.MG)(M)&&U.push("unique-value"),(0,Z.fI)(M,L)&&U.push("class-breaks"),(0,Z.jX)(M)&&U.push("raster-shaded-relief"),(0,Z.LV)(M)&&U.push("vector-field"),(0,Z.aG)(M)&&U.push("flow"),U}function C(M,L,U){const T=["nearest","bilinear","cubic","majority"].find(z=>z===U?.toLowerCase());return"Map"===L?T??"bilinear":"standard-time"===M.dataType?T??"nearest":"thematic"===M.dataType||M.attributeTable||M.colormap?"nearest"===T||"majority"===T?T:"nearest":T??"bilinear"}function j(M,L){const{multidimensionalInfo:U}=M;if(!L||!U)return M;const T=U.variables.find(z=>z.name===L);if(!T)return M;if(M=M.clone(),T){const{statistics:z,histograms:X}=T;z?.length&&(M.statistics=z.map($=>({min:$.min,max:$.max,avg:$.avg,stddev:$.stddev}))),X?.length&&(M.histograms=X)}return M}function g(M){const L=M.bandCount;if(1===L)return null;if(2===L)return[0];const{bandInfos:U}=M;let T;if(U.length===L){const{red:z,green:X,blue:$,nir:oe}=function ee(M){const L={};for(let U=0;U<M.length;U++){const T=M[U],z=T.name.toLowerCase();if("red"===z)L.red=U;else if("green"===z)L.green=U;else if("blue"===z)L.blue=U;else if("nearinfrared"===z||"nearinfrared_1"===z||"nir"===z)L.nir=U;else if(T.maxWavelength&&T.minWavelength){const X=T.minWavelength,$=T.maxWavelength;null==L.blue&&X>=410&&X<=480&&$>=480&&$<=540?L.blue=U:null==L.green&&X>=490&&X<=560&&$>=560&&$<=610?L.green=U:null==L.red&&X>=595&&X<=670&&$>=660&&$<=730?L.red=U:null==L.nir&&X>=700&&X<=860&&$>=800&&$<=950&&(L.nir=U)}}return L}(U);null!=z&&null!=X&&null!=$?T=[z,X,$]:null!=oe&&null!=z&&null!=X&&(T=[oe,z,X])}return!T&&L>=3&&(T=[0,1,2]),T}function H(M,L,U){let T;return null!=M?(T=L?M.fields.find(z=>L.toLowerCase()===z.name.toLowerCase()):function D(M){let L;for(let U=0;U<M.length;U++){const T=M[U].name.toLowerCase();if("string"===M[U].type){if(T.startsWith("class")){L=M[U];break}null==L&&(T.endsWith("name")||T.endsWith("type"))&&(L=M[U])}}return L}(M.fields),T||(U||(T=M.fields.find(z=>"string"===z.type)),T||(T=Q(M,"value")))):T=new A.Z({name:"value"}),T}function Q(M,L){return null==M?null:M.fields.find(U=>U.name.toLowerCase()===L)}const le=new Map([["m/s","meter-per-second"],["km/h","kilometer-per-hour"],["knots","knots"],["ft/s","feet-per-second"],["mph","mile-per-hour"]]);function Ce(M){return{color:M.symbolLayers[0].material?.color,type:"esriSFS",style:"esriSFSSolid"}}function Ie(M){if("uniqueValue"===M.type){const L=M.uniqueValueInfos;return L?.[0].symbol?.symbolLayers?.length&&(M.uniqueValueInfos=L?.map(T=>({value:T.value,label:T.label,symbol:T.symbol?Ce(T.symbol):null}))),M}if("classBreaks"===M.type){const L=M.classBreakInfos;return L[0].symbol?.symbolLayers?.length&&(M.classBreakInfos=L.map(T=>({classMinValue:T.classMinValue,classMaxValue:T.classMaxValue,label:T.label,symbol:T.symbol?Ce(T.symbol):null}))),M}return M}},99208:(de,q,e)=>{e.d(q,{Nb:()=>G,gh:()=>K,n$:()=>V});var o=e(15861),R=e(84792),k=e(2004),A=e(72642),Y=e(65234),re=e(84727),m=e(2618),N=e(17253);function Z(F,W,_){return O.apply(this,arguments)}function O(){return(O=(0,o.Z)(function*(F,W,_){const E=(0,m.en)(F),{rasterFunction:v,sourceJSON:B}=W||{},n=v?JSON.stringify(v.rasterFunctionDefinition||v):null,d=(0,m.cv)({...E.query,renderingRule:n,f:"json"}),u=(0,m.lA)(d,_);F=E.path;const s=B||(yield(0,R.Z)(F,u).then(M=>M.data)),y=s.hasRasterAttributeTable?(0,R.Z)(`${F}/rasterAttributeTable`,u):null,I=s.hasColormap?(0,R.Z)(`${F}/colormap`,u):null,C=s.hasHistograms?(0,R.Z)(`${F}/histograms`,u):null,P=s.currentVersion>=10.3?(0,R.Z)(`${F}/keyProperties`,u):null,j=s.hasMultidimensions?(0,R.Z)(`${F}/multidimensionalInfo`,u):null,g=yield Promise.allSettled([y,I,C,P,j]);let S=null;if(s.minValues&&s.minValues.length===s.bandCount){S=[];for(let M=0;M<s.minValues.length;M++)S.push({min:s.minValues[M],max:s.maxValues[M],avg:s.meanValues[M],stddev:s.stdvValues[M]})}const ee=k.Z.fromJSON(s.extent),te=Math.ceil(ee.width/s.pixelSizeX-.1),ae=Math.ceil(ee.height/s.pixelSizeY-.1),H=Y.Z.fromJSON(s.spatialReference||s.extent.spatialReference),D="fulfilled"===g[0].status?g[0].value?.data:null,Q=D?.features?.length?N.Z.fromJSON(D):null,J="fulfilled"===g[1].status?g[1].value?.data.colormap:null,ne=J?.length?J:null,se="fulfilled"===g[2].status?g[2].value?.data.histograms:null,me=se?.[0]?.counts?.length?se:null,le="fulfilled"===g[3].status?g[3].value?.data??{}:{},_e="fulfilled"===g[4].status?g[4].value?.data.multidimensionalInfo:null,Ce=_e?.variables?.length?_e:null;Ce&&Ce.variables.forEach(M=>{M.statistics?.length&&M.statistics.forEach(L=>{L.avg=L.mean,L.stddev=L.standardDeviation})});const{defaultVariable:Ie,serviceDataType:Ee}=s;Ie&&Ie!==le.DefaultVariable&&(le.DefaultVariable=Ie),Ee?.includes("esriImageServiceDataTypeVector")&&!Ee.includes(le.DataType)&&(le.DataType=Ee.replace("esriImageServiceDataType",""));let he=s.noDataValue;return s.noDataValues?.length&&s.noDataValues.some(M=>M!==he)&&(he=s.noDataValues),new re.Z({width:te,height:ae,bandCount:s.bandCount,extent:k.Z.fromJSON(s.extent),spatialReference:H,pixelSize:new A.Z({x:s.pixelSizeX,y:s.pixelSizeY,spatialReference:H}),pixelType:s.pixelType.toLowerCase(),statistics:S,attributeTable:Q,colormap:ne,histograms:me,keyProperties:le,noDataValue:he,multidimensionalInfo:Ce})})).apply(this,arguments)}function K(F,W,_){return Z(F,{sourceJSON:W},_)}function G(F,W,_){return Z(F,{rasterFunction:W},_)}function V(F,W){F.attributeTable||(W.hasRasterAttributeTable=!1),F.histograms||(W.hasHistograms=!1),F.colormap||(W.hasColormap=!1),F.multidimensionalInfo||(W.hasMultidimensions=!1)}},8377:(de,q,e)=>{e.d(q,{Z:()=>V});var o=e(17626),R=e(2076),k=e(86810),A=e(77712),N=(e(90912),e(85931),e(8314),e(55342)),Z=e(76898);const O=new R.X({esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation",esriClassifyDefinedInterval:"defined-interval"}),K=new R.X({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});let G=class extends k.wq{constructor(F){super(F),this.type="class-breaks-definition",this.breakCount=null,this.classificationField=null,this.classificationMethod=null,this.normalizationField=null,this.normalizationType=null}set standardDeviationInterval(F){"standard-deviation"===this.classificationMethod&&this._set("standardDeviationInterval",F)}set definedInterval(F){"defined-interval"===this.classificationMethod&&this._set("definedInterval",F)}};(0,o._)([(0,N.J)({classBreaksDef:"class-breaks-definition"})],G.prototype,"type",void 0),(0,o._)([(0,A.Cb)({json:{write:!0}})],G.prototype,"breakCount",void 0),(0,o._)([(0,A.Cb)({json:{write:!0}})],G.prototype,"classificationField",void 0),(0,o._)([(0,A.Cb)({type:String,json:{read:O.read,write:O.write}})],G.prototype,"classificationMethod",void 0),(0,o._)([(0,A.Cb)({json:{write:!0}})],G.prototype,"normalizationField",void 0),(0,o._)([(0,A.Cb)({json:{read:K.read,write:K.write}})],G.prototype,"normalizationType",void 0),(0,o._)([(0,A.Cb)({value:null,json:{write:!0}})],G.prototype,"standardDeviationInterval",null),(0,o._)([(0,A.Cb)({value:null,json:{write:!0}})],G.prototype,"definedInterval",null),G=(0,o._)([(0,Z.j)("esri.rest.support.ClassBreaksDefinition")],G);const V=G},27599:(de,q,e)=>{e.d(q,{Z:()=>v});var _,o=e(17626),R=e(29132),k=e(97478),A=e(55538),Y=e(86810),re=e(58817),m=e(63290),N=e(77712),O=(e(90912),e(76898)),K=e(99433),G=e(91179),V=e(20145),F=e(85436),W=e(72642);let E=_=class extends Y.wq{constructor(){super(...arguments),this.geometry=null,this.mosaicRule=null,this.rasterFunction=null,this.pixelSize=null,this.raster=void 0,this.timeExtent=null}writeGeometry(B,n,d){null!=B&&(n.geometryType=(0,G.Ji)(B),n[d]=B.toJSON())}get renderingRule(){return(0,A.Mr)(m.Z.getLogger(this),"renderingRule",{replacement:"rasterFunction",version:"4.27",warnOnce:!0}),this._get("rasterFunction")}set renderingRule(B){(0,A.Mr)(m.Z.getLogger(this),"renderingRule",{replacement:"rasterFunction",version:"4.27",warnOnce:!0}),this._set("rasterFunction",B)}clone(){return new _((0,re.d9)({geometry:this.geometry,mosaicRule:this.mosaicRule,rasterFunction:this.rasterFunction,pixelSize:this.pixelSize,raster:this.raster,timeExtent:this.timeExtent}))}};(0,o._)([(0,N.Cb)({types:R.qM,json:{read:G.im}})],E.prototype,"geometry",void 0),(0,o._)([(0,K.c)("geometry")],E.prototype,"writeGeometry",null),(0,o._)([(0,N.Cb)({type:V.Z,json:{write:!0}})],E.prototype,"mosaicRule",void 0),(0,o._)([(0,N.Cb)({type:F.Z})],E.prototype,"renderingRule",null),(0,o._)([(0,N.Cb)({type:F.Z,json:{write:!0,name:"renderingRule"}})],E.prototype,"rasterFunction",void 0),(0,o._)([(0,N.Cb)({type:W.Z,json:{write:!0}})],E.prototype,"pixelSize",void 0),(0,o._)([(0,N.Cb)({json:{write:!0}})],E.prototype,"raster",void 0),(0,o._)([(0,N.Cb)({type:k.Z,json:{read:{source:"time"},write:{target:"time"}}})],E.prototype,"timeExtent",void 0),E=_=(0,o._)([(0,O.j)("esri.rest.support.ImageHistogramParameters")],E);const v=E},19556:(de,q,e)=>{e.d(q,{k:()=>Y});const R=e(63290).Z.getLogger("esri.rest.support.generateRendererUtils");function k(_,E){return Number(_.toFixed(E))}function Y(_){const{normalizationTotal:E}=_;return{classBreaks:re(_),normalizationTotal:E}}function re(_){const E=_.definition,{classificationMethod:v,normalizationType:B,definedInterval:n}=E,d=E.breakCount??1,u=[];let s=_.values;if(0===s.length)return[];s=s.sort((C,P)=>C-P);const y=s[0],I=s[s.length-1];if("equal-interval"===v)if(s.length>=d){const C=(I-y)/d;let P=y;for(let j=1;j<d;j++){const g=k(y+j*C,6);u.push({minValue:P,maxValue:g,label:m(P,g,B)}),P=g}u.push({minValue:P,maxValue:I,label:m(P,I,B)})}else s.forEach(C=>{u.push({minValue:C,maxValue:C,label:m(C,C,B)})});else if("natural-breaks"===v){const C=function N(_){const E=[],v=[];let B=Number.MIN_VALUE,n=1,d=-1;for(let u=0;u<_.length;u++){const s=_[u];s===B?(n++,v[d]=n):null!==s&&(E.push(s),B=s,n=1,v.push(n),d++)}return{uniqueValues:E,valueFrequency:v}}(s),j=function Z(_,E,v){const B=_.length,n=[];v>B&&(v=B);for(let u=0;u<v;u++)n.push(Math.round(u*B/v-1));n.push(B-1);let d=O(n,_,E,v);return function K(_,E,v,B,n,d){let u=0,s=0,y=0,I=0,C=!0;for(let P=0;P<2&&C;P++){0===P&&(C=!1);for(let j=0;j<d-1;j++)for(;v[j+1]+1!==v[j+2];){v[j+1]=v[j+1]+1;const g=W(j,v,B,n);y=g.sbMean,u=g.sbSdcm;const S=W(j+1,v,B,n);if(I=S.sbMean,s=S.sbSdcm,!(u+s<E[j]+E[j+1])){v[j+1]=v[j+1]-1;break}E[j]=u,E[j+1]=s,_[j]=y,_[j+1]=I,C=!0}for(let j=d-1;j>0;j--)for(;v[j]!==v[j-1]+1;){v[j]=v[j]-1;const g=W(j-1,v,B,n);y=g.sbMean,u=g.sbSdcm;const S=W(j,v,B,n);if(I=S.sbMean,s=S.sbSdcm,!(u+s<E[j-1]+E[j])){v[j]=v[j]+1;break}E[j-1]=u,E[j]=s,_[j-1]=y,_[j]=I,C=!0}}return C}(d.mean,d.sdcm,n,_,E,v)&&(d=O(n,_,E,v)),n}(C.uniqueValues,_.valueFrequency||C.valueFrequency,d);let g=y;for(let S=1;S<d;S++)if(C.uniqueValues.length>S){const ee=k(C.uniqueValues[j[S]],6);u.push({minValue:g,maxValue:ee,label:m(g,ee,B)}),g=ee}u.push({minValue:g,maxValue:I,label:m(g,I,B)})}else if("quantile"===v)if(s.length>=d&&y!==I){let C=y,P=Math.ceil(s.length/d),j=0;for(let g=1;g<d;g++){let S=P+j-1;S>s.length&&(S=s.length-1),S<0&&(S=0),u.push({minValue:C,maxValue:s[S],label:m(C,s[S],B)}),C=s[S],j+=P,P=Math.ceil((s.length-j)/(d-g))}u.push({minValue:C,maxValue:I,label:m(C,I,B)})}else{let C=-1;for(let P=0;P<s.length;P++){const j=s[P];j!==C&&(C=j,u.push({minValue:C,maxValue:j,label:m(C,j,B)}),C=j)}}else if("standard-deviation"===v){const C=function V(_){let E=0;for(let v=0;v<_.length;v++)E+=_[v];return E/=_.length,E}(s),P=function F(_,E){let v=0;for(let B=0;B<_.length;B++){const n=_[B];v+=(n-E)*(n-E)}return v/=_.length,Math.sqrt(v)}(s,C);if(0===P)u.push({minValue:s[0],maxValue:s[0],label:m(s[0],s[0],B)});else{const j=function G(_,E,v,B,n){let d=Math.max(B-_,E-B)/n/v;return d=d>=1?1:d>=.5?.5:.25,d}(y,I,d,C,P)*P;let g=0,S=y;for(let te=d;te>=1;te--){const ae=k(C-(te-.5)*j,6);u.push({minValue:S,maxValue:ae,label:m(S,ae,B)}),S=ae,g++}let ee=k(C+.5*j,6);u.push({minValue:S,maxValue:ee,label:m(S,ee,B)}),S=ee,g++;for(let te=1;te<=d;te++)ee=g===2*d?I:k(C+(te+.5)*j,6),u.push({minValue:S,maxValue:ee,label:m(S,ee,B)}),S=ee,g++}}else if("defined-interval"===v){if(!n)return u;const C=s[0],P=s[s.length-1],j=Math.ceil((P-C)/n);let g=C;for(let S=1;S<j;S++){const ee=k(C+S*n,6);u.push({minValue:g,maxValue:ee,label:m(g,ee,B)}),g=ee}u.push({minValue:g,maxValue:P,label:m(g,P,B)})}return u}function m(_,E,v){let B=null;return B=_===E?v&&"percent-of-total"===v?_+"%":_.toString():v&&"percent-of-total"===v?_+"% - "+E+"%":_+" - "+E,B}function O(_,E,v,B){let n=[],d=[],u=[],s=0;const y=[],I=[];for(let g=0;g<B;g++){const S=W(g,_,E,v);y.push(S.sbMean),I.push(S.sbSdcm),s+=I[g]}let C,P=s,j=!0;for(;j||s<P;){j=!1,n=[];for(let g=0;g<B;g++)n.push(_[g]);for(let g=0;g<B;g++)for(let S=_[g]+1;S<=_[g+1];S++)if(C=E[S],g>0&&S!==_[g+1]&&Math.abs(C-y[g])>Math.abs(C-y[g-1]))_[g]=S;else if(g<B-1&&_[g]!==S-1&&Math.abs(C-y[g])>Math.abs(C-y[g+1])){_[g+1]=S-1;break}P=s,s=0,d=[],u=[];for(let g=0;g<B;g++){d.push(y[g]),u.push(I[g]);const S=W(g,_,E,v);y[g]=S.sbMean,I[g]=S.sbSdcm,s+=I[g]}}if(s>P){for(let g=0;g<B;g++)_[g]=n[g],y[g]=d[g],I[g]=u[g];s=P}return{mean:y,sdcm:I}}function W(_,E,v,B){let n=0,d=0;for(let y=E[_]+1;y<=E[_+1];y++){const I=B[y];n+=v[y]*I,d+=I}d<=0&&R.warn("Exception in Natural Breaks calculation");const u=n/d;let s=0;for(let y=E[_]+1;y<=E[_+1];y++)s+=B[y]*(v[y]-u)**2;return{sbMean:u,sbSdcm:s}}},20885:(de,q,e)=>{var o,R;e.d(q,{x:()=>o}),(R=o||(o={}))[R.SAVE=0]="SAVE",R[R.SAVE_AS=1]="SAVE_AS"}}]);