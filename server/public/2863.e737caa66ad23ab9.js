"use strict";(self.webpackChunkCRIS=self.webpackChunkCRIS||[]).push([[2863],{3579:(At,Tt,X)=>{X.d(Tt,{J:()=>bt});var dt,H,lt,Y=X(1719),_t={exports:{}};dt=_t,void 0!==(lt=function(){function a(it){this.message="JPEG error: "+it}return(a.prototype=new Error).name="JpegError",a.constructor=a,a}(),H=function(){if(!self||!self.Uint8ClampedArray)return null;var a=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),it=4017,mt=799,ot=3406,at=2276,J=1567,Z=3784,V=5793,$=2896;function et(){this.decodeTransform=null,this.colorTransform=-1}function ht(c,u){for(var d,i,o=0,l=[],s=16;s>0&&!c[s-1];)s--;l.push({children:[],index:0});var g,S=l[0];for(d=0;d<s;d++){for(i=0;i<c[d];i++){for((S=l.pop()).children[S.index]=u[o];S.index>0;)S=l.pop();for(S.index++,l.push(S);l.length<=d;)l.push(g={children:[],index:0}),S.children[S.index]=g.children,S=g;o++}d+1<s&&(l.push(g={children:[],index:0}),S.children[S.index]=g.children,S=g)}return l[0].children}function m(c,u,d){return 64*((c.blocksPerLine+1)*u+d)}function C(c,u,d,i,o,l,s,g,S){var W=d.mcusPerLine,N=u,F=0,K=0;function k(){if(K>0)return K--,F>>K&1;if(255===(F=c[u++])){var U=c[u++];if(U)throw new lt("unexpected marker "+(F<<8|U).toString(16))}return K=7,F>>>7}function B(U){for(var z=U;;){if("number"==typeof(z=z[k()]))return z;if("object"!=typeof z)throw new lt("invalid huffman sequence")}}function M(U){for(var z=0;U>0;)z=z<<1|k(),U--;return z}function f(U){if(1===U)return 1===k()?1:-1;var z=M(U);return z>=1<<U-1?z:z+(-1<<U)+1}var D,v=0,rt=0;function h(U,z,q,nt,ft){z(U,m(U,(q/W|0)*U.v+nt,q%W*U.h+ft))}var w,P,_,O,L,j,G=i.length;j=d.progressive?0===l?0===g?function e(U,z){var q=B(U.huffmanTableDC),nt=0===q?0:f(q)<<S;U.blockData[z]=U.pred+=nt}:function y(U,z){U.blockData[z]|=k()<<S}:0===g?function I(U,z){if(v>0)v--;else for(var q=l,nt=s;q<=nt;){var ft=B(U.huffmanTableAC),Ct=15&ft,gt=ft>>4;if(0!==Ct){var wt=a[q+=gt];U.blockData[z+wt]=f(Ct)*(1<<S),q++}else{if(gt<15){v=M(gt)+(1<<gt)-1;break}q+=16}}}:function b(U,z){for(var q,nt,ft=l,Ct=s,gt=0;ft<=Ct;){var wt=a[ft];switch(rt){case 0:if(gt=(nt=B(U.huffmanTableAC))>>4,0==(q=15&nt))gt<15?(v=M(gt)+(1<<gt),rt=4):(gt=16,rt=1);else{if(1!==q)throw new lt("invalid ACn encoding");D=f(q),rt=gt?2:3}continue;case 1:case 2:U.blockData[z+wt]?U.blockData[z+wt]+=k()<<S:0==--gt&&(rt=2===rt?3:0);break;case 3:U.blockData[z+wt]?U.blockData[z+wt]+=k()<<S:(U.blockData[z+wt]=D<<S,rt=0);break;case 4:U.blockData[z+wt]&&(U.blockData[z+wt]+=k()<<S)}ft++}4===rt&&0==--v&&(rt=0)}:function E(U,z){var q=B(U.huffmanTableDC),nt=0===q?0:f(q);U.blockData[z]=U.pred+=nt;for(var ft=1;ft<64;){var Ct=B(U.huffmanTableAC),gt=15&Ct,wt=Ct>>4;if(0!==gt){var Et=a[ft+=wt];U.blockData[z+Et]=f(gt),ft++}else{if(wt<15)break;ft+=16}}};var tt,st,vt,ut,U,q,Q=0;for(st=1===G?i[0].blocksPerLine*i[0].blocksPerColumn:W*d.mcusPerColumn;Q<st;){var ct=o?Math.min(st-Q,o):st;for(P=0;P<G;P++)i[P].pred=0;if(v=0,1===G)for(w=i[0],L=0;L<ct;L++)j(U=w,m(U,(q=Q)/U.blocksPerLine|0,q%U.blocksPerLine)),Q++;else for(L=0;L<ct;L++){for(P=0;P<G;P++)for(vt=(w=i[P]).h,ut=w.v,_=0;_<ut;_++)for(O=0;O<vt;O++)h(w,j,Q,_,O);Q++}K=0,(tt=A(c,u))&&tt.invalid&&(console.log("decodeScan - unexpected MCU data, next marker is: "+tt.invalid),u=tt.offset);var yt=tt&&tt.marker;if(!yt||yt<=65280)throw new lt("marker was not found");if(!(yt>=65488&&yt<=65495))break;u+=2}return(tt=A(c,u))&&tt.invalid&&(console.log("decodeScan - unexpected Scan data, next marker is: "+tt.invalid),u=tt.offset),u-N}function T(c,u,d){var i,o,l,s,g,S,W,R,N,F,K,k,B,M,f,E,e,y=c.quantizationTable,v=c.blockData;if(!y)throw new lt("missing required Quantization Table.");for(var I=0;I<64;I+=8)N=v[u+I],N*=y[I],(F=v[u+I+1])|(K=v[u+I+2])|(k=v[u+I+3])|(B=v[u+I+4])|(M=v[u+I+5])|(f=v[u+I+6])|(E=v[u+I+7])?(o=(i=(i=V*N+128>>8)+(o=V*(B*=y[I+4])+128>>8)+1>>1)-o,e=(l=K*=y[I+2])*Z+(s=f*=y[I+6])*J+128>>8,l=l*J-s*Z+128>>8,W=(g=(g=$*((F*=y[I+1])-(E*=y[I+7]))+128>>8)+(W=(M*=y[I+5])<<4)+1>>1)-W,S=(R=(R=$*(F+E)+128>>8)+(S=(k*=y[I+3])<<4)+1>>1)-S,s=(i=i+(s=e)+1>>1)-s,l=(o=o+l+1>>1)-l,e=g*at+R*ot+2048>>12,g=g*ot-R*at+2048>>12,R=e,e=S*mt+W*it+2048>>12,S=S*it-W*mt+2048>>12,W=e,d[I]=i+R,d[I+7]=i-R,d[I+1]=o+W,d[I+6]=o-W,d[I+2]=l+S,d[I+5]=l-S,d[I+3]=s+g,d[I+4]=s-g):(d[I]=e=V*N+512>>10,d[I+1]=e,d[I+2]=e,d[I+3]=e,d[I+4]=e,d[I+5]=e,d[I+6]=e,d[I+7]=e);for(var D=0;D<8;++D)N=d[D],(F=d[D+8])|(K=d[D+16])|(k=d[D+24])|(B=d[D+32])|(M=d[D+40])|(f=d[D+48])|(E=d[D+56])?(o=(i=4112+((i=V*N+2048>>12)+(o=V*B+2048>>12)+1>>1))-o,e=(l=K)*Z+(s=f)*J+2048>>12,l=l*J-s*Z+2048>>12,s=e,W=(g=(g=$*(F-E)+2048>>12)+(W=M)+1>>1)-W,S=(R=(R=$*(F+E)+2048>>12)+(S=k)+1>>1)-S,e=g*at+R*ot+2048>>12,g=g*ot-R*at+2048>>12,R=e,e=S*mt+W*it+2048>>12,S=S*it-W*mt+2048>>12,N=(N=(i=i+s+1>>1)+R)<16?0:N>=4080?255:N>>4,F=(F=(o=o+l+1>>1)+(W=e))<16?0:F>=4080?255:F>>4,K=(K=(l=o-l)+S)<16?0:K>=4080?255:K>>4,k=(k=(s=i-s)+g)<16?0:k>=4080?255:k>>4,B=(B=s-g)<16?0:B>=4080?255:B>>4,M=(M=l-S)<16?0:M>=4080?255:M>>4,f=(f=o-W)<16?0:f>=4080?255:f>>4,E=(E=i-R)<16?0:E>=4080?255:E>>4,v[u+D]=N,v[u+D+8]=F,v[u+D+16]=K,v[u+D+24]=k,v[u+D+32]=B,v[u+D+40]=M,v[u+D+48]=f,v[u+D+56]=E):(e=(e=V*N+8192>>14)<-2040?0:e>=2024?255:e+2056>>4,v[u+D]=e,v[u+D+8]=e,v[u+D+16]=e,v[u+D+24]=e,v[u+D+32]=e,v[u+D+40]=e,v[u+D+48]=e,v[u+D+56]=e)}function x(c,u){for(var d=u.blocksPerLine,i=u.blocksPerColumn,o=new Int16Array(64),l=0;l<i;l++)for(var s=0;s<d;s++)T(u,m(u,l,s),o);return u.blockData}function A(c,u,d){function i(S){return c[S]<<8|c[S+1]}var o=c.length-1,l=d<u?d:u;if(u>=o)return null;var s=i(u);if(s>=65472&&s<=65534)return{invalid:null,marker:s,offset:u};for(var g=i(l);!(g>=65472&&g<=65534);){if(++l>=o)return null;g=i(l)}return{invalid:s.toString(16),marker:g,offset:l}}return et.prototype={parse:function(c){function u(){var U=c[s]<<8|c[s+1];return s+=2,U}function d(){var U=u(),z=s+U-2,q=A(c,z,s);q&&q.invalid&&(console.log("readDataBlock - incorrect length, next marker is: "+q.invalid),z=q.offset);var nt=c.subarray(s,z);return s+=nt.length,nt}function i(U){for(var z=Math.ceil(U.samplesPerLine/8/U.maxH),q=Math.ceil(U.scanLines/8/U.maxV),nt=0;nt<U.components.length;nt++){L=U.components[nt];var ft=Math.ceil(Math.ceil(U.samplesPerLine/8)*L.h/U.maxH),Ct=Math.ceil(Math.ceil(U.scanLines/8)*L.v/U.maxV);L.blockData=new Int16Array(q*L.v*64*(z*L.h+1)),L.blocksPerLine=ft,L.blocksPerColumn=Ct}U.mcusPerLine=z,U.mcusPerColumn=q}var o,l,s=0,g=null,S=null,W=[],R=[],N=[],F=u();if(65496!==F)throw new lt("SOI not found");for(F=u();65497!==F;){var K,k,B;switch(F){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var M=d();65504===F&&74===M[0]&&70===M[1]&&73===M[2]&&70===M[3]&&0===M[4]&&(g={version:{major:M[5],minor:M[6]},densityUnits:M[7],xDensity:M[8]<<8|M[9],yDensity:M[10]<<8|M[11],thumbWidth:M[12],thumbHeight:M[13],thumbData:M.subarray(14,14+3*M[12]*M[13])}),65518===F&&65===M[0]&&100===M[1]&&111===M[2]&&98===M[3]&&101===M[4]&&(S={version:M[5]<<8|M[6],flags0:M[7]<<8|M[8],flags1:M[9]<<8|M[10],transformCode:M[11]});break;case 65499:for(var f=u()+s-2;s<f;){var E=c[s++],e=new Uint16Array(64);if(E>>4){if(E>>4!=1)throw new lt("DQT - invalid table spec");for(k=0;k<64;k++)e[a[k]]=u()}else for(k=0;k<64;k++)e[a[k]]=c[s++];W[15&E]=e}break;case 65472:case 65473:case 65474:if(o)throw new lt("Only single frame JPEGs supported");u(),(o={}).extended=65473===F,o.progressive=65474===F,o.precision=c[s++],o.scanLines=u(),o.samplesPerLine=u(),o.components=[],o.componentIds={};var y,v=c[s++],I=0,D=0;for(K=0;K<v;K++){y=c[s];var rt=c[s+1]>>4,b=15&c[s+1];I<rt&&(I=rt),D<b&&(D=b),B=o.components.push({h:rt,v:b,quantizationId:c[s+2],quantizationTable:null}),o.componentIds[y]=B-1,s+=3}o.maxH=I,o.maxV=D,i(o);break;case 65476:var p=u();for(K=2;K<p;){var w=c[s++],P=new Uint8Array(16),_=0;for(k=0;k<16;k++,s++)_+=P[k]=c[s];var O=new Uint8Array(_);for(k=0;k<_;k++,s++)O[k]=c[s];K+=17+_,(w>>4?R:N)[15&w]=ht(P,O)}break;case 65501:u(),l=u();break;case 65498:u();var L,j=c[s++],G=[];for(K=0;K<j;K++){var tt=o.componentIds[c[s++]],st=c[s++];(L=o.components[tt]).huffmanTableDC=N[st>>4],L.huffmanTableAC=R[15&st],G.push(L)}var vt=c[s++],ut=c[s++],Q=c[s++],ct=C(c,s,o,G,l,vt,ut,Q>>4,15&Q);s+=ct;break;case 65535:255!==c[s]&&s--;break;default:if(255===c[s-3]&&c[s-2]>=192&&c[s-2]<=254){s-=3;break}throw new lt("unknown marker "+F.toString(16))}F=u()}for(this.width=o.samplesPerLine,this.height=o.scanLines,this.jfif=g,this.eof=s,this.adobe=S,this.components=[],K=0;K<o.components.length;K++){var yt=W[(L=o.components[K]).quantizationId];yt&&(L.quantizationTable=yt),this.components.push({output:x(0,L),scaleX:L.h/o.maxH,scaleY:L.v/o.maxV,blocksPerLine:L.blocksPerLine,blocksPerColumn:L.blocksPerColumn})}this.numComponents=this.components.length},_getLinearizedBlockData:function(c,u){var d,i,o,l,s,g,S,W,R,N,F,K=this.width/c,k=this.height/u,B=0,M=this.components.length,f=c*u*M,E=new Uint8ClampedArray(f),e=new Uint32Array(c),y=4294967288;for(S=0;S<M;S++){for(i=(d=this.components[S]).scaleX*K,o=d.scaleY*k,B=S,F=d.output,l=d.blocksPerLine+1<<3,s=0;s<c;s++)e[s]=((W=0|s*i)&y)<<3|7&W;for(g=0;g<u;g++)for(N=l*((W=0|g*o)&y)|(7&W)<<3,s=0;s<c;s++)E[B]=F[N+e[s]],B+=M}var v=this.decodeTransform;if(v)for(S=0;S<f;)for(W=0,R=0;W<M;W++,S++,R+=2)E[S]=(E[S]*v[R]>>8)+v[R+1];return E},_isColorConversionNeeded:function(){return this.adobe?!!this.adobe.transformCode:3===this.numComponents?0!==this.colorTransform:1===this.colorTransform},_convertYccToRgb:function(c){for(var u,d,i,o=0,l=c.length;o<l;o+=3)d=c[o+1],c[o]=(u=c[o])-179.456+1.402*(i=c[o+2]),c[o+1]=u+135.459-.344*d-.714*i,c[o+2]=u-226.816+1.772*d;return c},_convertYcckToRgb:function(c){for(var u,d,i,o,l=0,s=0,g=c.length;s<g;s+=4)c[l++]=(d=c[s+1])*(-660635669420364e-19*d+.000437130475926232*(i=c[s+2])-54080610064599e-18*(u=c[s])+.00048449797120281*(o=c[s+3])-.154362151871126)-122.67195406894+i*(-.000957964378445773*i+.000817076911346625*u-.00477271405408747*o+1.53380253221734)+u*(.000961250184130688*u-.00266257332283933*o+.48357088451265)+o*(-.000336197177618394*o+.484791561490776),c[l++]=107.268039397724+d*(219927104525741e-19*d-.000640992018297945*i+.000659397001245577*u+.000426105652938837*o-.176491792462875)+i*(-.000778269941513683*i+.00130872261408275*u+.000770482631801132*o-.151051492775562)+u*(.00126935368114843*u-.00265090189010898*o+.25802910206845)+o*(-.000318913117588328*o-.213742400323665),c[l++]=d*(-.000570115196973677*d-263409051004589e-19*i+.0020741088115012*u-.00288260236853442*o+.814272968359295)-20.810012546947+i*(-153496057440975e-19*i-.000132689043961446*u+.000560833691242812*o-.195152027534049)+u*(.00174418132927582*u-.00255243321439347*o+.116935020465145)+o*(-.000343531996510555*o+.24165260232407);return c},_convertYcckToCmyk:function(c){for(var u,d,i,o=0,l=c.length;o<l;o+=4)d=c[o+1],c[o]=434.456-(u=c[o])-1.402*(i=c[o+2]),c[o+1]=119.541-u+.344*d+.714*i,c[o+2]=481.816-u-1.772*d;return c},_convertCmykToRgb:function(c){for(var u,d,i,o,l=0,s=1/255,g=0,S=c.length;g<S;g+=4)c[l++]=255+(u=c[g]*s)*(-4.387332384609988*u+54.48615194189176*(d=c[g+1]*s)+18.82290502165302*(i=c[g+2]*s)+212.25662451639585*(o=c[g+3]*s)-285.2331026137004)+d*(1.7149763477362134*d-5.6096736904047315*i-17.873870861415444*o-5.497006427196366)+i*(-2.5217340131683033*i-21.248923337353073*o+17.5119270841813)-o*(21.86122147463605*o+189.48180835922747),c[l++]=255+u*(8.841041422036149*u+60.118027045597366*d+6.871425592049007*i+31.159100130055922*o-79.2970844816548)+d*(-15.310361306967817*d+17.575251261109482*i+131.35250912493976*o-190.9453302588951)+i*(4.444339102852739*i+9.8632861493405*o-24.86741582555878)-o*(20.737325471181034*o+187.80453709719578),c[l++]=255+u*(.8842522430003296*u+8.078677503112928*d+30.89978309703729*i-.23883238689178934*o-14.183576799673286)+d*(10.49593273432072*d+63.02378494754052*i+50.606957656360734*o-112.23884253719248)+i*(.03296041114873217*i+115.60384449646641*o-193.58209356861505)-o*(22.33816807309886*o+180.12613974708367);return c},getData:function(c,u,d){if(this.numComponents>4)throw new lt("Unsupported color mode");var i=this._getLinearizedBlockData(c,u);if(1===this.numComponents&&d){for(var o=i.length,l=new Uint8ClampedArray(3*o),s=0,g=0;g<o;g++){var S=i[g];l[s++]=S,l[s++]=S,l[s++]=S}return l}if(3===this.numComponents&&this._isColorConversionNeeded())return this._convertYccToRgb(i);if(4===this.numComponents){if(this._isColorConversionNeeded())return d?this._convertYcckToRgb(i):this._convertYcckToCmyk(i);if(d)return this._convertCmykToRgb(i)}return i}},et}())&&(dt.exports=H);const bt=(0,Y.g)(_t.exports)},34022:(At,Tt,X)=>{X.d(Tt,{Z:()=>bt});var dt,pt,H,Y=X(1719),_t={exports:{}};pt=_t,dt=function(){function lt(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return lt.prototype={ensureBuffer:function(a){var it=this.buffer,mt=it?it.byteLength:0;if(a<mt)return it;for(var ot=512;ot<a;)ot<<=1;for(var at=new Uint8Array(ot),J=0;J<mt;++J)at[J]=it[J];return this.buffer=at},getByte:function(){for(var a=this.pos;this.bufferLength<=a;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(a){var it=this.pos;if(a){this.ensureBuffer(it+a);for(var mt=it+a;!this.eof&&this.bufferLength<mt;)this.readBlock();var ot=this.bufferLength;mt>ot&&(mt=ot)}else{for(;!this.eof;)this.readBlock();mt=this.bufferLength}return this.pos=mt,this.buffer.subarray(it,mt)},lookChar:function(){for(var a=this.pos;this.bufferLength<=a;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var a=this.pos;this.bufferLength<=a;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(a,it,mt){for(var ot=a+it;this.bufferLength<=ot&&!this.eof;)this.readBlock();return new Stream(this.buffer,a,it,mt)},skip:function(a){a||(a=1),this.pos+=a},reset:function(){this.pos=0}},lt}(),void 0!==(H=function(){if(!self||!self.Uint32Array)return null;var lt=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),it=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),mt=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],ot=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];function at(Z){throw new Error(Z)}function J(Z){var V=0,$=Z[V++],et=Z[V++];-1!=$&&-1!=et||at("Invalid header in flate stream"),8!=(15&$)&&at("Unknown compression method in flate stream"),(($<<8)+et)%31!=0&&at("Bad FCHECK in flate stream"),32&et&&at("FDICT bit set in flate stream"),this.bytes=Z,this.bytesPos=2,this.codeSize=0,this.codeBuf=0,dt.call(this)}return(J.prototype=Object.create(dt.prototype)).getBits=function(Z){for(var V,$=this.codeSize,et=this.codeBuf,ht=this.bytes,m=this.bytesPos;$<Z;)void 0===(V=ht[m++])&&at("Bad encoding in flate stream"),et|=V<<$,$+=8;return V=et&(1<<Z)-1,this.codeBuf=et>>Z,this.codeSize=$-=Z,this.bytesPos=m,V},J.prototype.getCode=function(Z){for(var V=Z[0],$=Z[1],et=this.codeSize,ht=this.codeBuf,m=this.bytes,C=this.bytesPos;et<$;){var T;void 0===(T=m[C++])&&at("Bad encoding in flate stream"),ht|=T<<et,et+=8}var x=V[ht&(1<<$)-1],A=x>>16,c=65535&x;return(0==et||et<A||0==A)&&at("Bad encoding in flate stream"),this.codeBuf=ht>>A,this.codeSize=et-A,this.bytesPos=C,c},J.prototype.generateHuffmanTable=function(Z){for(var V=Z.length,$=0,et=0;et<V;++et)Z[et]>$&&($=Z[et]);for(var ht=1<<$,m=new Uint32Array(ht),C=1,T=0,x=2;C<=$;++C,T<<=1,x<<=1)for(var A=0;A<V;++A)if(Z[A]==C){var c=0,u=T;for(et=0;et<C;++et)c=c<<1|1&u,u>>=1;for(et=c;et<ht;et+=x)m[et]=C<<16|A;++T}return[m,$]},J.prototype.readBlock=function(){function Z(e,y,v,I,D){for(var rt=e.getBits(v)+I;rt-- >0;)y[x++]=D}var V=this.getBits(3);if(1&V&&(this.eof=!0),0!=(V>>=1)){var $,et;if(1==V)$=mt,et=ot;else if(2==V){for(var ht=this.getBits(5)+257,m=this.getBits(5)+1,C=this.getBits(4)+4,T=Array(lt.length),x=0;x<C;)T[lt[x++]]=this.getBits(3);for(var A=this.generateHuffmanTable(T),c=0,u=(x=0,ht+m),d=new Array(u);x<u;){var i=this.getCode(A);16==i?Z(this,d,2,3,c):17==i?Z(this,d,3,3,c=0):18==i?Z(this,d,7,11,c=0):d[x++]=c=i}$=this.generateHuffmanTable(d.slice(0,ht)),et=this.generateHuffmanTable(d.slice(ht,u))}else at("Unknown block type in flate stream");for(var o=(M=this.buffer)?M.length:0,l=this.bufferLength;;){var s=this.getCode($);if(s<256)l+1>=o&&(o=(M=this.ensureBuffer(l+1)).length),M[l++]=s;else{if(256==s)return void(this.bufferLength=l);var g=(s=a[s-=257])>>16;g>0&&(g=this.getBits(g)),c=(65535&s)+g,s=this.getCode(et),(g=(s=it[s])>>16)>0&&(g=this.getBits(g));var S=(65535&s)+g;l+c>=o&&(o=(M=this.ensureBuffer(l+c)).length);for(var W=0;W<c;++W,++l)M[l]=M[l-S]}}}else{var R,N=this.bytes,F=this.bytesPos;void 0===(R=N[F++])&&at("Bad block header in flate stream");var K=R;void 0===(R=N[F++])&&at("Bad block header in flate stream"),K|=R<<8,void 0===(R=N[F++])&&at("Bad block header in flate stream");var k=R;void 0===(R=N[F++])&&at("Bad block header in flate stream"),(k|=R<<8)!=(65535&~K)&&at("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var B=this.bufferLength,M=this.ensureBuffer(B+K),f=B+K;this.bufferLength=f;for(var E=B;E<f;++E){if(void 0===(R=N[F++])){this.eof=!0;break}M[E]=R}this.bytesPos=F}},J}())&&(pt.exports=H);const bt=(0,Y.g)(_t.exports)},78260:(At,Tt,X)=>{X.d(Tt,{EX:()=>s,Y3:()=>d,_Y:()=>u,sJ:()=>i,xr:()=>c});var Y=X(91558);function _t(f){return"h"in f&&"s"in f&&"v"in f}function bt(f){return"l"in f&&"a"in f&&"b"in f}function lt(f){return"l"in f&&"c"in f&&"h"in f}X(993),X(4794);const it=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],mt=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function ot(f,E){const e=[];let y,v;if(f[0].length!==E.length)throw new Error("dimensions do not match");const I=f.length,D=f[0].length;let rt=0;for(y=0;y<I;y++){for(rt=0,v=0;v<D;v++)rt+=f[y][v]*E[v];e.push(rt)}return e}function at(f){const E=[f.r/255,f.g/255,f.b/255].map(y=>y<=.04045?y/12.92:((y+.055)/1.055)**2.4),e=ot(it,E);return{x:100*e[0],y:100*e[1],z:100*e[2]}}function J(f){const E=ot(mt,[f.x/100,f.y/100,f.z/100]).map(e=>Math.min(1,Math.max(e<=.0031308?12.92*e:1.055*e**.4166666666666667-.055,0)));return{r:Math.round(255*E[0]),g:Math.round(255*E[1]),b:Math.round(255*E[2])}}function Z(f){const E=[f.x/95.047,f.y/100,f.z/108.883].map(e=>e>.008856451679035631?e**.3333333333333333:7.787037037037035*e+.13793103448275862);return{l:116*E[1]-16,a:500*(E[0]-E[1]),b:200*(E[1]-E[2])}}function V(f){const E=f.l,e=[(E+16)/116+f.a/500,(E+16)/116,(E+16)/116-f.b/200].map(y=>y>6/29?y**3:3*(6/29)**2*(y-4/29));return{x:95.047*e[0],y:100*e[1],z:108.883*e[2]}}function c(f){return function H(f){return"r"in f&&"g"in f&&"b"in f}(f)?f:lt(f)?function T(f){return J(V(function et(f){const e=f.c,y=f.h;return{l:f.l,a:e*Math.cos(y),b:e*Math.sin(y)}}(f)))}(f):bt(f)?function m(f){return J(V(f))}(f):function a(f){return"x"in f&&"y"in f&&"z"in f}(f)?J(f):_t(f)?function A(f){const E=(f.h+360)%360/60,y=f.v/100*255,v=y*(f.s/100),I=v*(1-Math.abs(E%2-1));let D;switch(Math.floor(E)){case 0:D={r:v,g:I,b:0};break;case 1:D={r:I,g:v,b:0};break;case 2:D={r:0,g:v,b:I};break;case 3:D={r:0,g:I,b:v};break;case 4:D={r:I,g:0,b:v};break;case 5:case 6:D={r:v,g:0,b:I};break;default:D={r:0,g:0,b:0}}return D.r=Math.round(D.r+y-v),D.g=Math.round(D.g+y-v),D.b=Math.round(D.b+y-v),D}(f):f}function u(f){return _t(f)?f:function x(f){const E=f.r,e=f.g,y=f.b,v=Math.max(E,e,y),I=v-Math.min(E,e,y);let D=v,rt=0===I?0:v===E?(e-y)/I%6:v===e?(y-E)/I+2:(E-e)/I+4,b=0===I?0:I/D;return rt<0&&(rt+=6),rt*=60,b*=100,D*=100/255,{h:rt,s:b,v:D}}(c(f))}function d(f){return bt(f)?f:function ht(f){return Z(at(f))}(c(f))}function i(f){return lt(f)?f:function C(f){return function $(f){const E=f.l,e=f.a,y=f.b,v=Math.sqrt(e*e+y*y);let I=Math.atan2(y,e);return I=I>0?I:I+2*Math.PI,{l:E,c:v,h:I}}(Z(at(f)))}(c(f))}function s(f,E){const{r:e,g:y,b:v}=E?.ignoreAlpha?f:function l(f){let{r:E,g:e,b:y,a:v}=f;return v<1&&(E=Math.round(v*E+255*(1-v)),e=Math.round(v*e+255*(1-v)),y=Math.round(v*y+255*(1-v))),new Y.Z({r:E,g:e,b:y})}(f);return.2126*e+.7152*y+.0722*v}var g,f;(f=g||(g={}))[f.Low=160]="Low",f[f.High=225]="High"},84727:(At,Tt,X)=>{X.d(Tt,{Z:()=>c});var ot,Y=X(17626),dt=X(86810),pt=X(58817),H=X(77712),bt=(X(90912),X(76898)),lt=X(2004),a=X(65234);function at(u){return u=Number(u),isNaN(u)?void 0:u}X(85931),X(8314);let J=ot=class extends dt.wq{constructor(){super(...arguments),this.name=null,this.minWavelength=void 0,this.maxWavelength=void 0,this.radianceBias=void 0,this.radianceGain=void 0,this.reflectanceBias=void 0,this.reflectanceGain=void 0,this.solarIrradiance=void 0}clone(){return new ot({name:this.name,minWavelength:this.minWavelength,maxWavelength:this.maxWavelength,radianceBias:this.radianceBias,radianceGain:this.radianceGain,reflectanceBias:this.reflectanceBias,reflectanceGain:this.reflectanceGain,solarIrradiance:this.solarIrradiance})}};(0,Y._)([(0,H.Cb)({json:{name:"BandName",write:!0}})],J.prototype,"name",void 0),(0,Y._)([(0,H.Cb)({json:{name:"WavelengthMin",read:{reader:at},write:!0}})],J.prototype,"minWavelength",void 0),(0,Y._)([(0,H.Cb)({json:{name:"WavelengthMax",read:{reader:at},write:!0}})],J.prototype,"maxWavelength",void 0),(0,Y._)([(0,H.Cb)({json:{name:"RadianceBias",read:{reader:at},write:!0}})],J.prototype,"radianceBias",void 0),(0,Y._)([(0,H.Cb)({json:{name:"RadianceGain",read:{reader:at},write:!0}})],J.prototype,"radianceGain",void 0),(0,Y._)([(0,H.Cb)({json:{name:"ReflectanceBias",read:{reader:at},write:!0}})],J.prototype,"reflectanceBias",void 0),(0,Y._)([(0,H.Cb)({json:{name:"ReflectanceGain",read:{reader:at},write:!0}})],J.prototype,"reflectanceGain",void 0),(0,Y._)([(0,H.Cb)({json:{name:"SolarIrradiance",read:{reader:at},write:!0}})],J.prototype,"solarIrradiance",void 0),J=ot=(0,Y._)([(0,bt.j)("esri.layers.support.RasterBandInfo")],J);const Z=J;var et,V=X(68653),$=X(99433);function ht(u){return u=Number(u),isNaN(u)?void 0:u}let m=et=class extends dt.wq{constructor(){super(...arguments),this.acquisitionDate=void 0,this.cloudCover=void 0,this.productName=void 0,this.sensorName=null,this.sensorAzimuth=void 0,this.sensorElevation=void 0,this.sunAzimuth=void 0,this.sunElevation=void 0}readAcquisitionDate(u){return new Date(u)}writeAcquisitionDate(u,d){d.AcquisitionDate=u.getTime()}clone(){return new et({acquisitionDate:this.acquisitionDate,cloudCover:this.cloudCover,productName:this.productName,sensorName:this.sensorName,sensorAzimuth:this.sensorAzimuth,sensorElevation:this.sensorElevation,sunAzimuth:this.sunAzimuth,sunElevation:this.sunElevation})}};(0,Y._)([(0,H.Cb)({json:{name:"AcquisitionDate",write:!0}})],m.prototype,"acquisitionDate",void 0),(0,Y._)([(0,V.r)("acquisitionDate")],m.prototype,"readAcquisitionDate",null),(0,Y._)([(0,$.c)("acquisitionDate")],m.prototype,"writeAcquisitionDate",null),(0,Y._)([(0,H.Cb)({json:{name:"CloudCover",read:{reader:ht},write:!0}})],m.prototype,"cloudCover",void 0),(0,Y._)([(0,H.Cb)({json:{name:"ProductName",write:!0}})],m.prototype,"productName",void 0),(0,Y._)([(0,H.Cb)({json:{name:"SensorName",write:!0}})],m.prototype,"sensorName",void 0),(0,Y._)([(0,H.Cb)({json:{name:"SensorAzimuth",read:{reader:ht},write:!0}})],m.prototype,"sensorAzimuth",void 0),(0,Y._)([(0,H.Cb)({json:{name:"SensorElevation",read:{reader:ht},write:!0}})],m.prototype,"sensorElevation",void 0),(0,Y._)([(0,H.Cb)({json:{name:"SunAzimuth",read:{reader:ht},write:!0}})],m.prototype,"sunAzimuth",void 0),(0,Y._)([(0,H.Cb)({json:{name:"SunElevation",read:{reader:ht},write:!0}})],m.prototype,"sunElevation",void 0),m=et=(0,Y._)([(0,bt.j)("esri.layers.support.RasterSensorInfo")],m);const C=m;var x,T=X(27497);let A=x=class extends dt.wq{constructor(u){super(u),this.attributeTable=null,this.bandCount=null,this.colormap=null,this.extent=null,this.format=void 0,this.height=null,this.width=null,this.histograms=null,this.keyProperties={},this.multidimensionalInfo=null,this.noDataValue=null,this.pixelSize=null,this.pixelType=null,this.isPseudoSpatialReference=!1,this.spatialReference=null,this.statistics=null,this.storageInfo=null,this.transform=null}get bandInfos(){const u=this.keyProperties.BandProperties,{bandCount:d}=this;if(!u?.length||u.length<d){const o=[];for(let l=1;l<=d;l++)o.push(new Z({name:"band_"+l}));return o}const i=u.map(o=>Z.fromJSON(o));for(let o=0;o<i.length;o++)i[o].name=i[o].name||"band_"+(o+1);return i}get dataType(){const u=this.keyProperties?.DataType?.toLowerCase()??"generic";return"stdtime"===u?"standard-time":u}get nativeExtent(){return this._get("nativeExtent")||this.extent}set nativeExtent(u){u&&this._set("nativeExtent",u)}get nativePixelSize(){if(null==this.transform||!this.transform.affectsPixelSize)return this.pixelSize;const u=this.nativeExtent;return{x:u.width/this.width,y:u.height/this.height}}get hasMultidimensionalTranspose(){return!!this.storageInfo?.transposeInfo}get sensorInfo(){if(this.keyProperties?.SensorName)return C.fromJSON(this.keyProperties)}clone(){return new x({attributeTable:(0,pt.d9)(this.attributeTable),bandCount:this.bandCount,colormap:(0,pt.d9)(this.colormap),extent:(0,pt.d9)(this.extent),nativePixelSize:(0,pt.d9)(this.nativePixelSize),format:this.format,height:this.height,width:this.width,histograms:(0,pt.d9)(this.histograms),keyProperties:(0,pt.d9)(this.keyProperties),multidimensionalInfo:(0,pt.d9)(this.multidimensionalInfo),noDataValue:this.noDataValue,pixelSize:(0,pt.d9)(this.pixelSize),pixelType:this.pixelType,isPseudoSpatialReference:this.isPseudoSpatialReference,spatialReference:(0,pt.d9)(this.spatialReference),statistics:(0,pt.d9)(this.statistics),storageInfo:(0,pt.d9)(this.storageInfo),transform:(0,pt.d9)(this.transform)})}};(0,Y._)([(0,H.Cb)({json:{write:!0}})],A.prototype,"attributeTable",void 0),(0,Y._)([(0,H.Cb)({json:{write:!0}})],A.prototype,"bandCount",void 0),(0,Y._)([(0,H.Cb)({readOnly:!0})],A.prototype,"bandInfos",null),(0,Y._)([(0,H.Cb)({json:{write:!0}})],A.prototype,"colormap",void 0),(0,Y._)([(0,H.Cb)({type:String,readOnly:!0})],A.prototype,"dataType",null),(0,Y._)([(0,H.Cb)({type:lt.Z,json:{write:!0}})],A.prototype,"extent",void 0),(0,Y._)([(0,H.Cb)({type:lt.Z,json:{write:!0}})],A.prototype,"nativeExtent",null),(0,Y._)([(0,H.Cb)({json:{write:!0}})],A.prototype,"nativePixelSize",null),(0,Y._)([(0,H.Cb)({json:{write:!0}})],A.prototype,"format",void 0),(0,Y._)([(0,H.Cb)({json:{write:!0}})],A.prototype,"height",void 0),(0,Y._)([(0,H.Cb)({json:{write:!0}})],A.prototype,"width",void 0),(0,Y._)([(0,H.Cb)({json:{write:!0}})],A.prototype,"hasMultidimensionalTranspose",null),(0,Y._)([(0,H.Cb)({json:{write:!0}})],A.prototype,"histograms",void 0),(0,Y._)([(0,H.Cb)({json:{write:!0}})],A.prototype,"keyProperties",void 0),(0,Y._)([(0,H.Cb)({json:{write:!0}})],A.prototype,"multidimensionalInfo",void 0),(0,Y._)([(0,H.Cb)({json:{write:!0}})],A.prototype,"noDataValue",void 0),(0,Y._)([(0,H.Cb)({json:{write:!0}})],A.prototype,"pixelSize",void 0),(0,Y._)([(0,H.Cb)({json:{write:!0}})],A.prototype,"pixelType",void 0),(0,Y._)([(0,H.Cb)()],A.prototype,"isPseudoSpatialReference",void 0),(0,Y._)([(0,H.Cb)({readOnly:!0})],A.prototype,"sensorInfo",null),(0,Y._)([(0,H.Cb)({type:a.Z,json:{write:!0}})],A.prototype,"spatialReference",void 0),(0,Y._)([(0,H.Cb)({json:{write:!0}})],A.prototype,"statistics",void 0),(0,Y._)([(0,H.Cb)({type:T.Z,json:{write:!0}})],A.prototype,"storageInfo",void 0),(0,Y._)([(0,H.Cb)({json:{write:!0}})],A.prototype,"transform",void 0),A=x=(0,Y._)([(0,bt.j)("esri.layers.support.RasterInfo")],A);const c=A},27497:(At,Tt,X)=>{X.d(Tt,{Z:()=>mt});var a,Y=X(17626),dt=X(86810),pt=X(58817),H=X(77712),bt=(X(90912),X(76898)),lt=X(72642);let it=a=class extends dt.wq{constructor(){super(...arguments),this.blockWidth=void 0,this.blockHeight=void 0,this.compression=null,this.origin=null,this.firstPyramidLevel=null,this.maximumPyramidLevel=null,this.pyramidScalingFactor=2,this.pyramidBlockWidth=null,this.pyramidBlockHeight=null,this.isVirtualTileInfo=!1,this.tileInfo=null,this.transposeInfo=null,this.blockBoundary=null}clone(){return new a({blockWidth:this.blockWidth,blockHeight:this.blockHeight,compression:this.compression,origin:(0,pt.d9)(this.origin),firstPyramidLevel:this.firstPyramidLevel,maximumPyramidLevel:this.maximumPyramidLevel,pyramidResolutions:(0,pt.d9)(this.pyramidResolutions),pyramidScalingFactor:this.pyramidScalingFactor,pyramidBlockWidth:this.pyramidBlockWidth,pyramidBlockHeight:this.pyramidBlockHeight,isVirtualTileInfo:this.isVirtualTileInfo,tileInfo:(0,pt.d9)(this.tileInfo),transposeInfo:(0,pt.d9)(this.transposeInfo),blockBoundary:(0,pt.d9)(this.blockBoundary)})}};(0,Y._)([(0,H.Cb)({type:Number,json:{write:!0}})],it.prototype,"blockWidth",void 0),(0,Y._)([(0,H.Cb)({type:Number,json:{write:!0}})],it.prototype,"blockHeight",void 0),(0,Y._)([(0,H.Cb)({type:String,json:{write:!0}})],it.prototype,"compression",void 0),(0,Y._)([(0,H.Cb)({type:lt.Z,json:{write:!0}})],it.prototype,"origin",void 0),(0,Y._)([(0,H.Cb)({type:Number,json:{write:!0}})],it.prototype,"firstPyramidLevel",void 0),(0,Y._)([(0,H.Cb)({type:Number,json:{write:!0}})],it.prototype,"maximumPyramidLevel",void 0),(0,Y._)([(0,H.Cb)({json:{write:!0}})],it.prototype,"pyramidResolutions",void 0),(0,Y._)([(0,H.Cb)({type:Number,json:{write:!0}})],it.prototype,"pyramidScalingFactor",void 0),(0,Y._)([(0,H.Cb)({type:Number,json:{write:!0}})],it.prototype,"pyramidBlockWidth",void 0),(0,Y._)([(0,H.Cb)({type:Number,json:{write:!0}})],it.prototype,"pyramidBlockHeight",void 0),(0,Y._)([(0,H.Cb)({type:Boolean,json:{write:!0}})],it.prototype,"isVirtualTileInfo",void 0),(0,Y._)([(0,H.Cb)({json:{write:!0}})],it.prototype,"tileInfo",void 0),(0,Y._)([(0,H.Cb)()],it.prototype,"transposeInfo",void 0),(0,Y._)([(0,H.Cb)()],it.prototype,"blockBoundary",void 0),it=a=(0,Y._)([(0,bt.j)("esri.layers.support.RasterStorageInfo")],it);const mt=it},15365:(At,Tt,X)=>{function Y(dt,pt){let H=0,_t="",bt=0,lt=0;const a=dt.length;for(;H<a;)lt=dt[H++],bt=lt>>4,bt<8?bt=1:15===bt?(bt=4,lt=(7&lt)<<18|(63&dt[H++])<<12|(63&dt[H++])<<6|63&dt[H++]):14===bt?(bt=3,lt=(15&lt)<<12|(63&dt[H++])<<6|63&dt[H++]):(bt=2,lt=(31&lt)<<6|63&dt[H++]),(0!==lt||pt)&&(_t+=String.fromCharCode(lt));return _t}X.d(Tt,{f:()=>Y})},68786:(At,Tt,X)=>{X.d(Tt,{Jx:()=>at,zD:()=>_t});var Y=X(54346);const dt=[{pixelType:"S8",size:1,ctor:Int8Array,range:[-128,127]},{pixelType:"U8",size:1,ctor:Uint8Array,range:[0,255]},{pixelType:"S16",size:2,ctor:Int16Array,range:[-32768,32767]},{pixelType:"U16",size:2,ctor:Uint16Array,range:[0,65536]},{pixelType:"S32",size:4,ctor:Int32Array,range:[-2147483648,2147483647]},{pixelType:"U32",size:4,ctor:Uint32Array,range:[0,4294967296]},{pixelType:"F32",size:4,ctor:Float32Array,range:[-34027999387901484e22,34027999387901484e22]},{pixelType:"F64",size:8,ctor:Float64Array,range:[-17976931348623157e292,17976931348623157e292]}];let pt=null,H=null;function _t(){return pt||(pt=X.e(2045).then(X.bind(X,72045)).then(Z=>Z.l).then(({default:Z})=>Z({locateFile:V=>(0,Y.V)(`esri/layers/support/rasterFormats/${V}`)})).then(Z=>{(function mt(Z){const{_malloc:V,_free:$,_lerc_getBlobInfo:et,_lerc_getDataRanges:ht,_lerc_decode_4D:m,asm:C}=Z;let T;const x=Object.values(C).find(c=>c&&"buffer"in c&&c.buffer===Z.HEAPU8.buffer),A=c=>{const u=c.map(l=>function a(Z){return 16+(Z>>3<<3)}(l)),d=u.reduce((l,s)=>l+s),i=V(d);T=new Uint8Array(x.buffer);let o=u[0];u[0]=i;for(let l=1;l<u.length;l++){const s=u[l];u[l]=u[l-1]+o,o=s}return u};lt.getBlobInfo=c=>{const i=new Uint8Array(48),o=new Uint8Array(24),[l,s,g]=A([c.length,i.length,o.length]);T.set(c,l),T.set(i,s),T.set(o,g);let S=et(l,c.length,s,g,12,3);if(S)throw $(l),new Error(`lerc-getBlobInfo: error code is ${S}`);T=new Uint8Array(x.buffer),it(T,s,i),it(T,g,o);const W=new Uint32Array(i.buffer),R=new Float64Array(o.buffer),[N,F,,K,k,B,M,f,E,e,y]=W,v={version:N,depthCount:e,width:K,height:k,validPixelCount:M,bandCount:B,blobSize:f,maskCount:E,dataType:F,minValue:R[0],maxValue:R[1],maxZerror:R[2],statistics:[],bandCountWithNoData:y};if(y&&e>1)return $(l),v;if(1===e&&1===B)return $(l),v.statistics.push({minValue:R[0],maxValue:R[1]}),v;const I=e*B*8,D=new Uint8Array(I),rt=new Uint8Array(I);let b=l,h=0,p=0,w=!1;if(T.byteLength<l+2*I?($(l),w=!0,[b,h,p]=A([c.length,I,I]),T.set(c,b)):[h,p]=A([I,I]),T.set(D,h),T.set(rt,p),S=ht(b,c.length,e,B,h,p),S)throw $(b),w||$(h),new Error(`lerc-getDataRanges: error code is ${S}`);T=new Uint8Array(x.buffer),it(T,h,D),it(T,p,rt);const P=new Float64Array(D.buffer),_=new Float64Array(rt.buffer),O=v.statistics;for(let L=0;L<B;L++)if(e>1){const j=P.slice(L*e,(L+1)*e),G=_.slice(L*e,(L+1)*e),tt=Math.min.apply(null,j),st=Math.max.apply(null,G);O.push({minValue:tt,maxValue:st,depthStats:{minValues:j,maxValues:G}})}else O.push({minValue:P[L],maxValue:_[L]});return $(b),w||$(h),v},lt.decode=(c,u)=>{const{maskCount:d,depthCount:i,bandCount:o,width:l,height:s,dataType:g,bandCountWithNoData:S}=u,W=dt[g],R=l*s,N=new Uint8Array(R*o),K=new Uint8Array(R*i*o*W.size),k=new Uint8Array(o),B=new Uint8Array(8*o),[M,f,E,e,y]=A([c.length,N.length,K.length,k.length,B.length]);T.set(c,M),T.set(N,f),T.set(K,E),T.set(k,e),T.set(B,y);const v=m(M,c.length,d,f,i,l,s,o,g,E,e,y);if(v)throw $(M),new Error(`lerc-decode: error code is ${v}`);T=new Uint8Array(x.buffer),it(T,E,K),it(T,f,N);let I=null;if(S){it(T,e,k),it(T,y,B),I=[];const D=new Float64Array(B.buffer);for(let rt=0;rt<k.length;rt++)I.push(k[rt]?D[rt]:null)}return $(M),{data:K,maskData:N,noDataValues:I}}})(Z),H=!0}),pt)}const lt={getBlobInfo:null,decode:null};function it(Z,V,$){$.set(Z.slice(V,V+$.length))}function ot(Z,V,$,et,ht){if($<2)return Z;const m=new et(V*$);if(ht)for(let C=0,T=0;C<V;C++)for(let x=0,A=C;x<$;x++,A+=V)m[A]=Z[T++];else for(let C=0,T=0;C<V;C++)for(let x=0,A=C;x<$;x++,A+=V)m[T++]=Z[A];return m}function at(Z,V={}){const $=V.inputOffset??0,et=Z instanceof Uint8Array?Z.subarray($):new Uint8Array(Z,$),ht=lt.getBlobInfo(et),{data:m,maskData:C,noDataValues:T}=lt.decode(et,ht),{width:x,height:A,bandCount:c,depthCount:u,dataType:d,maskCount:i,statistics:o}=ht,l=dt[d],s=new l.ctor(m.buffer),g=[],S=[],W=x*A,R=W*u;for(let M=0;M<c;M++){const f=s.subarray(M*R,(M+1)*R);if(V.returnInterleaved)g.push(f);else{const E=ot(f,W,u,l.ctor,!0);g.push(E)}S.push(C.subarray(M*R,(M+1)*R))}const N=0===i?null:1===i?S[0]:new Uint8Array(W);if(i>1){N.set(S[0]);for(let M=1;M<S.length;M++){const f=S[M];for(let E=0;E<W;E++)N[E]=N[E]&f[E]}}const{noDataValue:F}=V;if(i>0&&null!=F&&l.range[0]<=F&&l.range[1]>=F)for(let M=0;M<c;M++){const f=g[M],E=S[M]||N;for(let e=0;e<W;e++)0===E[e]&&(f[e]=F)}const k=i===c&&c>1?S:null,{pixelType:B}=l;return{width:x,height:A,bandCount:c,pixelType:B,depthCount:u,statistics:o,pixels:g,mask:N,bandMasks:k,noDataValues:T}}},94194:(At,Tt,X)=>{function dt(){const bt=[];for(let lt=0;lt<=257;lt++)bt[lt]=[lt];return bt}function pt(bt,lt){for(let a=0;a<lt.length;a++)bt.push(lt[a])}X.d(Tt,{J:()=>_t});const H=new Set;function _t(bt,lt,a,it=!0){const mt=function Y(bt,lt,a,it=!0){if(lt%4!=0||a%4!=0){const mt=new ArrayBuffer(4*Math.ceil(a/4)),ot=new Uint8Array(mt),at=new Uint8Array(bt,lt,a);if(it)for(let J=0;J<ot.length;J+=4)ot[J]=at[J+3],ot[J+1]=at[J+2],ot[J+2]=at[J+1],ot[J+3]=at[J];else ot.set(at);return new Uint32Array(ot.buffer)}if(it){const mt=new Uint8Array(bt,lt,a),ot=new Uint8Array(mt.length);for(let at=0;at<ot.length;at+=4)ot[at]=mt[at+3],ot[at+1]=mt[at+2],ot[at+2]=mt[at+1],ot[at+3]=mt[at];return new Uint32Array(ot.buffer)}return new Uint32Array(bt,lt,a/4)}(bt,lt,a,it);let ot=9,at=dt(),J=32,Z=at.length,V=[],$=1,et=mt[0],ht=0;const m=mt.length,C=8*(4*m-a),T=[];for(;null!=et;){if(J>=ot)J-=ot,ht=et>>>32-ot,et<<=ot;else{ht=et>>>32-J,et=mt[$++];const A=ot-J;J=32-A,ht=(ht<<A)+(et>>>J),et<<=A}if(257===ht)break;if(256===ht){ot=9,at=dt(),Z=at.length,V=[];continue}const x=at[ht];if(null==x){if(ht>at.length)throw new Error("data integrity issue: code does not exist on code page");V.push(V[0]),at[Z++]=V.slice(),pt(T,V)}else pt(T,x),V.push(x[0]),V.length>1&&(at[Z++]=V.slice()),V=x.slice();if(H.has(Z)&&ot++,0===J&&(et=mt[$++],J=32),$>m||$===m&&J<=C)break}return new Uint8Array(T)}H.add(511),H.add(1023),H.add(2047),H.add(4095),H.add(8191)},8614:(At,Tt,X)=>{X.d(Tt,{J:()=>M,y:()=>B});var Y=X(15861),dt=X(26584),pt=X(62208),H=X(85073),_t=X(10699),bt=X(34022);class lt{constructor(e){this._canvas=null,this._ctx=null,e&&(this._canvas=e.canvas,this._ctx=e.ctx||e.canvas&&e.canvas.getContext("2d"))}decode(e,y,v){if(!e||e.byteLength<10)throw new dt.Z("imagecanvasdecoder: decode","required a valid encoded data as input.");let{width:I=0,height:D=0,format:rt}=y;const{applyJpegMask:b}=y;if(b&&(!I||!D))throw new dt.Z("imagecanvasdecoder: decode","image width and height are needed to apply jpeg mask directly to canvas");return new Promise((h,p)=>{let w=null;"jpg"===rt&&b&&(w=lt._getMask(e,{width:I,height:D}));const P=new Blob([new Uint8Array(e)],{type:"image/"+rt=="jpg"?"jpeg":rt}),_=URL.createObjectURL(P),O=new Image;let L;O.src=_,O.onload=()=>{if(URL.revokeObjectURL(_),(0,_t.Hc)(v))return void p((0,_t.zE)());I=O.width,D=O.height,this._canvas&&this._ctx?(this._canvas.width===I&&this._canvas.height===D||(this._canvas.width=I,this._canvas.height=D),this._ctx.clearRect(0,0,I,D)):(this._canvas=document.createElement("canvas"),this._canvas.width=I,this._canvas.height=D,this._ctx=this._canvas.getContext("2d")),this._ctx.drawImage(O,0,0);const j=this._ctx.getImageData(0,0,I,D);let G;if(L=j.data,y.renderOnCanvas){if(w)for(G=0;G<w.length;G++)L[4*G+3]=w[G]?255:0;return this._ctx.putImageData(j,0,0),void h(null)}const tt=I*D,st=new Uint8Array(tt),vt=new Uint8Array(tt),ut=new Uint8Array(tt);if(w)for(G=0;G<tt;G++)st[G]=L[4*G],vt[G]=L[4*G+1],ut[G]=L[4*G+2];else for(w=new Uint8Array(tt),G=0;G<tt;G++)st[G]=L[4*G],vt[G]=L[4*G+1],ut[G]=L[4*G+2],w[G]=L[4*G+3];h({width:I,height:D,pixels:[st,vt,ut],mask:w,pixelType:"u8"})},O.onerror=()=>{URL.revokeObjectURL(_),p("cannot load image")}})}static _getMask(e,y){let v=null;try{const I=new Uint8Array(e),D=Math.ceil(I.length/2);let rt=0;const b=I.length-2;for(rt=D;rt<b&&(255!==I[rt]||217!==I[rt+1]);rt++);if(rt+=2,rt<I.length-1){const h=new bt.Z(I.subarray(rt)).getBytes();v=new Uint8Array(y.width*y.height);let p=0;for(let w=0;w<h.length;w++)for(let P=7;P>=0;P--)v[p++]=h[w]>>P&1}}catch{}return v}}var a=X(3579);class it{static decode(e,y=!1){const v=new Uint8Array(e),I=new a.J;I.parse(v);const{width:D,height:rt,numComponents:b,eof:h}=I,p=I.getData(D,rt,!0),w=D*rt;let P,_=null,O=0,L=0,j=0;if(!y&&h<v.length-1)try{const G=new bt.Z(v.subarray(h)).getBytes();_=new Uint8Array(w);let tt=0;for(O=0;O<G.length;O++)for(j=7;j>=0;j--)_[tt++]=G[O]>>j&1}catch{}if(1===b&&p.length===D*rt){const G=new Uint8Array(p.buffer);P=[G,G,G]}else{for(P=[],O=0;O<3;O++)P.push(new Uint8Array(w));for(j=0,L=0;L<w;L++)for(O=0;O<3;O++)P[O][L]=p[j++]}return{width:D,height:rt,pixels:P,mask:_}}}var mt=X(68786),ot=X(94194),at=X(67313);const J=(E,e)=>Math.floor(E.byteLength/(e.width*e.height*Z(e.pixelType))),Z=E=>{let e=1;switch(E){case Uint8Array:case Int8Array:e=1;break;case Uint16Array:case Int16Array:e=2;break;case Uint32Array:case Int32Array:case Float32Array:e=4;break;case Float64Array:e=8}return e};class ${static decode(e,y){const v=y.pixelType,I=[],D=y.width*y.height,rt=J(e,y),{bandIds:b,format:h}=y,p=b?.length||J(e,y),w=e.byteLength-e.byteLength%(D*Z(v)),P=new v(e,0,D*rt);let _,O,L,j,G=null;if("bip"===h)for(_=0;_<p;_++){for(L=new v(D),j=b?b[_]:_,O=0;O<D;O++)L[O]=P[O*rt+j];I.push(L)}else if("bsq"===h)for(_=0;_<p;_++)j=b?b[_]:_,I.push(P.subarray(j*D,(j+1)*D));return w<e.byteLength-1&&(G=((E,e)=>{if(8*E.byteLength<e)return null;const y=new Uint8Array(E,0,Math.ceil(e/8)),v=new Uint8Array(e);let I=0,D=0,rt=0,b=0;for(rt=0;rt<y.length-1;rt++)for(D=y[rt],b=7;b>=0;b--)v[I++]=D>>b&1;for(b=7;I<e-1;)D=y[y.length-1],v[I++]=D>>b&1,b--;return v})(e.slice(w),D)),{pixels:I,mask:G}}}var et=X(93122),ht=X(44853),m=function(E){var I,D,rt;function b(h){var p,P,_,O,L,j,G,tt,st,vt,ut,Q;for(this.data=h,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},O=null;;){switch(p=this.readUInt32(),G=function(){var ct,yt;for(yt=[],ct=0;ct<4;++ct)yt.push(String.fromCharCode(this.data[this.pos++]));return yt}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(p);break;case"fcTL":O&&this.animation.frames.push(O),this.pos+=4,O={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},_=this.readUInt16(),P=this.readUInt16()||100,O.delay=1e3*_/P,O.disposeOp=this.data[this.pos++],O.blendOp=this.data[this.pos++],O.data=[];break;case"IDAT":case"fdAT":for("fdAT"===G&&(this.pos+=4,p-=4),h=O?.data||this.imgData,vt=0;0<=p?vt<p:vt>p;0<=p?++vt:--vt)h.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(this.transparency.indexed=this.read(p),(tt=255-this.transparency.indexed.length)>0)for(ut=0;0<=tt?ut<tt:ut>tt;0<=tt?++ut:--ut)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(p)[0];break;case 2:this.transparency.rgb=this.read(p)}break;case"tEXt":L=(st=this.read(p)).indexOf(0),j=String.fromCharCode.apply(String,st.slice(0,L)),this.text[j]=String.fromCharCode.apply(String,st.slice(L+1));break;case"IEND":return O&&this.animation.frames.push(O),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(Q=this.colorType)||6===Q,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=p}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}return b.load=function(h,p,w){var P;return"function"==typeof p&&(w=p),(P=new XMLHttpRequest).open("GET",h,!0),P.responseType="arraybuffer",P.onload=function(){var _;return _=new b(new Uint8Array(P.response||P.mozResponseArrayBuffer)),"function"==typeof p?.getContext&&_.render(p),"function"==typeof w?w(_):void 0},P.send(null)},b.prototype.read=function(h){var p,w;for(w=[],p=0;0<=h?p<h:p>h;0<=h?++p:--p)w.push(this.data[this.pos++]);return w},b.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},b.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},b.prototype.decodePixels=function(h){var p,w,P,_,O,L,j,G,st,vt,ut,Q,ct,yt,U,z,q,nt,ft,Ct,gt,wt;if(null==h&&(h=this.imgData),0===h.length)return new Uint8Array(0);for(h=(h=new bt.Z(h)).getBytes(),U=(ut=this.pixelBitlength/8)*this.width,Q=new Uint8Array(U*this.height),L=h.length,yt=0,ct=0,w=0;ct<L;){switch(h[ct++]){case 0:for(_=nt=0;nt<U;_=nt+=1)Q[w++]=h[ct++];break;case 1:for(_=ft=0;ft<U;_=ft+=1)p=h[ct++],O=_<ut?0:Q[w-ut],Q[w++]=(p+O)%256;break;case 2:for(_=Ct=0;Ct<U;_=Ct+=1)p=h[ct++],P=(_-_%ut)/ut,Q[w++]=((z=yt&&Q[(yt-1)*U+P*ut+_%ut])+p)%256;break;case 3:for(_=gt=0;gt<U;_=gt+=1)p=h[ct++],P=(_-_%ut)/ut,O=_<ut?0:Q[w-ut],z=yt&&Q[(yt-1)*U+P*ut+_%ut],Q[w++]=(p+Math.floor((O+z)/2))%256;break;case 4:for(_=wt=0;wt<U;_=wt+=1)p=h[ct++],P=(_-_%ut)/ut,0===yt?z=q=0:(z=Q[(yt-1)*U+P*ut+_%ut],q=P&&Q[(yt-1)*U+(P-1)*ut+_%ut]),j=(O=_<ut?0:Q[w-ut])+z-q,G=Math.abs(j-O),st=Math.abs(j-z),vt=Math.abs(j-q),Q[w++]=(p+(G<=st&&G<=vt?O:st<=vt?z:q))%256;break;default:throw new Error("Invalid filter algorithm: "+h[ct-1])}yt++}return Q},b.prototype.decodePalette=function(){var h,p,w,P,_,O,L,j,G;for(w=this.palette,O=this.transparency.indexed||[],_=new Uint8Array((O.length||0)+w.length),P=0,h=0,p=L=0,j=w.length;L<j;p=L+=3)_[P++]=w[p],_[P++]=w[p+1],_[P++]=w[p+2],_[P++]=null!=(G=O[h++])?G:255;return _},b.prototype.copyToImageData=function(h,p){var w,P,_,O,L,j,G,tt,st,vt,ut;if(P=this.colors,st=null,w=this.hasAlphaChannel,this.palette.length&&(st=null!=(ut=this._decodedPalette)?ut:this._decodedPalette=this.decodePalette(),P=4,w=!0),tt=(_=h.data||h).length,L=st||p,O=j=0,1===P)for(;O<tt;)G=st?4*p[O/4]:j,vt=L[G++],_[O++]=vt,_[O++]=vt,_[O++]=vt,_[O++]=w?L[G++]:this.transparency.grayscale&&this.transparency.grayscale===vt?0:255,j=G;else for(;O<tt;)G=st?4*p[O/4]:j,_[O++]=L[G++],_[O++]=L[G++],_[O++]=L[G++],_[O++]=w?L[G++]:this.transparency.rgb&&this.transparency.rgb[1]===L[G-3]&&this.transparency.rgb[3]===L[G-2]&&this.transparency.rgb[5]===L[G-1]?0:255,j=G},b.prototype.decode=function(){var h;return h=new Uint8Array(this.width*this.height*4),this.copyToImageData(h,this.decodePixels()),h},D=E.document&&E.document.createElement("canvas"),rt=D&&D.getContext("2d"),I=function(h){var p;return rt.width=h.width,rt.height=h.height,rt.clearRect(0,0,h.width,h.height),rt.putImageData(h,0,0),(p=new Image).src=D.toDataURL(),p},b.prototype.decodeFrames=function(h){var p,w,P,_,O,L,j,G;if(this.animation){for(G=[],w=O=0,L=(j=this.animation.frames).length;O<L;w=++O)P=h.createImageData((p=j[w]).width,p.height),_=this.decodePixels(new Uint8Array(p.data)),this.copyToImageData(P,_),p.imageData=P,G.push(p.image=I(P));return G}},b.prototype.renderFrame=function(h,p){var w,P,_;return w=(P=this.animation.frames)[p],_=P[p-1],0===p&&h.clearRect(0,0,this.width,this.height),1===_?.disposeOp?h.clearRect(_.xOffset,_.yOffset,_.width,_.height):2===_?.disposeOp&&h.putImageData(_.imageData,_.xOffset,_.yOffset),0===w.blendOp&&h.clearRect(w.xOffset,w.yOffset,w.width,w.height),h.drawImage(w.image,w.xOffset,w.yOffset)},b.prototype.animate=function(h){var p,w,P,_,O,L,j=this;return w=0,_=(L=this.animation).numFrames,P=L.frames,O=L.numPlays,(p=function(){var G,tt;if(G=w++%_,tt=P[G],j.renderFrame(h,G),_>1&&w/_<O)return j.animation._timeout=setTimeout(p,tt.delay)})()},b.prototype.stopAnimation=function(){var h;return clearTimeout(null!=(h=this.animation)?h._timeout:void 0)},b.prototype.render=function(h){var p,w;return h._png&&h._png.stopAnimation(),h._png=this,h.width=this.width,h.height=this.height,p=h.getContext("2d"),this.animation?(this.decodeFrames(p),this.animate(p)):(w=p.createImageData(this.width,this.height),this.copyToImageData(w,this.decodePixels()),p.putImageData(w,0,0))},b}(self);const C=new Set(["jpg","png","bmp","gif"]);function T(E,e){return x.apply(this,arguments)}function x(){return(x=(0,Y.Z)(function*(E,e){if(!ht.f)throw new dt.Z("rasterCoded:decode","lerc decoder is not supported on big endian platform");yield(0,mt.zD)();const{offset:y}=e,{width:v,height:I,pixelType:D,statistics:rt,depthCount:b,noDataValues:h,bandMasks:p,pixels:w,mask:P}=(0,mt.Jx)(E,{inputOffset:y,returnInterleaved:e.returnInterleaved}),_=new H.Z({width:v,height:I,pixelType:D.toLowerCase(),pixels:w,mask:P,statistics:rt,bandMasks:p,depthCount:b,noDataValues:h});return rt?.length||_.updateStatistics(),_})).apply(this,arguments)}function A(E,e){return c.apply(this,arguments)}function c(){return(c=(0,Y.Z)(function*(E,e){const y=yield(0,et.Jx)(E,{...e,noDataValue:null});(0,pt.O3)(y);const v=new H.Z({width:y.width,height:y.height,pixels:y.pixels,pixelType:y.pixelType.toLowerCase(),mask:y.mask,bandMasks:y.bandMasks,statistics:null});return v.updateStatistics(),v})).apply(this,arguments)}function d(){return(d=(0,Y.Z)(function*(E,e){const y=yield(0,et.Uw)(E,e.customOptions),v=new H.Z({width:y.width,height:y.height,pixels:y.pixels,pixelType:y.pixelType.toLowerCase(),mask:y.mask,statistics:null});return v.updateStatistics(),v})).apply(this,arguments)}function i(E,e){const y=e.pixelType||"u8",v=H.Z.getPixelArrayConstructor(y),I="u8"===y?E:new v(E.buffer),D=[],rt=e.planes||1;if(1===rt)D.push(I);else for(let h=0;h<rt;h++){const p=(e.width||1)*(e.height||E.length),w=new v(p);for(let P=0;P<p;P++)w[P]=I[P*rt+h];D.push(w)}const b=new H.Z({width:e.width||1,height:e.height||E.length,pixels:D,pixelType:y,statistics:null});return b.updateStatistics(),b}function o(E,e){return i(new bt.Z(new Uint8Array(E)).getBytes(),e)}function l(E,e){return i((0,ot.J)(E,e.offset,e.eof,!e.isInputBigEndian),e)}function g(E,e){const y=it.decode(E,e.hasNoZlibMask??void 0),v=new H.Z({width:y.width,height:y.height,pixels:y.pixels,pixelType:"U8",mask:y.mask,statistics:null});return v.updateStatistics(),v}function S(E,e){const y=new Uint8Array(E),v=new m(y),{width:I,height:D}=e,rt=I*D,b=v.decode();let h,p=0,w=0;const P=new Uint8Array(rt);for(p=0;p<rt;p++)P[p]=b[4*p+3];const _=new H.Z({width:I,height:D,pixels:[],pixelType:"U8",mask:P,statistics:[]});for(p=0;p<3;p++){for(h=new Uint8Array(rt),w=0;w<rt;w++)h[w]=b[4*w+p];_.addData({pixels:h})}return _.updateStatistics(),_}function R(){return(R=(0,Y.Z)(function*(E,e,y,v){const I=new lt,D={applyJpegMask:!1,format:e,...y},rt=yield I.decode(E,D,v),b=new H.Z(rt);return b.updateStatistics(),b})).apply(this,arguments)}function N(E){if(null==E)throw new dt.Z("rasterCodec:decode","parameter encodeddata is required.");const e=new Uint8Array(E,0,10);let y="";return 255===e[0]&&216===e[1]?y="jpg":137===e[0]&&80===e[1]&&78===e[2]&&71===e[3]?y="png":67===e[0]&&110===e[1]&&116===e[2]&&90===e[3]&&73===e[4]&&109===e[5]&&97===e[6]&&103===e[7]&&101===e[8]&&32===e[9]?y="lerc":76===e[0]&&101===e[1]&&114===e[2]&&99===e[3]&&50===e[4]&&32===e[5]?y="lerc2":73===e[0]&&73===e[1]&&42===e[2]&&0===e[3]||77===e[0]&&77===e[1]&&0===e[2]&&42===e[3]||73===e[0]&&73===e[1]&&43===e[2]&&0===e[3]||77===e[0]&&77===e[1]&&0===e[2]&&43===e[3]?y="tiff":71===e[0]&&73===e[1]&&70===e[2]?y="gif":66===e[0]&&77===e[1]?y="bmp":String.fromCharCode.apply(null,e).toLowerCase().includes("error")&&(y="error"),y}function B(E){let e=N(E);return"lerc2"===e?e="lerc":"error"===e&&(e=""),e}function M(E){return f.apply(this,arguments)}function f(){return f=(0,Y.Z)(function*(E,e={},y){if(null==E)throw new dt.Z("rasterCodec:decode","missing encodeddata parameter.");let v=e.format?.toLowerCase();if(!("bsq"!==v&&"bip"!==v||null!=e.width&&null!=e.height))throw new dt.Z("rasterCodec:decode","requires width and height in options parameter.");if("tiff"===v&&e.customOptions)return function u(E,e){return d.apply(this,arguments)}(E,e);if((!v||"bsq"!==v&&"bip"!==v&&"deflate"!==v&&"lzw"!==v)&&(v=N(E)),e.useCanvas&&C.has(v))return function W(E,e,y,v){return R.apply(this,arguments)}(E,v,e,y);const I=function F(E){let e=null;switch(E){case"lerc":case"lerc2":e=T;break;case"jpg":e=g;break;case"png":e=S;break;case"bsq":case"bip":e=(y,v)=>function s(E,e,y){const{pixelTypeCtor:v}=function K(E){let e=null,y=null;switch(E?E.toLowerCase():"f32"){case"u1":case"u2":case"u4":case"u8":y=255,e=Uint8Array;break;case"u16":y=y||65535,e=Uint16Array;break;case"u32":y=y||2**32-1,e=Uint32Array;break;case"s8":y=y||-128,e=Int8Array;break;case"s16":y=y||-32768,e=Int16Array;break;case"s32":y=y||0-2**31,e=Int32Array;break;default:e=Float32Array}return{pixelTypeCtor:e,noDataValue:y}}(e.pixelType),I=(0,$.decode)(E,{width:e.width,height:e.height,pixelType:v,format:y}),D=new H.Z({width:e.width,height:e.height,pixels:I.pixels,pixelType:e.pixelType,mask:I.mask,statistics:null});return D.updateStatistics(),D}(y,v,E);break;case"tiff":e=A;break;case"deflate":e=o;break;case"lzw":e=l;break;case"error":e=()=>{throw new dt.Z("rasterCodec:decode","input data contains error")};break;default:e=()=>{throw new dt.Z("rasterCodec:decode","unsupported raster format")}}return e}(v);e.isPoint&&(null!=(e={...e}).width&&e.width++,null!=e.height&&e.height++);const D=yield I(E,e);return D&&("jpg"!==v&&null!=e.noDataValue&&1===D.depthCount&&(0,at.A)(D,e.noDataValue,{customFloatTolerance:e.tolerance}),e.isPoint&&function k(E,e=1){if(!E)return;const{pixels:y,width:v,height:I,mask:D}=E;if(!y||0===y.length)return;const rt=y.length,b=v-1,h=I-1,p=[];let w,P,_,O,L,j,G=null;const tt=H.Z.getPixelArrayConstructor(E.pixelType);if(0===e){for(w=0;w<rt;w++){for(L=y[w],j=new tt(b*h),P=0;P<h;P++)for(O=P*v,_=0;_<b;_++)j[P*b+_]=L[O+_];p.push(j)}if(null!=D)for(G=new Uint8Array(b*h),P=0;P<h;P++)for(O=P*v,_=0;_<b;_++)G[P*b+_]=D[O+_]}else{for(w=0;w<rt;w++){for(L=y[w],j=new tt(b*h),P=0;P<h;P++)for(O=P*v,_=0;_<b;_++)j[P*b+_]=(L[O+_]+L[O+_+1]+L[O+v+_]+L[O+v+_+1])/4;p.push(j)}if(D)for(G=new Uint8Array(b*h),P=0;P<h;P++)for(O=P*v,_=0;_<b;_++)G[P*b+_]=Math.min.apply(null,[D[O+_],D[O+_+1],D[O+v+_],D[O+v+_+1]])}E.width=b,E.height=h,E.mask=G,E.pixels=p}(D),D)}),f.apply(this,arguments)}},93122:(At,Tt,X)=>{X.d(Tt,{Dq:()=>S,FI:()=>W,I7:()=>F,If:()=>R,Jx:()=>D,Uw:()=>v,cK:()=>f,ee:()=>N,vr:()=>E});var Y=X(15861),dt=X(15365),pt=X(3579),H=X(68786),_t=X(94194),bt=X(67313),lt=X(635),a=X(44853),it=X(34022);const mt=[0,1,1,2,4,8,1,1,2,4,8,4,8,-1,-1,-1,8,8,8],ot=4294967296,at=new Set([1,5,6,7,8,34712,34887]);function J(b,h){let p="unknown";return 3===b?p=64===h?"f64":"f32":1===b?1===h?p="u1":2===h?p="u2":4===h?p="u4":h<=8?p="u8":h<=16?p="u16":h<=32&&(p="u32"):2===b&&(h<=8?p="s8":h<=16?p="s16":h<=32&&(p="s32")),p}function Z(b){let h=null;switch(b?b.toLowerCase():"f32"){case"u1":case"u2":case"u4":case"u8":h=Uint8Array;break;case"u16":h=Uint16Array;break;case"u32":h=Uint32Array;break;case"s8":h=Int8Array;break;case"s16":h=Int16Array;break;case"s32":h=Int32Array;break;case"f64":h=Float64Array;break;default:h=Float32Array}return h}function V(b,h){return{x:h[0]*b.x+h[1]*b.y+h[2],y:h[3]*b.x+h[4]*b.y+h[5]}}function $(b,h){return b.get(h)?.values}function et(b,h){return b.get(h)?.values}function ht(b,h){return b.get(h)?.values?.[0]}function m(b,h){return b.get(h)?.values?.[0]}function C(b,h,p,w=0,P=lt.Z.tiffTags,_=4){const O=8===_,L=O?k(new DataView(b,p,8),0,h):new DataView(b,p,2).getUint16(0,h),j=4+2*_,G=O?8:2,tt=G+L*j;if(p+tt>b.byteLength)return{success:!1,ifd:null,nextIFD:null,requiredBufferSize:tt};const st=p+tt+4<=b.byteLength?M(new DataView(b,p+tt,8===_?8:4),0,h,8===_):null,vt=p+G,ut=new Map;let Q,ct,yt,U,z,q=0,nt=0;for(let ft=0;ft<L;ft++){ct=new DataView(b,vt+j*ft,j),yt=ct.getUint16(0,h),z=ct.getUint16(2,h),U=lt.Z.getTagName(yt,P);const Ct=[];2===_?(q=ct.getUint16(4,h),nt=ct.getUint16(6,h)):4===_?(q=ct.getUint32(4,h),nt=ct.getUint32(8,h)):8===_&&(q=M(ct,4,h,!0),nt=M(ct,12,h,!0),Ct.push(ct.getUint32(12,h)),Ct.push(ct.getUint32(16,h))),Q={id:yt,type:z,valueCount:q,valueOffset:nt,valueOffsets:Ct,values:null},S(b,h,Q,w,!1,_),ut.set(U,Q)}return{success:!0,ifd:ut,nextIFD:st,requiredBufferSize:tt}}const T=(b,h)=>(0,H.Jx)(b,{inputOffset:h}).pixels[0];function x(b,h){if(1!==h&&2!==h&&4!==h)return b;const p=new Uint8Array(b),w=8/h,P=new Uint8Array(b.byteLength*w);let _=0;const O=2**h-1;for(let L=0;L<p.length;L++){const j=p[L];for(let G=0;G<w;G++)P[_++]=j<<h*G>>>8-h&O}return P.buffer}function A(b,h,p){const w=new pt.J;w.parse(b),w.colorTransform=6===p?-1:0;const P=w.getData(w.width,w.height,1!==h&&4!==h);return new Uint8Array(P.buffer)}function c(b){const h=new it.Z(b).getBytes(),p=new ArrayBuffer(h.length),w=new Uint8Array(p);return w.set(h),w}function u(b,h,p,w,P){return d.apply(this,arguments)}function d(){return(d=(0,Y.Z)(function*(b,h,p,w,P){const _=a.f===h,O=m(p,"BITSPERSAMPLE"),L=m(p,"SAMPLESPERPIXEL")??1,j=m(p,"PHOTOMETRICINTERPRETATION"),G=m(p,"SAMPLEFORMAT")??1,tt=J(G,O),st=m(p,"COMPRESSION")??1,vt=Z(tt);let ut,Q,ct;if(34887===st)return yield(0,H.zD)(),T(b,w);if(1===st)ut=b.slice(w,w+P),Q=new Uint8Array(ut);else if(8===st||32946===st)Q=new Uint8Array(b,w,P),Q=c(Q),ut=Q.buffer;else if(6===st)Q=new Uint8Array(b,w,P),Q=A(Q,L,j),ut=Q.buffer;else if(7===st){const q=p.get("JPEGTABLES").values,nt=q.length-2;Q=new Uint8Array(nt+P-2);for(let Ct=0;Ct<nt;Ct++)Q[Ct]=q[Ct];const ft=new Uint8Array(b,w+2,P-2);for(let Ct=0;Ct<ft.length;Ct++)Q[nt+Ct]=ft[Ct];Q=A(Q,L,j),ut=Q.buffer}else{if(5!==st)throw new Error("tiff-decode: unsupport compression "+st);Q=(0,_t.J)(b,w,P,h),ut=Q.buffer}if(ut=x(ut,O),"u8"===tt||"s8"===tt||_)ct=new vt(ut);else{ut=new ArrayBuffer(Q.length);const q=new Uint8Array(ut);switch(tt){case"u16":case"s16":for(let nt=0;nt<Q.length;nt+=2)q[nt]=Q[nt+1],q[nt+1]=Q[nt];break;case"u32":case"s32":case"f32":for(let nt=0;nt<Q.length;nt+=4)q[nt]=Q[nt+3],q[nt+1]=Q[nt+2],q[nt+2]=Q[nt+1],q[nt+3]=Q[nt]}ct=new vt(ut)}const yt=m(p,"PREDICTOR")??1,U=m(p,"TILEWIDTH"),z=m(p,"TILELENGTH");if(yt>1&&(5===st||8===st||32946===st)&&U&&z){const q=R(p),nt=new vt(ct.length);nt.set(ct),ct=function y(b,h,p,w,P){const _=w?4:1,O=p*_*P;w&&(b=new Uint8Array(b.buffer));for(let G=0;G<h;G++){const tt=G*O;for(let st=P;st<O;st++)b[tt+st]+=b[tt+st-P]}if(!w)return b;const L=new Uint8Array(b.length),j=p*P;for(let G=0;G<h;G++){const tt=G*O;for(let st=0;st<j;st++)for(let vt=0;vt<_;vt++)L[tt+st*_+vt]=b[tt+st+(_-vt-1)*j]}return new Float32Array(L.buffer)}(nt,z,U,3===G&&3===yt,q?1:L)}return ct})).apply(this,arguments)}function o(){return(o=(0,Y.Z)(function*(b,h,p){const w=et(p,"TILEOFFSETS");if(void 0===w)return null;const P=et(p,"TILEBYTECOUNTS"),{width:_,height:O,pixelType:L,tileWidth:j,tileHeight:G}=W([p]),tt=R(p,h),st=m(p,"SAMPLESPERPIXEL")||h.planes,vt=_*O,ut=m(p,"BITSPERSAMPLE"),Q=34887===(m(p,"COMPRESSION")??1),ct=Z(L),yt=[];for(let Lt=0;Lt<st;Lt++)yt.push(new ct(vt));let U,z,q,nt,ft,Ct,gt,wt,Et,St,xt,kt,Ot;const Rt=Math.ceil(_/j),Mt=new Uint8Array(vt).fill(255);let Dt=!1;if(ut%8==0)if(Q&&tt&&st>1){const Lt=Math.round(w.length/st);for(U=0;U<Lt;U++){Ct=Math.floor(U/Rt)*G,gt=U%Rt*j,wt=Ct*_+gt;for(let Ut=0;Ut<st;Ut++){const It=U*st+Ut;for(0===P[It]?(q=null,Dt=!0):q=yield u(b,h.littleEndian,p,w[It],P[It]),St=0,Et=wt,kt=Math.min(j,_-gt),xt=Math.min(G,O-Ct),Ot=yt[Ut],nt=0;nt<xt;nt++)for(Et=wt+nt*_,St=nt*j,ft=0;ft<kt;ft++,Et++,St++)q?Ot[Et]=q[St]:Mt[Et]=0}}}else for(U=0;U<w.length;U++)for(Ct=Math.floor(U/Rt)*G,gt=U%Rt*j,wt=Ct*_+gt,0===P[U]?(q=null,Dt=!0):q=yield u(b,h.littleEndian,p,w[U],P[U]),St=0,Et=wt,kt=Math.min(j,_-gt),xt=Math.min(G,O-Ct),z=0;z<st;z++)if(Ot=yt[z],tt||Q)for(nt=0;nt<xt;nt++)for(Et=wt+nt*_,St=j*G*z+nt*j,ft=0;ft<kt;ft++,Et++,St++)q?Ot[Et]=q[St]:Mt[Et]=0;else for(nt=0;nt<xt;nt++)for(Et=wt+nt*_,St=nt*j*st+z,ft=0;ft<kt;ft++,Et++,St+=st)q?Ot[Et]=q[St]:Mt[Et]=0;return{width:_,height:O,pixelType:L,pixels:yt,mask:Dt?Mt:void 0}})).apply(this,arguments)}const l=(b,h,p)=>{const w=a.f===h.littleEndian,P=et(p,"STRIPOFFSETS");if(void 0===P)return null;const{width:_,height:O,pixelType:L}=W([p]),j=m(p,"SAMPLESPERPIXEL")||h.planes,G=m(p,"PHOTOMETRICINTERPRETATION"),tt=_*O,st=m(p,"BITSPERSAMPLE"),vt=Z(L),ut=new vt(tt*j),Q=et(p,"STRIPBYTECOUNTS"),ct=m(p,"ROWSPERSTRIP"),yt=m(p,"COMPRESSION")??1;let U,z,q,nt,ft,Ct,gt,wt,Et,St=ct;if(st%8==0)for(U=0;U<P.length;U++){if(ft=U*(ct*_)*j,St=(U+1)*ct>O?O-U*ct:ct,"u8"===L||"s8"===L||w)8===yt||32946===yt?(gt=new Uint8Array(b,P[U],Q[U]),gt=c(gt),Ct=gt.buffer):6===yt?(gt=new Uint8Array(b,P[U],Q[U]),gt=A(gt,j,G),Ct=gt.buffer):5===yt?(gt=(0,_t.J)(b,P[U],Q[U],h.littleEndian),Ct=gt.buffer):(Q[U]!==St*_*j*st/8&&console.log("strip byte counts is different than expected"),Ct=b.slice(P[U],P[U]+Q[U])),Ct=x(Ct,st),nt=new vt(Ct);else{switch(6===yt||8===yt||32946===yt?(gt=new Uint8Array(b,P[U],Q[U]),wt=c(gt),Ct=wt.buffer):(Q[U]!==St*_*j*st/8&&console.log("strip byte counts is different than expected"),Ct=new ArrayBuffer(Q[U]),gt=new Uint8Array(b,P[U],Q[U]),wt=new Uint8Array(Ct)),L){case"u16":case"s16":for(q=0;q<gt.length;q+=2)wt[q]=gt[q+1],wt[q+1]=gt[q];break;case"u32":case"s32":case"f32":for(q=0;q<gt.length;q+=4)wt[q]=gt[q+3],wt[q+1]=gt[q+2],wt[q+2]=gt[q+1],wt[q+3]=gt[q]}Ct=x(Ct,st),nt=new vt(Ct)}ut.set(nt,ft)}const xt=[];if(1===j)xt.push(ut);else for(U=0;U<j;U++){for(Et=new vt(tt),z=0;z<tt;z++)Et[z]=ut[z*j+U];xt.push(Et)}return{width:_,height:O,pixelType:L,pixels:xt}},s=(b,h,p)=>{if(!(b&&b.length>0&&h&&p))return null;let w,P,_;const O=b[0].length,L=b.length,j=new Uint8Array(O);for(let G=0;G<L;G++)if(w=b[G],P=h[G],_=p[G],0===G)for(let tt=0;tt<O;tt++)j[tt]=w[tt]<P||w[tt]>_?0:1;else for(let tt=0;tt<O;tt++)j[tt]&&(j[tt]=w[tt]<P||w[tt]>_?0:1);return j},g=b=>{if(!b)return null;const h=b.match(/<Item(.*?)Item>/gi);if(!h||0===h.length)return null;const p=new Map;let w,P,_,O,L;for(let U=0;U<h.length;U++)w=h[U],P=w.slice(6,w.indexOf(">")),O=w.indexOf("sample="),O>-1&&(L=w.slice(O+8,w.indexOf('"',O+8))),O=w.indexOf("name="),O>-1&&(P=w.slice(O+6,w.indexOf('"',O+6))),P&&(_=w.slice(w.indexOf(">")+1,w.indexOf("</Item>")).trim(),null!=L?p.has(P)?p.get(P)[L]=_:p.set(P,[_]):p.set(P,_)),L=null;const j=p.get("STATISTICS_MINIMUM"),G=p.get("STATISTICS_MAXIMUM"),tt=p.get("STATISTICS_MEAN"),st=p.get("STATISTICS_STDDEV");let vt=null;if(j&&G){vt=[];for(let U=0;U<j.length;U++)vt.push({min:parseFloat(j[U]),max:parseFloat(G[U]),avg:tt&&parseFloat(tt[U]),stddev:st&&parseFloat(st[U])})}const ut=p.get("BandName"),Q=p.get("WavelengthMin"),ct=p.get("WavelengthMax");let yt=null;if(ut){yt=[];for(let U=0;U<ut.length;U++)yt.push({BandName:ut[U],WavelengthMin:Q&&parseFloat(Q[U]),WavelengthMax:ct&&parseFloat(ct[U])})}return{statistics:vt,bandProperties:yt,dataType:p.get("DataType"),rawMetadata:p}};function S(b,h,p,w=0,P=!1,_=4){if(p.values)return!0;const O=p.type,L=p.valueCount;let j=p.valueOffset,G=[];const tt=mt[O],st=8*tt,vt=L*tt,ut=L*mt[O]*8;let Q,ct;const yt=8===_?64:32,U=p.valueOffsets;if(ut>yt&&vt>(P?b.byteLength:b?b.byteLength-j+w:0))return p.offlineOffsetSize=[j,vt],p.values=null,!1;if(ut<=yt){if(!h)if(yt<=32)j>>>=32-ut;else{const z=U?.length?U[0]:j>>>0,q=U?.length?U[1]:Math.round((j-z)/ot);ut<=32?(j=z>>>32-ut,U[0]=j):(j=z*2**(32-ut)+(q>>>32-ut),U[0]=z,U[1]=q>>>32-ut)}if(1===L&&st===yt)G=[j];else if(64===yt){const z=U?.length?U[0]:j>>>0,q=U?.length?U[1]:Math.round((j-z)/ot);let nt=z,ft=32;for(ct=1;ct<=L;ct++){const Ct=32-st*ct%32;if(ft<st){const gt=nt<<Ct>>>32-ft;nt=q,G.push(gt+(q<<32-ft>>>32-ft)*2**(st-ft)),ft-=32-(st-ft)}else G.push(nt<<Ct>>>32-st),ft-=st;0===ft&&(ft=32,nt=q)}}else for(ct=1;ct<=L;ct++)G.push(j<<32-st*ct>>>32-st)}else{j-=w,P&&(j=0);for(let z=j;z<j+vt;z+=tt){switch(O){case 1:case 2:case 7:Q=new DataView(b,z,1).getUint8(0);break;case 3:Q=new DataView(b,z,2).getUint16(0,h);break;case 4:case 13:Q=new DataView(b,z,4).getUint32(0,h);break;case 5:Q=new DataView(b,z,4).getUint32(0,h)/new DataView(b,z+4,4).getUint32(0,h);break;case 6:Q=new DataView(b,z,1).getInt8(0);break;case 8:Q=new DataView(b,z,2).getInt16(0,h);break;case 9:Q=new DataView(b,z,4).getInt32(0,h);break;case 10:Q=new DataView(b,z,4).getInt32(0,h)/new DataView(b,z+4,4).getInt32(0,h);break;case 11:Q=new DataView(b,z,4).getFloat32(0,h);break;case 12:Q=new DataView(b,z,8).getFloat64(0,h);break;case 16:case 18:Q=k(new DataView(b,z,8),0,h);break;case 17:Q=B(new DataView(b,z,8),0,h);break;default:Q=null}G.push(Q)}}if(2===O){let z="";const q=G;for(G=[],ct=0;ct<q.length;ct++)0===q[ct]&&""!==z?(G.push(z),z=""):z+=String.fromCharCode(q[ct]);""===z&&0!==G.length||G.push(z)}return p.values=G,!0}function W(b){const h=b[0],p=m(h,"TILEWIDTH"),w=m(h,"TILELENGTH"),P=m(h,"IMAGEWIDTH"),_=m(h,"IMAGELENGTH"),O=m(h,"BITSPERSAMPLE"),L=m(h,"SAMPLESPERPIXEL"),j=m(h,"SAMPLEFORMAT")??1,G=J(j,O),tt=R(h),st=$(h,"GDAL_NODATA");let vt=null;st?.length&&(vt=st.map(It=>parseFloat(It)),vt.some(It=>isNaN(It))&&(vt=null));const ut=m(h,"COMPRESSION")??1;let Q;switch(ut){case 1:Q="NONE";break;case 2:case 3:case 4:case 32771:Q="CCITT";break;case 5:Q="LZW";break;case 6:case 7:Q="JPEG";break;case 32773:Q="PACKBITS";break;case 8:case 32946:Q="DEFLATE";break;case 34712:Q="JPEG2000";break;case 34887:Q="LERC";break;default:Q=String(ut)}let ct=!0,yt="";at.has(ut)||(ct=!1,yt+="unsupported tag compression "+ut),j>3&&(ct=!1,yt+="unsupported tag sampleFormat "+j),1!==O&&2!==O&&4!==O&&O%8!=0&&(ct=!1,yt+="unsupported tag bitsPerSample "+O);const U=ht(h,"GEOASCIIPARAMS");let z;if(U){const It=U.split("|").find(Bt=>Bt.includes("ESRI PE String = ")),Pt=It?It.replace("ESRI PE String = ",""):"";z=Pt.startsWith("COMPD_CS")||Pt.startsWith("PROJCS")||Pt.startsWith("GEOGCS")?{wkid:null,wkt:Pt}:null}const q=et(h,"GEOTIEPOINTS"),nt=et(h,"GEOPIXELSCALE"),ft=et(h,"GEOTRANSMATRIX"),Ct=h.has("GEOKEYDIRECTORY")?h.get("GEOKEYDIRECTORY").data:null;let gt,wt,Et=!1,St=!1;if(Ct){Et=2===m(Ct,"GTRasterTypeGeoKey");const It=m(Ct,"GTModelTypeGeoKey");if(2===It){const Pt=m(Ct,"GeographicTypeGeoKey");Pt>=1024&&Pt<=32766&&(z={wkid:Pt}),z||32767!==Pt||(St=!0,z={wkid:4326})}else if(1===It){const Pt=m(Ct,"ProjectedCSTypeGeoKey");Pt>=1024&&Pt<=32766&&(z={wkid:Pt})}}if(nt&&q&&q.length>=6?(gt=[nt[0],0,q[3]-q[0]*nt[0],0,-Math.abs(nt[1]),q[4]-q[1]*nt[1]],Et&&(gt[2]-=.5*gt[0]+.5*gt[1],gt[5]-=.5*gt[3]+.5*gt[4])):ft&&16===ft.length&&(gt=Et?[ft[0],ft[1],ft[3]-.5*ft[0],ft[4],ft[5],ft[7]-.5*ft[5]]:[ft[0],ft[1],ft[3],ft[4],ft[5],ft[7]]),gt){const It=[{x:0,y:_},{x:0,y:0},{x:P,y:_},{x:P,y:0}];let Pt,Bt=Number.POSITIVE_INFINITY,Gt=Number.POSITIVE_INFINITY,Nt=Number.NEGATIVE_INFINITY,Ft=Number.NEGATIVE_INFINITY;for(let jt=0;jt<It.length;jt++)Pt=V(It[jt],gt),Bt=Pt.x>Bt?Bt:Pt.x,Nt=Pt.x<Nt?Nt:Pt.x,Gt=Pt.y>Gt?Gt:Pt.y,Ft=Pt.y<Ft?Ft:Pt.y;wt={xmin:Bt,xmax:Nt,ymin:Gt,ymax:Ft,spatialReference:z}}else wt={xmin:-.5,ymin:.5-_,xmax:P-.5,ymax:.5,spatialReference:z};St&&(wt.xmax-wt.xmin>400||Math.max(Math.abs(wt.xmin),Math.abs(wt.xmax))>361)&&(z=null,wt.spatialReference=null);const xt=N(b);let kt,Ot,Rt,Mt,Dt;if(xt.length>0){Rt=Math.round(Math.log(P/m(xt[0],"IMAGEWIDTH"))/Math.LN2);const It=xt[xt.length-1];Mt=Math.round(Math.log(P/m(It,"IMAGEWIDTH"))/Math.LN2),kt=m(It,"TILEWIDTH"),Ot=m(It,"TILELENGTH")}kt=null!=Mt&&Mt>0?kt||p:null,Ot=null!=Mt&&Mt>0?Ot||w:null,p&&(Dt=[{maxCol:Math.ceil(P/p)-1,maxRow:Math.ceil(_/w)-1,minRow:0,minCol:0}],xt.forEach(It=>{Dt.push({maxCol:Math.ceil(m(It,"IMAGEWIDTH")/m(It,"TILEWIDTH"))-1,maxRow:Math.ceil(m(It,"IMAGELENGTH")/m(It,"TILELENGTH"))-1,minRow:0,minCol:0})}));const Lt=ht(b[0],"GDAL_METADATA"),Ut=g(Lt);return yt+=" "+e({width:P,height:_,tileWidth:p,tileHeight:w,planes:L,ifds:b}),{width:P,height:_,tileWidth:p,tileHeight:w,planes:L,isBSQ:tt,pixelType:G,compression:Q,noData:vt,hasMaskBand:F(b).length===xt.length+1,isSupported:ct,message:yt,extent:wt,isPseudoGeographic:St,affine:nt?null:gt,firstPyramidLevel:Rt,maximumPyramidLevel:Mt,pyramidBlockWidth:kt,pyramidBlockHeight:Ot,tileBoundary:Dt,metadata:Ut}}function R(b,h){const p=$(b,"PLANARCONFIGURATION");return p?2===p[0]:!!h&&h.isBSQ}function N(b){return b.filter(h=>1===m(h,"NEWSUBFILETYPE"))}function F(b){return b.filter(h=>{const p=4==(4&(m(h,"NEWSUBFILETYPE")??0)),w=4===m(h,"PHOTOMETRICINTERPRETATION");return p&&w})}function k(b,h,p){const w=b.getUint32(h,p),P=b.getUint32(h+4,p);return p?P*ot+w:w*ot+P}function B(b,h,p){let w=p?b.getInt32(h,p):b.getUint32(h,p),P=p?b.getUint32(h+4,p):b.getInt32(h+4,p);const _=(p?w:P)>=0?1:-1;return p?w*=_:P*=_,_*(p?P*ot+w:w*ot+P)}function M(b,h,p,w){return w?k(b,h,p):b.getUint32(h,p)}function f(b){const h=new DataView(b,0,16),p=h.getUint16(0,!1);let w=null;if(18761===p)w=!0;else{if(19789!==p)throw new Error("unexpected endianess byte");w=!1}const P=h.getUint16(2,w);if(42!==P&&43!==P)throw new Error("unexpected tiff identifier");let _=4;const O=43===P;if(O){const L=h.getUint16(_,w);if(_+=2,8!==L)throw new Error("unsupported bigtiff version");if(0!==h.getUint16(_,w))throw new Error("unsupported bigtiff version");_+=2}return{littleEndian:w,isBigTiff:O,firstIFDPos:M(h,_,w,O)}}function E(b,h,p,w=0,P=lt.Z.tiffTags,_=4){const O=C(b,h,p,w,P,_);let L;const j=O.ifd;if(j){if(lt.Z.ifdTags.forEach((G,tt)=>{j.has(tt)&&(L=j.get(tt),L.data=C(b,h,L.valueOffset-w,w,G).ifd)}),j.has("GEOKEYDIRECTORY")){L=j.get("GEOKEYDIRECTORY");const G=L.values;if(G&&G.length>4){const tt=G[0]+"."+G[1]+"."+G[2];L.data=C(b,h,L.valueOffset+6-w,w,lt.Z.geoKeys,2).ifd,L.data&&L.data.set("GEOTIFFVersion",{id:0,type:2,valueCount:1,valueOffset:null,values:[tt]})}}if(j.has("XMP")){L=j.get("XMP");const G=L.values;"number"==typeof G[0]&&7===L.type&&(L.values=[(0,dt.f)(new Uint8Array(G))])}}return O}function e(b){const{width:h,height:p,tileHeight:w,tileWidth:P}=b,_=b.planes,O=P?P*w:h*p,L=m(b.ifds[0],"BITSPERSAMPLE");let j="";return O*_>2**30/(L>8?L/8:1)&&(j=P?"tiled tiff exceeding 1 gigabits per tile is not supported":"scanline tiff exceeding 1 gigabits is not supported"),j}function v(b,h){return I.apply(this,arguments)}function I(){return(I=(0,Y.Z)(function*(b,h){const{headerInfo:p,ifd:w,offsets:P,sizes:_}=h,O=[];for(let Et=0;Et<P.length;Et++){const St=yield u(b,p.littleEndian,w,P[Et],_[Et]||b.byteLength);O.push(St)}const L=R(w,p),j=m(w,"BITSPERSAMPLE"),G=J(m(w,"SAMPLEFORMAT")??1,j),tt=m(w,"SAMPLESPERPIXEL")||p.planes,st=Z(G),vt=m(w,"TILEWIDTH"),ut=m(w,"TILELENGTH"),Q=m(w,"COMPRESSION")??1,ct=vt*ut;let yt;const U=[];let z=O[0];const q=34887===Q;for(let Et=0;Et<tt;Et++){if(yt=new st(ct),O.length===tt)z=O[Et],z.length===ct&&(yt=z);else if(z.length)if(L||q)yt=z.length===ct?z:z.slice(ct*Et,ct*(Et+1));else for(let St=0;St<ct;St++)yt[St]=z[St*tt+Et];U.push(yt)}const nt=p.noData?p.noData[0]:h.noDataValue,ft=p.metadata?p.metadata.statistics:null,Ct=ft?ft.map(Et=>Et.min):null,gt=ft?ft.map(Et=>Et.max):null,wt={pixelType:G,width:vt,height:ut,pixels:U,noDataValue:nt};return null!=nt?(0,bt.A)(wt,nt):Ct&&gt&&h.applyMinMaxConstraint&&(wt.mask=s(U,Ct,gt)),wt})).apply(this,arguments)}function D(b){return rt.apply(this,arguments)}function rt(){return rt=(0,Y.Z)(function*(b,h={}){const p=h.pyramidLevel||0,w=h.headerInfo||function K(b){const{littleEndian:h,isBigTiff:p,firstIFDPos:w}=f(b);let P=w;const _=[];do{const O=E(b,h,P,0,lt.Z.tiffTags,p?8:4);if(!O.success)break;_.push(O.ifd),P=O.nextIFD}while(P>0);return{...W(_),littleEndian:h,isBigTiff:p,ifds:_,pyramidIFDs:N(_),maskIFDs:F(_)}}(b),{ifds:P,noData:_}=w;if(0===P.length)throw new Error("no valid image file directory");const O=e(w);if(O)throw O;let L=null;const j=-1===p?P[P.length-1]:P[p],G=_??h.noDataValue;return L=w.tileWidth?yield function i(b,h,p){return o.apply(this,arguments)}(b,w,j):l(b,w,j),L&&(null!=G&&(0,bt.A)(L,G),L)}),rt.apply(this,arguments)}},635:(At,Tt,X)=>{X.d(Tt,{Z:()=>lt});const Y=(()=>{const a=[];return a[254]="NEWSUBFILETYPE",a[255]="SUBFILETYPE",a[256]="IMAGEWIDTH",a[257]="IMAGELENGTH",a[258]="BITSPERSAMPLE",a[259]="COMPRESSION",a[262]="PHOTOMETRICINTERPRETATION",a[263]="THRESHHOLDING",a[264]="CELLWIDTH",a[265]="CELLLENGTH",a[266]="FILLORDER",a[269]="DOCUMENTNAME",a[270]="IMAGEDESCRIPTION",a[271]="MAKE",a[272]="MODEL",a[273]="STRIPOFFSETS",a[274]="ORIENTATION",a[277]="SAMPLESPERPIXEL",a[278]="ROWSPERSTRIP",a[279]="STRIPBYTECOUNTS",a[280]="MINSAMPLEVALUE",a[281]="MAXSAMPLEVALUE",a[282]="XRESOLUTION",a[283]="YRESOLUTION",a[284]="PLANARCONFIGURATION",a[285]="PAGENAME",a[286]="XPOSITION",a[287]="YPOSITION",a[288]="FREEOFFSETS",a[289]="FREEBYTECOUNTS",a[290]="GRAYRESPONSEUNIT",a[291]="GRAYRESPONSECURVE",a[292]="T4OPTIONS",a[293]="T6OPTIONS",a[296]="RESOLUTIONUNIT",a[297]="PAGENUMBER",a[300]="COLORRESPONSEUNIT",a[301]="TRANSFERFUNCTION",a[305]="SOFTWARE",a[306]="DATETIME",a[315]="ARTIST",a[316]="HOSTCOMPUTER",a[317]="PREDICTOR",a[318]="WHITEPOINT",a[319]="PRIMARYCHROMATICITIES",a[320]="COLORMAP",a[321]="HALFTONEHINTS",a[322]="TILEWIDTH",a[323]="TILELENGTH",a[324]="TILEOFFSETS",a[325]="TILEBYTECOUNTS",a[326]="BADFAXLINES",a[327]="CLEANFAXDATA",a[328]="CONSECUTIVEBADFAXLINES",a[330]="SUBIFD",a[332]="INKSET",a[333]="INKNAMES",a[334]="NUMBEROFINKS",a[336]="DOTRANGE",a[337]="TARGETPRINTER",a[338]="EXTRASAMPLES",a[339]="SAMPLEFORMAT",a[340]="SMINSAMPLEVALUE",a[341]="SMAXSAMPLEVALUE",a[342]="TRANSFERRANGE",a[347]="JPEGTABLES",a[512]="JPEGPROC",a[513]="JPEGIFOFFSET",a[514]="JPEGIFBYTECOUNT",a[515]="JPEGRESTARTINTERVAL",a[517]="JPEGLOSSLESSPREDICTORS",a[518]="JPEGPOINTTRANSFORM",a[519]="JPEGQTABLES",a[520]="JPEGDCTABLES",a[521]="JPEGACTABLES",a[529]="YCBCRCOEFFICIENTS",a[530]="YCBCRSUBSAMPLING",a[531]="YCBCRPOSITIONING",a[532]="REFERENCEBLACKWHITE",a[700]="XMP",a[33550]="GEOPIXELSCALE",a[33922]="GEOTIEPOINTS",a[33432]="COPYRIGHT",a[42112]="GDAL_METADATA",a[42113]="GDAL_NODATA",a[50844]="RPCCOEFFICIENT",a[34264]="GEOTRANSMATRIX",a[34735]="GEOKEYDIRECTORY",a[34736]="GEODOUBLEPARAMS",a[34737]="GEOASCIIPARAMS",a[34665]="EXIFIFD",a[34853]="GPSIFD",a[40965]="INTEROPERABILITYIFD",a})(),dt=(()=>{const a=Y.slice();return a[36864]="ExifVersion",a[40960]="FlashpixVersion",a[40961]="ColorSpace",a[42240]="Gamma",a[37121]="ComponentsConfiguration",a[37122]="CompressedBitsPerPixel",a[40962]="PixelXDimension",a[40963]="PixelYDimension",a[37500]="MakerNote",a[37510]="UserComment",a[40964]="RelatedSoundFile",a[36867]="DateTimeOriginal",a[36868]="DateTimeDigitized",a[36880]="OffsetTime",a[36881]="OffsetTimeOriginal",a[36882]="OffsetTimeDigitized",a[37520]="SubSecTime",a[37521]="SubSecTimeOriginal",a[37522]="SubSecTimeDigitized",a[37888]="Temperature",a[37889]="Humidity",a[37890]="Pressure",a[37891]="WaterDepth",a[37892]="Acceleration",a[37893]="CameraElevationAngle",a[42016]="ImageUniqueID",a[42032]="CameraOwnerName",a[42033]="BodySerialNumber",a[42034]="LensSpecification",a[42035]="LensMake",a[42036]="LensModel",a[42037]="LensSerialNumber",a[33434]="ExposureTime",a[33437]="FNumber",a[34850]="ExposureProgram",a[34852]="SpectralSensitivity",a[34855]="PhotographicSensitivity",a[34856]="OECF",a[34864]="SensitivityType",a[34865]="StandardOutputSensitivity",a[34866]="RecommendedExposureIndex",a[34867]="ISOSpeed",a[34868]="ISOSpeedLatitudeyyy",a[34869]="ISOSpeedLatitudezzz",a[37377]="ShutterSpeedValue",a[37378]="ApertureValue",a[37379]="BrightnessValue",a[37380]="ExposureBiasValue",a[37381]="MaxApertureValue",a[37382]="SubjectDistance",a[37383]="MeteringMode",a[37384]="LightSource",a[37385]="Flash",a[37386]="FocalLength",a[37396]="SubjectArea",a[41483]="FlashEnergy",a[41484]="SpatialFrequencyResponse",a[41486]="FocalPlaneXResolution",a[41487]="FocalPlaneYResolution",a[41488]="FocalPlaneResolutionUnit",a[41492]="SubjectLocation",a[41493]="ExposureIndex",a[41495]="SensingMethod",a[41728]="FileSource",a[41729]="SceneType",a[41730]="CFAPattern",a[41985]="CustomRendered",a[41986]="ExposureMode",a[41987]="WhiteBalance",a[41988]="DigitalZoomRatio",a[41989]="FocalLengthIn35mmFilm",a[41990]="SceneCaptureType",a[41991]="GainControl",a[41992]="Contrast",a[41993]="Saturation",a[41994]="Sharpness",a[41995]="DeviceSettingDescription",a[41996]="SubjectDistanceRange",a})(),H=(()=>{const a=[];return a[1024]="GTModelTypeGeoKey",a[1025]="GTRasterTypeGeoKey",a[1026]="GTCitationGeoKey",a[2048]="GeographicTypeGeoKey",a[2049]="GeogCitationGeoKey",a[2050]="GeogGeodeticDatumGeoKey",a[2051]="GeogPrimeMeridianGeoKey",a[2052]="GeogLinearUnitsGeoKey",a[2053]="GeogLinearUnitSizeGeoKey",a[2054]="GeogAngularUnitsGeoKey",a[2055]="GeogAngularUnitSizeGeoKey",a[2056]="GeogEllipsoidGeoKey",a[2057]="GeogSemiMajorAxisGeoKey",a[2058]="GeogSemiMinorAxisGeoKey",a[2059]="GeogInvFlatteningGeoKey",a[2061]="GeogPrimeMeridianLongGeoKey",a[2060]="GeogAzimuthUnitsGeoKey",a[3072]="ProjectedCSTypeGeoKey",a[3073]="PCSCitationGeoKey",a[3074]="ProjectionGeoKey",a[3075]="ProjCoordTransGeoKey",a[3076]="ProjLinearUnitsGeoKey",a[3077]="ProjLinearUnitSizeGeoKey",a[3078]="ProjStdParallel1GeoKey",a[3079]="ProjStdParallel2GeoKey",a[3080]="ProjNatOriginLongGeoKey",a[3081]="ProjNatOriginLatGeoKey",a[3082]="ProjFalseEastingGeoKey",a[3083]="ProjFalseNorthingGeoKey",a[3084]="ProjFalseOriginLongGeoKey",a[3085]="ProjFalseOriginLatGeoKey",a[3086]="ProjFalseOriginEastingGeoKey",a[3087]="ProjFalseOriginNorthingGeoKey",a[3088]="ProjCenterLongGeoKey",a[3090]="ProjCenterEastingGeoKey",a[3091]="ProjCenterNorthingGeoKey",a[3092]="ProjScaleAtNatOriginGeoKey",a[3093]="ProjScaleAtCenterGeoKey",a[3094]="ProjAzimuthAngleGeoKey",a[3095]="ProjStraightVertPoleLongGeoKey",a[4096]="VerticalCSTypeGeoKey",a[4097]="VerticalCitationGeoKey",a[4098]="VerticalDatumGeoKey",a[4099]="VerticalUnitsGeoKey",a})(),bt=new Map;bt.set("EXIFIFD",dt),bt.set("GPSIFD",["GPSVersionID","GPSLatitudeRef","GPSLatitude","GPSLongitudeRef","GPSLongitude","GPSAltitudeRef","GPSAltitude","GPSTimeStamp","GPSSatellites","GPSStatus","GPSMeasureMode","GPSDOP","GPSSpeedRef","GPSSpeed","GPSTrackRef","GPSTrack","GPSImgDirectionRef","GPSImgDirection","GPSMapDatum","GPSDestLatitudeRef","GPSDestLatitude","GPSDestLongitudeRef","GPSDestLongitude","GPSDestBearingRef","GPSDestBearing","GPSDestDistanceRef","GPSDestDistance","GPSProcessingMethod","GPSAreaInformation","GPSDateStamp","GPSDifferential","GPSHPositioningError"]);const lt={tiffTags:Y,ifdTags:bt,geoKeys:H,getTagName:(a,it)=>{let mt=(it||Y)[a];return void 0===mt&&(mt="unknown"+String(a)),mt}}},44853:(At,Tt,X)=>{X.d(Tt,{f:()=>Y});const Y=(()=>{const dt=new ArrayBuffer(4),pt=new Uint8Array(dt);return new Uint32Array(dt)[0]=1,1===pt[0]})()},17057:(At,Tt,X)=>{X.d(Tt,{AV:()=>$,Hv:()=>Z,Oh:()=>V,ZF:()=>mt,dy:()=>m,gI:()=>it,hE:()=>a,js:()=>J,oc:()=>lt,um:()=>ht});var Y=X(62208),dt=X(85073),pt=X(67313),H=X(65468);const _t=1,bt=[.299,.587,.114];function lt(C,T=256){T=Math.min(T,256);const{size:x,counts:A}=C,c=new Uint8Array(x),u=A.reduce((s,g)=>s+g/T,0);let d=0,i=0,o=0,l=u;for(let s=0;s<x;s++)if(o+=A[s],!(s<x-1&&o+A[s+1]<l)){for(;d<T-1&&l<o;)d++,l+=u;for(let g=i;g<=s;g++)c[g]=d;i=s+1}for(let s=i;s<x;s++)c[s]=T-1;return c}function a(C){const{minCutOff:T,maxCutOff:x,gamma:A,pixelType:c,rounding:u}=C,d=C.outMin||0,i=C.outMax||255;if(!["u8","u16","s8","s16"].includes(c))return null;const o=T.length;let l,s,g=0;"s8"===c?g=-127:"s16"===c&&(g=-32767);let S=256;["u16","s16"].includes(c)&&(S=65536);const W=[],R=[],N=i-d;for(l=0;l<o;l++)R[l]=x[l]-T[l],W[l]=0===R[l]?0:N/R[l];let F;const K=[];let k,B,M;if(A&&A.length>=o){const f=ht(o,A);for(l=0;l<o;l++){for(M=[],s=0;s<S;s++)if(0!==R[l])if(k=s+g,F=(k-T[l])/R[l],B=1,A[l]>1&&(B-=(1/N)**(F*f[l])),k<x[l]&&k>T[l]){const E=B*N*F**(1/A[l])+d;M[s]="floor"===u?Math.floor(E):"round"===u?Math.round(E):E}else M[s]=k>=x[l]?i:d;else M[s]=d;K[l]=M}}else for(l=0;l<o;l++){for(M=[],s=0;s<S;s++)if(k=s+g,k<=T[l])M[s]=d;else if(k>=x[l])M[s]=i;else{const f=(k-T[l])*W[l]+d;M[s]="floor"===u?Math.floor(f):"round"===u?Math.round(f):f}K[l]=M}if(null!=C.contrastOffset){const f=it(C.contrastOffset,C.brightnessOffset);for(l=0;l<o;l++)for(M=K[l],s=0;s<S;s++)M[s]=f[M[s]]}return{lut:K,offset:g}}function it(C,T){const x=Math.min(Math.max(C,-100),100),A=Math.min(Math.max(T??0,-100),100);let d=0,i=0;const o=new Uint8Array(256);for(d=0;d<256;d++)x>0&&x<100?i=(200*d-25500+510*A)/(2*(100-x))+128:x<=0&&x>-100?i=(200*d-25500+510*A)*(100+x)/2e4+128:100===x?(i=200*d-25500+256*(100-x)+510*A,i=i>0?255:0):-100===x&&(i=128),o[d]=i>255?255:i<0?0:i;return o}function mt(C,T,x){const A=[];for(let c=0;c<T.length;c++){let u=0,d=0,i=0;"min"in T[c]?({min:u,max:d,avg:i}=T[c]):[u,d,i]=T[c];let o=i??0;"u8"!==C&&(o=255*(o-u)/(d-u)),x&&(o*=bt[c]),A.push(ot(o))}return A}function ot(C){if(C<=0||C>=255)return _t;let T=0;150!==C&&(T=C<=150?45*Math.cos(.01047*C):17*Math.sin(.021*C));const A=C+T,c=Math.log(C/255),u=Math.log(A/255);if(0===u)return _t;const d=c/u;return isNaN(d)?_t:Math.min(9.9,Math.max(.01,d))}function J(C){const{pixels:T,mask:x,pixelType:A,bandMasks:c}=C,u=T.map((d,i)=>function at(C,T,x,A){let c=1/0,u=-1/0,d=0,i=0,o=0,l=0;const s=C.length,g=new Map,S=[];for(let e=0;e<s;e++){const y=C[e];if(!T||T[e]){S.push(y);const v=(g.get(y)??0)+1;g.set(y,v),v>l&&(l=v,o=y),c=y<c?y:c,u=y>u?y:u,d+=y,i++}}if(0===i)return{statistics:{min:0,max:0,avg:0,stddev:0,mode:0,median:0},histogram:null};const W=d/i;let R=0;for(let e=0;e<s;e++)T&&!T[e]||(R+=(C[e]-W)**2);const N=T?T.filter(e=>e).length:s,F=N<=1?0:Math.sqrt(R/(N-1));S.sort((e,y)=>e-y);const K=i>>>1,k={min:c,max:u,avg:W,stddev:F,mode:o,median:i%2?S[Math.floor(K)]:(S[K-1]+S[K])/2};if(!A)return{statistics:k,histogram:null};if(["u8","s8","u4","u2","u1"].includes(x)){const e=u-c+1,y=new Uint32Array(e);for(let v=0;v<s;v++)T&&!T[v]||y[C[v]-c]++;return{statistics:k,histogram:{min:c-.5,max:u+.5,size:e,counts:y}}}const B=256,M=new Uint32Array(B),f=(u-c)/B;if(0===f)return{statistics:k,histogram:{min:c,max:u,size:1,counts:new Uint32Array(1).fill(i)}};const E=new Uint32Array(257);for(let e=0;e<s;e++)T&&!T[e]||E[Math.floor((C[e]-c)/f)]++;for(let e=0;e<255;e++)M[e]=E[e];return M[255]=E[255]+E[B],{statistics:k,histogram:{min:c,max:u,size:B,counts:M}}}(d,c?.[i]??x,A,!0));return{statistics:u.map(({statistics:d})=>d),histograms:u.map(({histogram:d})=>d)}}function Z(C){if(!C?.pixels?.length)return null;const{pixels:T,mask:x,bandMasks:A,pixelType:c}=C,u=C.width*C.height,d=T.length;let i,o,l,s,g;const S=[],W=[];let R,N,F,K,k,B,M,f,E,e;const y=256;for(s=0;s<d;s++){R=new Uint32Array(y),F=T[s];const v=A?.[s]??x;if("u8"===c)if(i=-.5,o=255.5,v)for(g=0;g<u;g++)v[g]&&R[F[g]]++;else for(g=0;g<u;g++)R[F[g]]++;else{let I=!1;C.statistics||(C.updateStatistics(),I=!0);const D=C.statistics;if(i=D[s].minValue,o=D[s].maxValue,l=(o-i)/y,0===l){!D||C.validPixelCount||I||C.updateStatistics();const rt=(C.validPixelCount||C.width*C.height)/y;for(let b=0;b<y;b++)R[b]=Math.round(rt*(b+1))-Math.round(rt*b)}else{for(N=new Uint32Array(257),g=0;g<u;g++)v&&!v[g]||N[Math.floor((F[g]-i)/l)]++;for(g=0;g<255;g++)R[g]=N[g];R[255]=N[255]+N[y]}}for(S.push({min:i,max:o,size:y,counts:R}),K=0,k=0,f=0,g=0;g<y;g++)K+=R[g],k+=g*R[g];for(E=k/K,g=0;g<y;g++)f+=R[g]*(g-E)**2;e=Math.sqrt(f/(K-1)),l=(o-i)/y,B=(E+.5)*l+i,M=e*l,W.push({min:i,max:o,avg:B,stddev:M})}return{statistics:W,histograms:S}}function V(C){const T=[];for(let x=0;x<C.length;x++){const{min:A,max:c,size:u,counts:d}=C[x];let i=0,o=0;for(let R=0;R<u;R++)i+=d[R],o+=R*d[R];const l=o/i;let s=0;for(let R=0;R<u;R++)s+=d[R]*(R-l)**2;const g=(c-A)/u,S=(l+.5)*g+A,W=Math.sqrt(s/(i-1))*g;T.push({min:A,max:c,avg:S,stddev:W})}return T}function $(C,T){const{pixelBlock:x,bandIds:A,returnHistogramLut:c,rasterInfo:u}=T;let d=null,i=null,o=C.stretchType;if("number"==typeof o&&(o=H.J[o]),C.dra)if("minMax"===o&&x?.statistics)d=x.statistics.map(I=>[I.minValue,I.maxValue,0,0]);else{const I=Z(x);d=null!=I?I.statistics:null,i=null!=I?I.histograms:null}else d=C.statistics?.length?C.statistics:u.statistics,i="histograms"in C?C.histograms:void 0,i||(i=u.histograms);"percentClip"!==o&&"histogramEqualization"!==o||i?.length||(o="minMax");const l=d?.length||i?.length||u.bandCount,s=[],g=[];let S,W,R,N,F,K,k,B,M;d&&!Array.isArray(d[0])&&(d=d.map(I=>[I.min,I.max,I.avg,I.stddev]));const[f,E]=(0,pt.r)(u.pixelType);if(!d?.length){for(d=[],B=0;B<l;B++)d.push([f,E,1,1]);"standardDeviation"===o&&(o="minMax")}switch(o){case"none":for(B=0;B<l;B++)s[B]=f,g[B]=E;break;case"minMax":for(B=0;B<l;B++){const I=d[B];s[B]=I[0],g[B]=I[1]}break;case"standardDeviation":{const{numberOfStandardDeviations:I=2}=C;for(B=0;B<l;B++){const D=d[B];s[B]=D[2]-I*D[3],g[B]=D[2]+I*D[3],s[B]<D[0]&&(s[B]=D[0]),g[B]>D[1]&&(g[B]=D[1])}}break;case"histogramEqualization":for((0,Y.O3)(i),B=0;B<l;B++)s[B]=i[B].min,g[B]=i[B].max;break;case"percentClip":for((0,Y.O3)(i),B=0;B<i.length;B++){for(S=i[B],F=new Uint32Array(S.size),N=[...S.counts],N.length>=20&&(N[0]=N[1]=N[2]=N[N.length-1]=N[N.length-2]=0),R=0,W=(S.max-S.min)/S.size,k=-.5===S.min&&1===W?.5:0,M=0;M<S.size;M++)R+=N[M],F[M]=R;for(K=(C.minPercent||0)*R/100,s[B]=S.min+k,M=0;M<S.size;M++)if(F[M]>K){s[B]=S.min+W*(M+k);break}for(K=(1-(C.maxPercent||0)/100)*R,g[B]=S.max+k,M=S.size-2;M>=0;M--)if(F[M]<K){g[B]=S.min+W*(M+2-k);break}if(g[B]<s[B]){const I=s[B];s[B]=g[B],g[B]=I}}break;default:for(B=0;B<l;B++){const I=d[B];s[B]=I[0],g[B]=I[1]}}let e,y,v;return"histogramEqualization"===o?((0,Y.O3)(i),y=i[0].size||256,e=0,c&&(v=i.map(I=>lt(I)))):(y=C.max||255,e=C.min||0),function et(C,T){if(null==T||0===T.length)return C;const x=Math.max.apply(null,T),{minCutOff:A,maxCutOff:c,outMin:u,outMax:d,histogramLut:i}=C;return A.length===T.length||A.length<=x?C:{minCutOff:T.map(o=>A[o]),maxCutOff:T.map(o=>c[o]),histogramLut:i?T.map(o=>i[o]):null,outMin:u,outMax:d}}({minCutOff:s,maxCutOff:g,outMax:y,outMin:e,histogramLut:v},A)}function ht(C,T){const x=new Float32Array(C);for(let A=0;A<C;A++)x[A]=T[A]>1?T[A]>2?6.5+(T[A]-2)**2.5:6.5+100*(2-T[A])**4:1;return x}function m(C,T){if(!C?.pixels?.length)return C;const{mask:x,bandMasks:A,width:c,height:u,pixels:d}=C,{minCutOff:i,maxCutOff:o,gamma:l}=T,s=T.outMin||0,g=T.outMax||255,S=c*u,W=T.outputPixelType||"u8",R=C.pixels.map(()=>dt.Z.createEmptyBand(W,S)),N=R.length,F=g-s,K=[],k=[];for(let e=0;e<N;e++)k[e]=o[e]-i[e],K[e]=0===k[e]?0:F/k[e];const B=W.startsWith("u")||W.startsWith("s"),f=!!T.isRenderer;if(l&&l.length>=N){const e=ht(N,l);for(let y=0;y<N;y++){const v=A?.[y]??x;for(let I=0;I<S;I++)if(null==v||v[I]){if(0===k[y]){R[y][I]=s;continue}const D=d[y][I],rt=(D-i[y])/k[y];let b=1;if(l[y]>1&&(b-=(1/F)**(rt*e[y])),D<o[y]&&D>i[y]){const h=b*F*rt**(1/l[y])+s;R[y][I]=f?Math.floor(h):B?Math.round(h):h}else R[y][I]=D>=o[y]?g:s}}}else for(let e=0;e<N;e++){const y=A?.[e]??x;for(let v=0;v<S;v++)if(null==y||y[v]){const I=d[e][v];if(I<o[e]&&I>i[e]){const D=(I-i[e])*K[e]+s;R[e][v]=f?Math.floor(D):B?Math.round(D):D}else R[e][v]=I>=o[e]?g:s}}const E=new dt.Z({width:c,height:u,mask:x,bandMasks:A,pixels:R,pixelType:W});return E.updateStatistics(),E}},67845:(At,Tt,X)=>{X.d(Tt,{M_:()=>ot,Ne:()=>at,TK:()=>_t,Ub:()=>it,_p:()=>H,vC:()=>a,yg:()=>mt});var Y=X(85073),dt=X(79751);const pt=1,H=1/111e3;function _t(J){let{altitude:Z,azimuth:V}=J;const{hillshadeType:$,pixelSizePower:et=1,pixelSizeFactor:ht=1,scalingType:m,isGCS:C,resolution:T}=J,x="multi-directional"===$?2*J.zFactor:J.zFactor,{x:A,y:c}=T;let u=x/(8*A),d=x/(8*c);if(C&&x>.001&&(u/=H,d/=H),"adjusted"===m)if(C){const f=A*H,E=c*H;u=(x+f**et*ht)/(8*f),d=(x+E**et*ht)/(8*E)}else u=(x+A**et*ht)/(8*A),d=(x+c**et*ht)/(8*c);let i=(90-Z)*Math.PI/180,o=Math.cos(i),l=(360-V+90)*Math.PI/180,s=Math.sin(i)*Math.cos(l),g=Math.sin(i)*Math.sin(l);const S=[315,270,225,360,180,0],W=[60,60,60,60,60,90],R=new Float32Array([3,5,3,2,1,4]),N=R.reduce((f,E)=>f+E),F=R.map(f=>f/N),K="multi-directional"===$?S.length:1,k=new Float32Array(6),B=new Float32Array(6),M=new Float32Array(6);if("multi-directional"===$)for(let f=0;f<K;f++)Z=W[f],V=S[f],i=(90-Z)*Math.PI/180,o=Math.cos(i),l=(360-V+90)*Math.PI/180,s=Math.sin(i)*Math.cos(l),g=Math.sin(i)*Math.sin(l),k[f]=o,B[f]=s,M[f]=g;else k.fill(o),B.fill(s),M.fill(g);return{resolution:T,factor:[u,d],sinZcosA:s,sinZsinA:g,cosZ:o,sinZcosAs:B,sinZsinAs:M,cosZs:k,weights:F,hillshadeType:["traditional","multi-directional"].indexOf($)}}function bt(J,Z){const{width:V,height:$}=J,et=V*$,ht=new Uint8Array(et),m=null!=J.mask;let C;if(m){C=new Uint8Array(J.mask);for(let N=0;N<C.length;N++)C[N]&&(ht[N]=1,C[N]=1)}const T=J.pixels[0],x=new Float32Array(et),A=new Float32Array(et);let c,u=0;if(Z){const{resolution:N}=Z,F=N?(N.x+N.y)/2:1;u=200*Z.zFactor/(F*F),c=new Float32Array(et)}const d=Z?.curvatureType;let i,o,l,s,g,S,W,R;for(let N=pt;N<$-pt;N++){const F=N*V;for(let K=pt;K<V-pt;K++){const k=F+K;if(!C||0!==C[k]){if(C){if(C[k-V-1]+C[k-V]+C[k-V+1]+C[k-1]+C[k+1]+C[k+V-1]+C[k+V]+C[k+V+1]<7){ht[k]=0;continue}i=C[k-V-1]?T[k-V-1]:T[k],o=C[k-V]?T[k-V]:T[k],l=C[k-V+1]?T[k-V+1]:T[k],s=C[k-1]?T[k-1]:T[k],g=C[k+1]?T[k+1]:T[k],S=C[k+V-1]?T[k+V-1]:T[k],W=C[k+V]?T[k+V]:T[k],R=C[k+V+1]?T[k+V+1]:T[k]}else i=T[k-V-1],o=T[k-V],l=T[k-V+1],s=T[k-1],g=T[k+1],S=T[k+V-1],W=T[k+V],R=T[k+V+1];if(x[k]=l+g+g+R-(i+s+s+S),A[k]=S+W+W+R-(i+o+o+l),null!=c){const B=T[k],M=.5*(s+g)-B,f=.5*(o+W)-B;if("standard"===d)c[k]=-u*(M+f);else{const E=(-i+l+S-R)/4,e=(-s+g)/2,y=(o-W)/2,v=e*e,I=y*y,D=v+I;D&&(c[k]="profile"===d?u*(M*v+f*I+E*e*y)/D:-u*(M*I+f*v-E*e*y)/D)}}}}}return{outMask:m?ht:null,dzxs:x,dzys:A,curvatures:c}}function lt(J,Z,V){for(let $=0;$<V;$++)J[$*Z]=J[$*Z+1],J[($+1)*Z-1]=J[($+1)*Z-2];for(let $=1;$<Z-1;$++)J[$]=J[$+Z],J[$+(V-1)*Z]=J[$+(V-2)*Z]}function a(J,Z){if(!(0,dt.nk)(J))return J;const{factor:V,sinZcosA:$,sinZsinA:et,cosZ:ht,sinZcosAs:m,sinZsinAs:C,cosZs:T,weights:x}=_t(Z),[A,c]=V,u="traditional"===Z.hillshadeType,{width:d,height:i}=J,o=new Uint8Array(d*i),{dzxs:l,dzys:s,outMask:g}=bt(J);for(let S=pt;S<i-pt;S++){const W=S*d;for(let R=pt;R<d-pt;R++){const N=W+R;if(!g||g[N]){const F=l[N]*A,K=s[N]*c,k=Math.sqrt(1+F*F+K*K);let B=0;if(u){let M=255*(ht+et*K-$*F)/k;M<0&&(M=0),B=M}else{const M=C.length;for(let f=0;f<M;f++){let E=255*(T[f]+C[f]*K-m[f]*F)/k;E<0&&(E=0),B+=E*x[f]}}o[N]=255&B}}}return lt(o,d,i),new Y.Z({width:d,height:i,pixels:[o],mask:g,pixelType:"u8",validPixelCount:J.validPixelCount,statistics:[{minValue:0,maxValue:255}]})}function it(J,Z,V,$){if(!(0,dt.nk)(J)||!(0,dt.nk)(Z))return;const{min:et,max:ht}=$,m=J.pixels[0],{pixels:C,mask:T}=Z,x=C[0],A=255.00001/(ht-et),c=new Uint8ClampedArray(x.length),u=new Uint8ClampedArray(x.length),d=new Uint8ClampedArray(x.length),i=V.length-1;for(let o=0;o<x.length;o++){if(T&&0===T[o])continue;const l=Math.floor((x[o]-et)*A),[s,g]=V[l<0?0:l>i?i:l],S=m[o],W=S*g,R=W*(1-Math.abs(s%2-1)),N=S-W;switch(Math.floor(s)){case 0:c[o]=W+N,u[o]=R+N,d[o]=N;break;case 1:c[o]=R+N,u[o]=W+N,d[o]=N;break;case 2:c[o]=N,u[o]=W+N,d[o]=R+N;break;case 3:c[o]=N,u[o]=R+N,d[o]=W+N;break;case 4:c[o]=R+N,u[o]=N,d[o]=W+N;break;case 5:case 6:c[o]=W+N,u[o]=N,d[o]=R+N}}J.pixels=[c,u,d],J.updateStatistics()}function mt(J,Z){if(!(0,dt.nk)(J))return J;const V=Z.zFactor,$=Z.pixelSizePower??1,et=Z.pixelSizeFactor??1,ht=Z.slopeType,m=Z.isGCS,{x:C,y:T}=Z.resolution;let x=V/(8*C),A=V/(8*T);m&&Math.abs(V-1)<1e-4&&(x/=H,A/=H),"adjusted"===ht&&(x=(V+C**$*et)/(8*C),A=(V+T**$*et)/(8*T));const{dzxs:c,dzys:u,outMask:d}=bt(J),{width:i,height:o}=J,l=new Float32Array(i*o);for(let g=pt;g<o-pt;g++){const S=g*i;for(let W=pt;W<i-pt;W++){const R=S+W;if(!d||d[R]){const N=c[R]*x,F=u[R]*A,K=Math.sqrt(N*N+F*F);l[S+W]="percent-rise"===ht?100*K:57.2957795*Math.atan(K)}}}lt(l,i,o);const s=new Y.Z({width:i,height:o,pixels:[l],mask:d,pixelType:"f32",validPixelCount:J.validPixelCount});return s.updateStatistics(),s}function ot(J,Z={}){if(!(0,dt.nk)(J))return J;const{resolution:V}=Z,$=V?1/V.x:1,et=V?1/V.y:1,{dzxs:ht,dzys:m,outMask:C}=bt(J),{width:T,height:x}=J,A=new Float32Array(T*x);for(let c=pt;c<x-pt;c++){const u=c*T;for(let d=pt;d<T-pt;d++){const i=u+d;if(!C||C[i]){const o=ht[i]*$,l=m[i]*et;let s=-1;0===o&&0===l||(s=90-57.29578*Math.atan2(l,-o),s<0&&(s+=360),360===s?s=0:s>360&&(s%=360)),A[u+d]=s}}}return lt(A,T,x),new Y.Z({width:T,height:x,pixels:[A],mask:C,pixelType:"f32",validPixelCount:J.validPixelCount,statistics:[{minValue:-1,maxValue:360}]})}function at(J,Z){if(!(0,dt.nk)(J))return J;const{curvatures:V,outMask:$}=bt(J,Z),{width:et,height:ht}=J;lt(V,et,ht);const m=new Y.Z({width:et,height:ht,pixels:[V],mask:$,pixelType:"f32",validPixelCount:J.validPixelCount});return m.updateStatistics(),m}},99033:(At,Tt,X)=>{X.d(Tt,{Z:()=>ht});var Y=X(17626),dt=X(78260),pt=X(86810),H=X(63290),_t=X(77712),it=(X(90912),X(85931),X(8314),X(76898)),mt=X(84727),ot=X(79751),at=X(17057),J=X(67845),Z=X(70208),V=X(89725);let $=class extends pt.wq{constructor(m){super(m)}bind(){const{rendererJSON:m}=this;if(!m)return{success:!1};let C;switch(this.lookup={rendererJSON:{}},m.type){case"uniqueValue":C=this._updateUVRenderer(m);break;case"rasterColormap":C=this._updateColormapRenderer(m);break;case"rasterStretch":C=this._updateStretchRenderer(m);break;case"classBreaks":C=this._updateClassBreaksRenderer(m);break;case"rasterShadedRelief":C=this._updateShadedReliefRenderer(m);break;case"vectorField":C=this._updateVectorFieldRenderer();break;case"flowRenderer":C=this._updateFlowRenderer()}return C}symbolize(m){let C=m?.pixelBlock;if(!et(C))return C;if(m.simpleStretchParams&&"rasterStretch"===this.rendererJSON.type)return this.simpleStretch(C,m.simpleStretchParams);try{let T;switch(C.pixels.length>3&&(C=C.extractBands([0,1,2])),this.rendererJSON.type){case"uniqueValue":case"rasterColormap":T=this._symbolizeColormap(C);break;case"classBreaks":T=this._symbolizeClassBreaks(C);break;case"rasterStretch":T=this._symbolizeStretch(C,m.bandIds);break;case"rasterShadedRelief":{const x=m.extent;T=this._symbolizeShadedRelief(C,{isGCS:x.spatialReference.isGeographic,resolution:{x:(x.xmax-x.xmin)/C.width,y:(x.ymax-x.ymin)/C.height}});break}}return T}catch(T){return H.Z.getLogger(this).error("symbolize",T.message),C}}simpleStretch(m,C){if(!et(m))return m;try{return m.pixels.length>3&&(m=m.extractBands([0,1,2])),(0,at.dy)(m,{...C,isRenderer:!0})}catch(T){return H.Z.getLogger(this).error("symbolize",T.message),m}}generateWebGLParameters(m){if(["uniqueValue","rasterColormap","classBreaks"].includes(this.rendererJSON.type)){const{indexedColormap:u,offset:d}=this.lookup.colormapLut||{};return{colormap:u,colormapOffset:d,type:"lut"}}const{pixelBlock:C,isGCS:T,resolution:x,bandIds:A}=m,{rendererJSON:c}=this;return"rasterStretch"===c.type?this._generateStretchWebGLParams(C,c,A):"rasterShadedRelief"===c.type?this._generateShadedReliefWebGLParams(c,T,x??void 0):"vectorField"===c.type?this._generateVectorFieldWebGLParams(c):null}_isLUTChanged(m){return!this.lookup||!this.lookup.rendererJSON||("colorRamp"in this.rendererJSON&&m?JSON.stringify(this.rendererJSON.colorRamp)!==JSON.stringify(this.lookup.rendererJSON.colorRamp):JSON.stringify(this.rendererJSON)!==JSON.stringify(this.lookup.rendererJSON))}_symbolizeColormap(m){return this._isLUTChanged()&&!this.bind().success?m:(0,ot.SJ)(m,this.lookup.colormapLut)}_symbolizeClassBreaks(m){const{canUseIndexedLUT:C}=this._analyzeClassBreaks(this.rendererJSON);return this._isLUTChanged()&&!this.bind().success?m:C?(0,ot.SJ)(m,this.lookup.colormapLut):(0,ot.zp)(m,this.lookup.remapLut??[])}_symbolizeStretch(m,C){const{rasterInfo:T}=this,{pixelType:x,bandCount:A}=T,c=this.rendererJSON,u=["u8","u16","s8","s16"].includes(x);let d,i;const{dra:o}=c,{gamma:l}=this.lookup;if("histogramEqualization"===c.stretchType){const s=o?null:this.lookup?.histogramLut,g=(0,at.AV)(c,{rasterInfo:T,pixelBlock:m,bandIds:C,returnHistogramLut:!s}),S=(0,at.dy)(m,{...g,gamma:l,isRenderer:!0});i=(0,ot.XV)(S,{lut:o?g.histogramLut:s,offset:0})}else if(u){if(o){const s=(0,at.AV)(c,{rasterInfo:T,pixelBlock:m,bandIds:C});d=(0,at.hE)({pixelType:x,...s,gamma:l,rounding:"floor"})}else if(this._isLUTChanged()){if(!this.bind().success)return m;d=this.lookup?this.lookup.stretchLut:null}else d=this.lookup?this.lookup.stretchLut:null;if(!d)return m;A>1&&null!=C&&C.length===m?.pixels.length&&d?.lut.length===A&&(d={lut:C.map(s=>d.lut[s]),offset:d.offset}),i=(0,ot.XV)(m,d)}else{const s=(0,at.AV)(c,{rasterInfo:T,pixelBlock:m,bandIds:C});i=(0,at.dy)(m,{...s,gamma:l,isRenderer:!0})}if(c.colorRamp){if(this._isLUTChanged(!0)&&!this.bind().success)return m;i=(0,ot.SJ)(i,this.lookup?.colormapLut)}return i}_symbolizeShadedRelief(m,C){const T=this.rendererJSON,x={...T,...C},A=(0,J.vC)(m,x);if(!T.colorRamp)return A;let c;if(this._isLUTChanged(!0)){if(!this.bind().success)return A;c=this.lookup?this.lookup.hsvMap:null}else c=this.lookup?this.lookup.hsvMap:null;return c?((0,J.Ub)(A,m,c,this.rasterInfo.statistics?.[0]??{min:0,max:8e3}),A):A}_isVectorFieldData(){const{bandCount:m,dataType:C}=this.rasterInfo;return 2===m&&("vector-magdir"===C||"vector-uv"===C)}_updateVectorFieldRenderer(){return this._isVectorFieldData()?{success:!0}:{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; VectorFieldRenderer only supports "vector-magdir" and "vector-uv".`}}_updateFlowRenderer(){return this._isVectorFieldData()?{success:!0}:{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; FlowRenderer only supports "vector-magdir" and "vector-uv".`}}_updateUVRenderer(m){const{bandCount:C,attributeTable:T,pixelType:x}=this.rasterInfo,A=m.field1;if(!A)return{success:!1,error:"Unsupported renderer; missing UniqueValueRenderer.field."};const c=m.defaultSymbol,u=1===C&&["u8","s8"].includes(x);if(!(0,V.MG)(this.rasterInfo,A)&&!u)return{success:!1,error:"Unsupported data; UniqueValueRenderer is only supported on single band data with a valid raster attribute table."};const d=[];if(null!=T){const o=T.fields.find(l=>"value"===l.name.toLowerCase());if(!o)return{success:!1,error:"Unsupported data; the data's raster attribute table does not have a value field."};T.features.forEach(l=>{const s=m.uniqueValueInfos?.find(S=>String(S.value)===String(l.attributes[A])),g=s?.symbol?.color;g?d.push([l.attributes[o.name]].concat(g)):c&&d.push([l.attributes[o.name]].concat(c.color))})}else{if("value"!==A.toLowerCase())return{success:!1,error:'Unsupported renderer; UniqueValueRenderer.field must be "Value" when raster attribute table is not availalbe.'};m.uniqueValueInfos?.forEach(o=>{const l=o?.symbol?.color;l?d.push([parseInt(""+o.value,10)].concat(l)):c&&d.push([parseInt(""+o.value,10)].concat(c?.color))})}if(0===d.length)return{success:!1,error:"Invalid UniqueValueRenderer. Cannot find matching records in the raster attribute table."};const i=(0,ot.Pz)({colormap:d});return this.lookup={rendererJSON:m,colormapLut:i},this.canRenderInWebGL=this._isColormapSupportedByWebGL(i?.indexedColormap),{success:!0}}_updateColormapRenderer(m){if(!(0,V.mO)(this.rasterInfo))return{success:!1,error:"Unsupported data; the data source does not have a colormap."};const C=m.colormapInfos.map(x=>[x.value].concat(x.color)).sort((x,A)=>x[0]-A[0]);if(!C||0===C.length)return{success:!1,error:"Unsupported renderer; ColormapRenderer must have meaningful colormapInfos."};const T=(0,ot.Pz)({colormap:C});return this.lookup={rendererJSON:m,colormapLut:T},this.canRenderInWebGL=this._isColormapSupportedByWebGL(T?.indexedColormap),{success:!0}}_updateShadedReliefRenderer(m){if(!(0,V.jX)(this.rasterInfo))return{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; ShadedReliefRenderer only supports "elevation", or single band float/s16 data.`};if(m.colorRamp){const C=(0,Z.Jw)(m.colorRamp,{interpolateAlpha:!0}),T=(0,ot.Pz)({colormap:C}),x=[],A=T.indexedColormap;for(let c=0;c<A.length;c+=4){const u=(0,dt._Y)({r:A[c],g:A[c+1],b:A[c+2]});x.push([u.h/60,u.s/100,255*u.v/100])}this.lookup={rendererJSON:m,colormapLut:T,hsvMap:x}}else this.lookup=null;return this.canRenderInWebGL=!0,{success:!0}}_analyzeClassBreaks(m){const{attributeTable:C,pixelType:T}=this.rasterInfo,x=null!=C?C.fields.find(u=>"value"===u.name.toLowerCase()):null,A=null!=C?C.fields.find(u=>u.name.toLowerCase()===m.field.toLowerCase()):null,c=null!=x&&null!==A;return{canUseIndexedLUT:["u8","u16","s8","s16"].includes(T)||c,tableValueField:x,tableBreakField:A}}_updateClassBreaksRenderer(m){const{attributeTable:C}=this.rasterInfo,{canUseIndexedLUT:T,tableValueField:x,tableBreakField:A}=this._analyzeClassBreaks(m),c=m.classBreakInfos;if(!c?.length)return{success:!1,error:"Unsupported renderer; missing or invalid ClassBreaksRenderer.classBreakInfos."};const u=c.sort((s,g)=>s.classMaxValue-g.classMaxValue),d=u[u.length-1];let i=m.minValue;if(!T){const s=[];for(let g=0;g<u.length;g++)s.push({value:u[g].classMinValue??i,mappedColor:u[g].symbol.color}),i=u[g].classMaxValue;return s.push({value:d.classMaxValue,mappedColor:d.symbol.color}),this.lookup={rendererJSON:m,remapLut:s},this.canRenderInWebGL=!1,{success:!0}}const o=[];if(null!=C&&null!=x&&null!==A&&x!==A){const s=x.name,g=A.name,S=u[u.length-1],{classMaxValue:W}=S;i=m.minValue;for(const R of C.features){const N=R.attributes[s],F=R.attributes[g],K=F===W?S:F<i?null:u.find(({classMaxValue:k})=>k>F);K&&o.push([N].concat(K.symbol.color))}}else{i=Math.floor(m.minValue);for(let s=0;s<u.length;s++){const g=u[s];for(let S=i;S<g.classMaxValue;S++)o.push([S].concat(g.symbol.color));i=Math.ceil(g.classMaxValue)}d.classMaxValue===i&&o.push([d.classMaxValue].concat(d.symbol.color))}const l=(0,ot.Pz)({colormap:o,fillUnspecified:!1});return this.lookup={rendererJSON:m,colormapLut:l},this.canRenderInWebGL=this._isColormapSupportedByWebGL(l?.indexedColormap),{success:!0}}_isColormapSupportedByWebGL(m){return!!m?.length&&m.length<=16384}_isHistogramRequired(m){return"percentClip"===m||"histogramEqualization"===m}_isValidRasterStatistics(m){return null!=m&&m.length>0&&null!=m[0].min&&null!=m[0].max}_updateStretchRenderer(m){let{stretchType:C,dra:T}=m;if(!("none"===C||m.statistics?.length||this._isValidRasterStatistics(this.rasterInfo.statistics)||T))return{success:!1,error:"Unsupported renderer; StretchRenderer.statistics is required when dynamic range adjustment is not used."};const x=m.histograms||this.rasterInfo.histograms;!this._isHistogramRequired(m.stretchType)||x?.length||T||(C="minMax");const{computeGamma:A,useGamma:c,colorRamp:u}=m;let{gamma:d}=m;c&&A&&!d?.length&&(d=(0,at.ZF)(this.rasterInfo.pixelType,m.statistics?.length?m.statistics:this.rasterInfo.statistics));const i=this.rasterInfo.pixelType,o=!T&&["u8","u16","s8","s16"].includes(i);if("histogramEqualization"===C){const l=x.map(s=>(0,at.oc)(s));this.lookup={rendererJSON:m,histogramLut:l}}else if(o){const l=(0,at.AV)(m,{rasterInfo:this.rasterInfo}),s=(0,at.hE)({pixelType:i,...l,gamma:c?d:null,rounding:"floor"});this.lookup={rendererJSON:m,stretchLut:s}}if(u&&!this._isStretchColorRampNoop(u)){const l=(0,Z.Jw)(u,{interpolateAlpha:!0});this.lookup||(this.lookup={rendererJSON:m}),this.lookup.colormapLut=(0,ot.Pz)({colormap:l}),this.lookup.rendererJSON=m}return this.lookup.gamma=c&&d?.length?d:null,this.canRenderInWebGL=!0,{success:!0}}_isStretchColorRampNoop(m){return"algorithmic"===m.type&&["0,0,0,255","0,0,0"].includes(m.fromColor.join(","))&&["255,255,255,255","255,255,255"].includes(m.toColor.join(","))}_generateStretchWebGLParams(m,C,T){let x=null,A=null;const c=this.lookup?.colormapLut;C.colorRamp&&c&&(x=c.indexedColormap,A=c.offset),"histogramEqualization"===C.stretchType&&(C={...C,stretchType:"minMax"});const{gamma:u}=this.lookup,d=!!(C.useGamma&&u&&u.some(k=>1!==k)),{minCutOff:i,maxCutOff:o,outMin:l,outMax:s}=(0,at.AV)(C,{rasterInfo:this.rasterInfo,pixelBlock:m,bandIds:T});let g=0;null!=m&&(g=m.getPlaneCount(),2===g&&((m=m.clone()).statistics=[m.statistics[0]],m.pixels=[m.pixels[0]]));const{bandCount:S}=this.rasterInfo,W=Math.min(3,T?.length||g||S,S),R=new Float32Array(W),N=x||d?1:255;let F;for(F=0;F<i.length;F++)R[F]=o[F]===i[F]?0:(s-l)/(o[F]-i[F])/N;const K=new Float32Array(W);if(d&&u)for(F=0;F<W;F++)K[F]=u[F]>1?u[F]>2?6.5+(u[F]-2)**2.5:6.5+100*(2-u[F])**4:1;return{bandCount:W,outMin:l/N,outMax:s/N,minCutOff:i,maxCutOff:o,factor:R,useGamma:d,gamma:d?u:[1,1,1],gammaCorrection:d?K:[1,1,1],colormap:x,colormapOffset:A,stretchType:C.stretchType,type:"stretch"}}_generateShadedReliefWebGLParams(m,C=!1,T={x:0,y:0}){let x=null,A=null;const c=this.lookup?.colormapLut;m.colorRamp&&c&&(x=c.indexedColormap,A=c.offset);const u={...m,isGCS:C,resolution:T},d=(0,J.TK)(u),i=this.rasterInfo.statistics?.[0];return{...d,minValue:i?.min??0,maxValue:i?.max??8e3,hillshadeType:"traditional"===m.hillshadeType?0:1,type:"hillshade",colormap:x,colormapOffset:A}}_generateVectorFieldWebGLParams(m){const{style:C,inputUnit:T,outputUnit:x,visualVariables:A,symbolTileSize:c,flowRepresentation:u}=m;let d;const i=this.rasterInfo.statistics?.[0].min??0,o=this.rasterInfo.statistics?.[0].max??50,l=A?.find(F=>"sizeInfo"===F.type)??{type:"sizeInfo",field:"Magnitude",maxDataValue:o,maxSize:.8*c,minDataValue:i,minSize:.2*c},s=l.minDataValue??i,g=l.maxDataValue??o,S=null!=l.maxSize&&null!=l.minSize?[l.minSize/c,l.maxSize/c]:[.2,.8];"wind_speed"===C&&(S[0]=S[1]=(S[0]+S[1])/2);const W=null!=s&&null!=g?[s,g]:null;if("classified_arrow"===C)if(null!=s&&null!=g&&null!=l){d=[];const F=(l.maxDataValue-l.minDataValue)/5;for(let K=0;K<6;K++)d.push(l.minDataValue+F*K)}else d=[0,1e-6,3.5,7,10.5,14];const R="flow_to"===u==("ocean_current_kn"===C||"ocean_current_m"===C)?0:Math.PI,N=A?.find(F=>"rotationInfo"===F.type);return{breakValues:d,dataRange:W,inputUnit:T,outputUnit:x,symbolTileSize:c,symbolPercentRange:S,style:C||"single_arrow",rotation:R,rotationType:this.rasterInfo.storageInfo?.tileInfo&&"vector-uv"===this.rasterInfo.dataType?"geographic":N?.rotationType||m.rotationType,type:"vectorField"}}};function et(m){return(0,ot.nk)(m)&&0!==m.validPixelCount}(0,Y._)([(0,_t.Cb)({json:{write:!0}})],$.prototype,"rendererJSON",void 0),(0,Y._)([(0,_t.Cb)({type:mt.Z,json:{write:!0}})],$.prototype,"rasterInfo",void 0),(0,Y._)([(0,_t.Cb)({json:{write:!0}})],$.prototype,"lookup",void 0),(0,Y._)([(0,_t.Cb)()],$.prototype,"canRenderInWebGL",void 0),$=(0,Y._)([(0,it.j)("esri.renderers.support.RasterSymbolizer")],$);const ht=$},70208:(At,Tt,X)=>{X.d(Tt,{B4:()=>Z,H0:()=>lt,Jw:()=>x,Oi:()=>_t,Uh:()=>J,XL:()=>T,oI:()=>d,pM:()=>u,xK:()=>bt});var Y=X(91558),dt=X(78260),pt=X(2076),H=X(86810);const _t=["random","ndvi","ndvi2","ndvi3","elevation","gray","hillshade"],bt=[{id:"aspect",type:"multipart",colorRamps:[{fromColor:[190,190,190],toColor:[255,45,8]},{fromColor:[255,45,8],toColor:[255,181,61]},{fromColor:[255,181,61],toColor:[255,254,52]},{fromColor:[255,254,52],toColor:[0,251,50]},{fromColor:[0,251,50],toColor:[255,254,52]},{fromColor:[0,253,255],toColor:[0,181,255]},{fromColor:[0,181,255],toColor:[26,35,253]},{fromColor:[26,35,253],toColor:[255,57,251]},{fromColor:[255,57,251],toColor:[255,45,8]}]},{id:"black-to-white",fromColor:[0,0,0],toColor:[255,255,255]},{id:"blue-bright",fromColor:[204,204,255],toColor:[0,0,224]},{id:"blue-light-to-dark",fromColor:[211,229,232],toColor:[46,100,140]},{id:"blue-green-bright",fromColor:[203,245,234],toColor:[48,207,146]},{id:"blue-green-light-to-dark",fromColor:[216,242,237],toColor:[21,79,74]},{id:"brown-light-to-dark",fromColor:[240,236,170],toColor:[102,72,48]},{id:"brown-to-blue-green-diverging-right",type:"multipart",colorRamps:[{fromColor:[156,85,31],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[33,130,145]}]},{id:"brown-to-blue-green-diverging-dark",type:"multipart",colorRamps:[{fromColor:[110,70,45],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[48,100,102]}]},{id:"coefficient-bias",fromColor:[214,214,255],toColor:[0,57,148]},{id:"cold-to-hot-diverging",type:"multipart",colorRamps:[{fromColor:[69,117,181],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[214,47,39]}]},{id:"condition-number",type:"multipart",colorRamps:[{fromColor:[0,97,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,34,0]}]},{id:"cyan-to-purple",type:"multipart",colorRamps:[{fromColor:[0,245,245],toColor:[0,0,245]},{fromColor:[0,0,245],toColor:[245,0,245]}]},{id:"cyan-light-to-blue-dark",type:"multipart",colorRamps:[{fromColor:[182,237,240],toColor:[31,131,224]},{fromColor:[31,131,224],toColor:[9,9,145]}]},{id:"distance",fromColor:[255,200,0],toColor:[0,0,255]},{id:"elevation1",type:"multipart",colorRamps:[{fromColor:[175,240,233],toColor:[255,255,179]},{fromColor:[255,255,179],toColor:[0,128,64]},{fromColor:[0,128,64],toColor:[252,186,3]},{fromColor:[252,186,3],toColor:[128,0,0]},{fromColor:[120,0,0],toColor:[105,48,13]},{fromColor:[105,48,13],toColor:[171,171,171]},{fromColor:[171,171,171],toColor:[255,252,255]}]},{id:"elevation2",type:"multipart",colorRamps:[{fromColor:[118,219,211],toColor:[255,255,199]},{fromColor:[255,255,199],toColor:[255,255,128]},{fromColor:[255,255,128],toColor:[217,194,121]},{fromColor:[217,194,121],toColor:[135,96,38]},{fromColor:[135,96,38],toColor:[150,150,181]},{fromColor:[150,150,181],toColor:[181,150,181]},{fromColor:[181,150,181],toColor:[255,252,255]}]},{id:"errors",fromColor:[255,235,214],toColor:[196,10,10]},{id:"gray-light-to-dark",fromColor:[219,219,219],toColor:[69,69,69]},{id:"green-bright",fromColor:[204,255,204],toColor:[14,204,14]},{id:"green-light-to-dark",fromColor:[220,245,233],toColor:[34,102,51]},{id:"green-to-blue",type:"multipart",colorRamps:[{fromColor:[32,204,16],toColor:[0,242,242]},{fromColor:[0,242,242],toColor:[2,33,227]}]},{id:"orange-bright",fromColor:[255,235,204],toColor:[240,118,5]},{id:"orange-light-to-dark",fromColor:[250,233,212],toColor:[171,65,36]},{id:"partial-spectrum",type:"multipart",colorRamps:[{fromColor:[242,241,162],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]},{fromColor:[252,3,69],toColor:[176,7,237]},{fromColor:[176,7,237],toColor:[2,29,173]}]},{id:"partial-spectrum-1-diverging",type:"multipart",colorRamps:[{fromColor:[135,38,38],toColor:[240,149,12]},{fromColor:[240,149,12],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[74,80,181]},{fromColor:[74,80,181],toColor:[39,32,122]}]},{id:"partial-spectrum-2-diverging",type:"multipart",colorRamps:[{fromColor:[115,77,42],toColor:[201,137,52]},{fromColor:[201,137,52],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[91,63,176]},{fromColor:[91,63,176],toColor:[81,13,97]}]},{id:"pink-to-yellow-green-diverging-bright",type:"multipart",colorRamps:[{fromColor:[158,30,113],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[99,110,45]}]},{id:"pink-to-yellow-green-diverging-dark",type:"multipart",colorRamps:[{fromColor:[97,47,73],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[22,59,15]}]},{id:"precipitation",type:"multipart",colorRamps:[{fromColor:[194,82,60],toColor:[237,161,19]},{fromColor:[237,161,19],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,219,0]},{fromColor:[0,219,0],toColor:[32,153,143]},{fromColor:[32,153,143],toColor:[11,44,122]}]},{id:"prediction",type:"multipart",colorRamps:[{fromColor:[40,146,199],toColor:[250,250,100]},{fromColor:[250,250,100],toColor:[232,16,20]}]},{id:"purple-bright",fromColor:[255,204,255],toColor:[199,0,199]},{id:"purple-to-green-diverging-bright",type:"multipart",colorRamps:[{fromColor:[77,32,150],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[20,122,11]}]},{id:"purple-to-green-diverging-dark",type:"multipart",colorRamps:[{fromColor:[67,14,89],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[24,79,15]}]},{id:"purple-blue-bright",fromColor:[223,184,230],toColor:[112,12,242]},{id:"purple-blue-light-to-dark",fromColor:[229,213,242],toColor:[93,44,112]},{id:"purple-red-bright",fromColor:[255,204,225],toColor:[199,0,99]},{id:"purple-red-light-to-dark",fromColor:[250,215,246],toColor:[143,17,57]},{id:"red-bright",fromColor:[255,204,204],toColor:[219,0,0]},{id:"red-light-to-dark",fromColor:[255,224,224],toColor:[143,10,10]},{id:"red-to-blue-diverging-bright",type:"multipart",colorRamps:[{fromColor:[196,69,57],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[48,95,207]}]},{id:"red-to-blue-diverging-dark",type:"multipart",colorRamps:[{fromColor:[107,13,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[13,53,97]}]},{id:"red-to-green",type:"multipart",colorRamps:[{fromColor:[245,0,0],toColor:[245,245,0]},{fromColor:[245,245,0],toColor:[0,245,0]}]},{id:"red-to-green-diverging-bright",type:"multipart",colorRamps:[{fromColor:[186,20,20],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[54,145,33]}]},{id:"red-to-green-diverging-dark",type:"multipart",colorRamps:[{fromColor:[97,21,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[16,69,16]}]},{id:"slope",type:"multipart",colorRamps:[{fromColor:[56,168,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]}]},{id:"spectrum-full-bright",type:"multipart",colorRamps:[{fromColor:[255,0,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,0,255]}]},{id:"spectrum-full-dark",type:"multipart",colorRamps:[{fromColor:[153,0,0],toColor:[153,153,0]},{fromColor:[153,153,0],toColor:[0,153,153]},{fromColor:[0,153,153],toColor:[0,0,153]}]},{id:"spectrum-full-light",type:"multipart",colorRamps:[{fromColor:[255,153,153],toColor:[255,255,153]},{fromColor:[255,255,153],toColor:[153,255,255]},{fromColor:[153,255,255],toColor:[153,153,255]}]},{id:"surface",type:"multipart",colorRamps:[{fromColor:[112,153,89],toColor:[242,238,162]},{fromColor:[242,238,162],toColor:[242,206,133]},{fromColor:[242,206,133],toColor:[194,140,124]},{fromColor:[194,140,124],toColor:[255,242,255]}]},{id:"temperature",type:"multipart",colorRamps:[{fromColor:[255,252,255],toColor:[255,0,255]},{fromColor:[255,0,255],toColor:[0,0,255]},{fromColor:[0,0,255],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,255,0]},{fromColor:[0,255,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,128,0]},{fromColor:[255,128,0],toColor:[128,0,0]}]},{id:"white-to-black",fromColor:[255,255,255],toColor:[0,0,0]},{id:"yellow-to-dark-red",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[242,167,46]},{fromColor:[242,167,46],toColor:[107,0,0]}]},{id:"yellow-to-green-to-dark-blue",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[56,224,9]},{fromColor:[56,224,9],toColor:[26,147,171]},{fromColor:[26,147,171],toColor:[12,16,120]}]},{id:"yellow-to-red",fromColor:[245,245,0],toColor:[255,0,0]},{id:"yellow-green-bright",fromColor:[236,252,204],toColor:[157,204,16]},{id:"yellow-green-light-to-dark",fromColor:[215,240,175],toColor:[96,107,45]}],lt=new pt.X({Aspect:"aspect","Black to White":"black-to-white","Blue Bright":"blue-bright","Blue Light to Dark":"blue-light-to-dark","Blue-Green Bright":"blue-green-bright","Blue-Green Light to Dark":"blue-green-light-to-dark","Brown Light to Dark":"brown-light-to-dark","Brown to Blue Green Diverging, Bright":"brown-to-blue-green-diverging-right","Brown to Blue Green Diverging, Dark":"brown-to-blue-green-diverging-dark","Coefficient Bias":"coefficient-bias","Cold to Hot Diverging":"cold-to-hot-diverging","Condition Number":"condition-number","Cyan to Purple":"cyan-to-purple","Cyan-Light to Blue-Dark":"cyan-light-to-blue-dark",Distance:"distance","Elevation #1":"elevation1","Elevation #2":"elevation2",Errors:"errors","Gray Light to Dark":"gray-light-to-dark","Green Bright":"green-bright","Green Light to Dark":"green-light-to-dark","Green to Blue":"green-to-blue","Orange Bright":"orange-bright","Orange Light to Dark":"orange-light-to-dark","Partial Spectrum":"partial-spectrum","Partial Spectrum 1 Diverging":"partial-spectrum-1-diverging","Partial Spectrum 2 Diverging":"partial-spectrum-2-diverging","Pink to YellowGreen Diverging, Bright":"pink-to-yellow-green-diverging-bright","Pink to YellowGreen Diverging, Dark":"pink-to-yellow-green-diverging-dark",Precipitation:"precipitation",Prediction:"prediction","Purple Bright":"purple-bright","Purple to Green Diverging, Bright":"purple-to-green-diverging-bright","Purple to Green Diverging, Dark":"purple-to-green-diverging-dark","Purple-Blue Bright":"purple-blue-bright","Purple-Blue Light to Dark":"purple-blue-light-to-dark","Purple-Red Bright":"purple-red-bright","Purple-Red Light to Dark":"purple-red-light-to-dark","Red Bright":"red-bright","Red Light to Dark":"red-light-to-dark","Red to Blue Diverging, Bright":"red-to-blue-diverging-bright","Red to Blue Diverging, Dark":"red-to-blue-diverging-dark","Red to Green":"red-to-green","Red to Green Diverging, Bright":"red-to-green-diverging-bright","Red to Green Diverging, Dark":"red-to-green-diverging-dark",Slope:"slope","Spectrum-Full Bright":"spectrum-full-bright","Spectrum-Full Dark":"spectrum-full-dark","Spectrum-Full Light":"spectrum-full-light",Surface:"surface",Temperature:"temperature","White to Black":"white-to-black","Yellow to Dark Red":"yellow-to-dark-red","Yellow to Green to Dark Blue":"yellow-to-green-to-dark-blue","Yellow to Red":"yellow-to-red","Yellow-Green Bright":"yellow-green-bright","Yellow-Green Light to Dark":"yellow-green-light-to-dark"});function a(i,o){if(!i||!o||i.length!==o.length)return!1;for(let l=0;l<i.length;l++)if(i[l]>o[l]+2||i[l]<o[l]-2)return!1;return!0}function it(i){const o=i.clone();return o.fromColor=i.toColor,o.toColor=i.fromColor,o.algorithm=i.algorithm,o}function ot(i,o){if(!i)return;const l=o??bt;let s=null;return"algorithmic"===i.type?l.some(g=>{if(a(i.fromColor.toRgb(),g.fromColor)&&a(i.toColor.toRgb(),g.toColor))return s=g.id,!0}):"multipart"===i.type&&l.some(g=>{const S=i.colorRamps,W=g.colorRamps;if(S&&W&&S.length===W.length&&!W.some((R,N)=>{if(!a(S[N].fromColor.toRgb(),new Y.Z(R.fromColor).toRgb())||!a(S[N].toColor.toRgb(),new Y.Z(R.toColor).toRgb()))return!0})){if(s)return!0;s=g.id}}),s}function J(i,o=!1){const l="string"==typeof i?i:function at(i,o,l=!1){if(!i)return;let s=ot(i,o);return null!=s||l||(s=ot(i=function mt(i){if("multipart"===i.type){const o=i.clone();return o.colorRamps?.length&&(o.colorRamps=o.colorRamps.reverse().map(l=>it(l))),o}return it(i)}(i),o)),s}(i,void 0,o);return l?lt.toJSON(l):null}function Z(i,o="esriCIELabAlgorithm"){const l=bt.find(({id:s})=>s===i);return l?l.colorRamps?{type:"multipart",colorRamps:l.colorRamps.map(s=>({type:"algorithmic",algorithm:o,fromColor:[...s.fromColor],toColor:[...s.toColor]}))}:{type:"algorithmic",algorithm:o,fromColor:[...l.fromColor],toColor:[...l.toColor]}:null}function V(i){const o=(i=i||{}).numColors||256,l=i.distanceOffset||0,s=null!=i.isCustomInterval?i.isCustomInterval:null!==i.distanceInterval&&i.distanceInterval!==1/(o-1),g=i.distanceInterval||1/(o-1);return{...i,numColors:o,distanceOffset:l,interpolateAlpha:!!i.interpolateAlpha,distanceInterval:g,isCustomInterval:s,weights:i.weights}}function m(i,o){let{fromColor:l,toColor:s}=i;l=[...l],s=[...s],3===l.length&&(l=l.concat([255])),3===s.length&&(s=s.concat([255]));const g=i.algorithm||"esriCIELabAlgorithm",S=V(o),{numColors:W,distanceOffset:R,isCustomInterval:N,interpolateAlpha:F}=S;if(1===W&&0===R)return[l];if(2===W&&0===R&&!N)return[l,s];const K={r:l[0],g:l[1],b:l[2]},k={r:s[0],g:s[1],b:s[2]},B="esriCIELabAlgorithm"===g?function et(i,o,l){const{numColors:s,distanceOffset:g,distanceInterval:S,isCustomInterval:W}=l;let{l:R,a:N,b:F}=i;const K=(o.l-R)*S,k=(o.a-N)*S,B=(o.b-F)*S,M=[];if(g){const f=g/S;R+=f*K,N+=f*k,F+=f*B}for(let f=0;f<s-1;f++)M.push({l:R,a:N,b:F}),R+=K,N+=k,F+=B;return M.push(W?{l:R,a:N,b:F}:o),M}((0,dt.Y3)(K),(0,dt.Y3)(k),S):"esriHSVAlgorithm"===g?function $(i,o,l){const{numColors:s,distanceOffset:g,distanceInterval:S,isCustomInterval:W}=l,R=0===i.s,N=0===o.s;let F=i.h,K=o.h;R&&!N?F=K:N&&!R&&(o={...o,h:F},K=F);let k,B=Math.abs(K-F);const M=360;B<180?k=(K-F)*S:(B=M-B,k=F>K?B*S:-B*S);const f=(o.s-i.s)*S,E=(o.v-i.v)*S;let{s:e,v:y}=i,v=F;if(g){const D=g/S;v=(v+D*k+M)%M,e+=D*f,y+=D*E}const I=[];for(let D=0;D<s-1;D++)I.push({h:v,s:e,v:y}),v=(v+k+M)%M,e+=f,y+=E;return I.push(W?{h:v,s:e,v:y}:o),I}((0,dt._Y)(K),(0,dt._Y)(k),S):function ht(i,o,l){const{numColors:s,distanceOffset:g,distanceInterval:S,isCustomInterval:W}=l,R=i.h,N=o.h,F=2*Math.PI;let K;if(R<=N){const v=N-R,I=N-R-F;K=Math.abs(I)<Math.abs(v)?I:v}else{const v=N+F-R,I=N-R;K=Math.abs(I)<Math.abs(v)?I:v}const k=K*S,B=(o.l-i.l)*S,M=(o.c-i.c)*S;let{l:f,c:E,h:e}=i;if(g){const v=g/S;f+=v*B,E+=v*M,e=(e+v*k+F)%F}const y=[];for(let v=0;v<s-1;v++)y.push({l:f,c:E,h:e}),f+=B,E+=M,e=(e+k+F)%F;return y.push(W?{l:f,c:E,h:e}:o),y}((0,dt.sJ)(K),(0,dt.sJ)(k),S),M=[],f=l[3]??255,E=((s[3]??255)-f)/(W-1);for(let e=0;e<W;e++){const{r:y,g:v,b:I}=(0,dt.xr)(B[e]),D=F?Math.round(f+E*e):255;M.push([y,v,I,D])}return M}function T(i,o){const l=(0,H.AK)(i)?i.toJSON():i;return"multipart"===l.type?function C(i,o){const{numColors:l,interpolateAlpha:s}=V(o);let g=o?.weights;const{colorRamps:S}=i;if(g){const B=g.reduce((M,f)=>M+f);g=g.map(M=>M/B)}else{g=[];for(let B=0;B<S.length;B++)g[B]=1/S.length}const W=[];let R=0,N=0;const F=1/(l-1);let K=!1;for(let B=0;B<S.length;B++){let M=K?0:R*F-N,f=B===S.length-1?l-1-R:(g[B]-M)/F;if(K=Math.ceil(f)===f,f=Math.ceil(f),0===f)continue;M/=g[B];const E=m(S[B],{numColors:f,interpolateAlpha:s,distanceOffset:M,distanceInterval:F/g[B]});R+=E.length,W.push(...E),N+=g[B]}const k=[...S[S.length-1].toColor];return 3===k.length&&k.push(255),W.push(k),W}(l,o):m(l,o)}function x(i,o){const l=T(i,o),s=o?.interpolateAlpha;return l.forEach((g,S)=>{g.unshift(S),s||g.pop()}),l}function A(i){const o=(0,dt._Y)(i);return{type:"HsvColor",Hue:o.h,Saturation:o.s,Value:o.v,AlphaValue:255}}function c(i){return{Algorithm:i.toJSON()?.Algorithm||"esriHSVAlgorithm",type:"AlgorithmicColorRamp",FromColor:A(i.fromColor),ToColor:A(i.toColor)}}function u(i){const o=J(i);if(!o)return null;if("algorithmic"===i.type)return{...c(i),Name:o};if(i.colorRamps){const l=i.colorRamps.map(c);return{type:"MultiPartColorRamp",NumColorRamps:l.length,ArrayOfColorRamp:l,Name:o}}return null}function d(i){const o=i.reverse().map(l=>{const s=l.toString(16);return s.length<2?"0"+s:s});return 4294967295&Number.parseInt(o.join(""),16)}},89725:(At,Tt,X)=>{function dt(a,it){const{attributeTable:mt,bandCount:ot}=a;return!(null!=mt||!function Y(a){return["u8","s8"].includes(a.pixelType)&&null!=a.statistics?.[0]?.min&&null!=a.statistics[0]?.max&&1===a.bandCount}(a))||!(null==mt||ot>1||it&&null==mt.fields.find(at=>at.name.toLowerCase()===it.toLowerCase()))}function pt(a){const{bandCount:it,dataType:mt,pixelType:ot}=a;return"elevation"===mt||"generic"===mt&&1===it&&("s16"===ot||"s32"===ot||"f32"===ot||"f64"===ot)}function H(a,it=!1){const{bandCount:mt,colormap:ot,pixelType:at}=a;return 1===mt&&(!!ot?.length||!it&&"u8"===at)}function _t(a,it=!1){const{attributeTable:mt,bandCount:ot}=a;return 1===ot&&(!it||null!=mt||null!=a.histograms)}function bt(a){const{dataType:it}=a;return"vector-uv"===it||"vector-magdir"===it}function lt(a){const{dataType:it}=a;return"vector-uv"===it||"vector-magdir"===it}X.d(Tt,{LV:()=>bt,MG:()=>dt,aG:()=>lt,fI:()=>_t,jX:()=>pt,mO:()=>H})},65468:(At,Tt,X)=>{X.d(Tt,{J:()=>pt,v:()=>dt});const dt=new(X(2076).X)({none:"none",standardDeviation:"standard-deviation",histogramEqualization:"histogram-equalization",minMax:"min-max",percentClip:"percent-clip",sigmoid:"sigmoid"}),pt={0:"none",3:"standardDeviation",4:"histogramEqualization",5:"minMax",6:"percentClip",9:"sigmoid"}}}]);