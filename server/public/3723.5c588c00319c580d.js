"use strict";(self.webpackChunkCRIS=self.webpackChunkCRIS||[]).push([[3723],{93723:(we,j,C)=>{C.r(j),C.d(j,{isAnimatedGIF:()=>ve,isGIF:()=>K,parseGif:()=>he});var W=C(15861),H=C(27422),B={},E={},w={};Object.defineProperty(w,"__esModule",{value:!0}),w.loop=w.conditional=w.parse=void 0,w.parse=function t(a,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;if(Array.isArray(e))e.forEach(function(o){return t(a,o,n,i)});else if("function"==typeof e)e(a,n,i,t);else{var d=Object.keys(e)[0];Array.isArray(e[d])?(i[d]={},t(a,e[d],n,i[d])):i[d]=e[d](a,n,i,t)}return n},w.conditional=function(t,a){return function(e,n,i,d){a(e,n,i)&&d(e,t,n,i)}},w.loop=function(t,a){return function(e,n,i,d){for(var o=[],c=e.pos;a(e,n,i);){var f={};if(d(e,t,n,f),e.pos===c)break;c=e.pos,o.push(f)}return o}};var l={};Object.defineProperty(l,"__esModule",{value:!0}),l.readBits=l.readArray=l.readUnsigned=l.readString=l.peekBytes=l.readBytes=l.peekByte=l.readByte=l.buildStream=void 0,l.buildStream=function(t){return{data:t,pos:0}};l.readByte=function(){return function(t){return t.data[t.pos++]}},l.peekByte=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(a){return a.data[a.pos+t]}};var I=function(t){return function(a){return a.data.subarray(a.pos,a.pos+=t)}};l.readBytes=I,l.peekBytes=function(t){return function(a){return a.data.subarray(a.pos,a.pos+t)}},l.readString=function(t){return function(a){return Array.from(I(t)(a)).map(function(e){return String.fromCharCode(e)}).join("")}},l.readUnsigned=function(t){return function(a){var e=I(2)(a);return t?(e[1]<<8)+e[0]:(e[0]<<8)+e[1]}},l.readArray=function(t,a){return function(e,n,i){for(var d="function"==typeof a?a(e,n,i):a,o=I(t),c=new Array(d),f=0;f<d;f++)c[f]=o(e);return c}},l.readBits=function(t){return function(a){for(var e=function(t){return t.data[t.pos++]}(a),n=new Array(8),i=0;i<8;i++)n[7-i]=!!(e&1<<i);return Object.keys(t).reduce(function(d,o){var c=t[o];return d[o]=c.length?function(t,a,e){for(var n=0,i=0;i<e;i++)n+=t[a+i]&&Math.pow(2,e-i-1);return n}(n,c.index,c.length):n[c.index],d},{})}},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=w,e=l,n={blocks:function(r){for(var u=[],g=r.data.length,y=0,h=(0,e.readByte)()(r);0!==h&&h;h=(0,e.readByte)()(r)){if(r.pos+h>=g){var m=g-r.pos;u.push((0,e.readBytes)(m)(r)),y+=m;break}u.push((0,e.readBytes)(h)(r)),y+=h}for(var x=new Uint8Array(y),b=0,v=0;v<u.length;v++)x.set(u[v],b),b+=u[v].length;return x}},i=(0,a.conditional)({gce:[{codes:(0,e.readBytes)(2)},{byteSize:(0,e.readByte)()},{extras:(0,e.readBits)({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:(0,e.readUnsigned)(!0)},{transparentColorIndex:(0,e.readByte)()},{terminator:(0,e.readByte)()}]},function(r){var s=(0,e.peekBytes)(2)(r);return 33===s[0]&&249===s[1]}),d=(0,a.conditional)({image:[{code:(0,e.readByte)()},{descriptor:[{left:(0,e.readUnsigned)(!0)},{top:(0,e.readUnsigned)(!0)},{width:(0,e.readUnsigned)(!0)},{height:(0,e.readUnsigned)(!0)},{lct:(0,e.readBits)({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},(0,a.conditional)({lct:(0,e.readArray)(3,function(r,s,u){return Math.pow(2,u.descriptor.lct.size+1)})},function(r,s,u){return u.descriptor.lct.exists}),{data:[{minCodeSize:(0,e.readByte)()},n]}]},function(r){return 44===(0,e.peekByte)()(r)}),o=(0,a.conditional)({text:[{codes:(0,e.readBytes)(2)},{blockSize:(0,e.readByte)()},{preData:function(r,s,u){return(0,e.readBytes)(u.text.blockSize)(r)}},n]},function(r){var s=(0,e.peekBytes)(2)(r);return 33===s[0]&&1===s[1]}),c=(0,a.conditional)({application:[{codes:(0,e.readBytes)(2)},{blockSize:(0,e.readByte)()},{id:function(r,s,u){return(0,e.readString)(u.blockSize)(r)}},n]},function(r){var s=(0,e.peekBytes)(2)(r);return 33===s[0]&&255===s[1]}),f=(0,a.conditional)({comment:[{codes:(0,e.readBytes)(2)},n]},function(r){var s=(0,e.peekBytes)(2)(r);return 33===s[0]&&254===s[1]}),p=[{header:[{signature:(0,e.readString)(3)},{version:(0,e.readString)(3)}]},{lsd:[{width:(0,e.readUnsigned)(!0)},{height:(0,e.readUnsigned)(!0)},{gct:(0,e.readBits)({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:(0,e.readByte)()},{pixelAspectRatio:(0,e.readByte)()}]},(0,a.conditional)({gct:(0,e.readArray)(3,function(r,s){return Math.pow(2,s.lsd.gct.size+1)})},function(r,s){return s.lsd.gct.exists}),{frames:(0,a.loop)([i,c,f,d,o],function(r){var s=(0,e.peekByte)()(r);return 33===s||44===s})}];t.default=p}(E);var U={};Object.defineProperty(U,"__esModule",{value:!0}),U.deinterlace=void 0,U.deinterlace=function(t,a){for(var e=new Array(t.length),n=t.length/a,d=[0,4,2,1],o=[8,8,4,2],c=0,f=0;f<4;f++)for(var p=d[f];p<n;p+=o[f])r=p,void 0,u=t.slice((s=c)*a,(s+1)*a),e.splice.apply(e,[r*a,a].concat(u)),c++;var r,s,u;return e};var S={};Object.defineProperty(S,"__esModule",{value:!0}),S.lzw=void 0,S.lzw=function(t,a,e){var n,i,d,o,c,f,p,r,s,u,g,y,h,m,x,b,v=4096,L=e,D=new Array(e),F=new Array(v),k=new Array(v),A=new Array(v+1);for(c=1+(i=1<<(u=t)),n=i+2,p=-1,d=(1<<(o=u+1))-1,r=0;r<i;r++)F[r]=0,k[r]=r;for(g=y=h=m=x=b=0,s=0;s<L;){if(0===m){if(y<o){g+=a[b]<<y,y+=8,b++;continue}if(r=g&d,g>>=o,y-=o,r>n||r==c)break;if(r==i){d=(1<<(o=u+1))-1,n=i+2,p=-1;continue}if(-1==p){A[m++]=k[r],p=r,h=r;continue}for(f=r,r==n&&(A[m++]=h,r=p);r>i;)A[m++]=k[r],r=F[r];A[m++]=h=255&k[r],n<v&&(F[n]=p,k[n]=h,!(++n&d)&&n<v&&(o++,d+=n)),p=f}m--,D[x++]=A[m],s++}for(s=x;s<L;s++)D[s]=0;return D},Object.defineProperty(B,"__esModule",{value:!0});var P=B.decompressFrames=B.decompressFrame=R=B.parseGIF=void 0,ie=function ce(t){return t&&t.__esModule?t:{default:t}}(E),oe=w,de=l,se=U,ue=S,R=B.parseGIF=function(t){var a=new Uint8Array(t);return(0,oe.parse)((0,de.buildStream)(a),ie.default)},G=function(t,a,e){if(t.image){var n=t.image,d=(0,ue.lzw)(n.data.minCodeSize,n.data.blocks,n.descriptor.width*n.descriptor.height);n.descriptor.lct.interlaced&&(d=(0,se.deinterlace)(d,n.descriptor.width));var o={pixels:d,dims:{top:t.image.descriptor.top,left:t.image.descriptor.left,width:t.image.descriptor.width,height:t.image.descriptor.height}};return o.colorTable=n.descriptor.lct&&n.descriptor.lct.exists?n.lct:a,t.gce&&(o.delay=10*(t.gce.delay||10),o.disposalType=t.gce.extras.disposal,t.gce.extras.transparentColorGiven&&(o.transparentIndex=t.gce.transparentColorIndex)),e&&(o.patch=function(t){for(var a=t.pixels.length,e=new Uint8ClampedArray(4*a),n=0;n<a;n++){var i=4*n,d=t.pixels[n],o=t.colorTable[d]||[0,0,0];e[i]=o[0],e[i+1]=o[1],e[i+2]=o[2],e[i+3]=d!==t.transparentIndex?255:0}return e}(o)),o}console.warn("gif frame does not have associated image.")};let M,_,V;function he(t,a){return z.apply(this,arguments)}function z(){return(z=(0,W.Z)(function*(t,a){const e=R(t),n=P(e,!0),{width:i,height:d}=e.lsd,o=function ge(t,a){return M??=document.createElement("canvas"),M.width=t,M.height=a,M.getContext("2d",{willReadFrequently:!0})}(i,d),c=[],f=[];let p=0;for(const r of n){const s=(0,H.HA)(r.delay||100);f.push(s),p+=s;const u=ye(new ImageData(r.patch,r.dims.width,r.dims.height)),g=3===r.disposalType?o.getImageData(r.dims.left,r.dims.top,r.dims.width,r.dims.height):void 0;o.drawImage(u,r.dims.left,r.dims.top);const y=o.getImageData(0,0,i,d);c.push(y),1===r.disposalType||(2===r.disposalType?o.clearRect(r.dims.left,r.dims.top,r.dims.width,r.dims.height):3===r.disposalType&&o.putImageData(g,r.dims.left,r.dims.top))}return{frameCount:n.length,duration:p,frameDurations:f,getFrame:r=>c[r],width:i,height:d}})).apply(this,arguments)}function ye(t){return _??=document.createElement("canvas"),V??=_.getContext("2d",{willReadFrequently:!0}),_.width=t.width,_.height=t.height,V.putImageData(t,0,0),_}B.decompressFrame=G,P=B.decompressFrames=function(t,a){return t.frames.filter(function(e){return e.image}).map(function(e){return G(e,t.gct,a)})};const me=[71,73,70];function K(t){const a=new Uint8Array(t);return!me.some((e,n)=>e!==a[n])}function ve(t){if(!K(t))return!1;const a=new DataView(t),e=a.getUint8(10);let n=13+(128&e?3*2**(1+(7&e)):0),i=0,d=!1;for(;!d;){switch(a.getUint8(n++)){case 33:if(!o())return!1;break;case 44:c();break;case 59:d=!0;break;default:return!1}if(i>1)return!0}function o(){switch(a.getUint8(n++)){case 249:!function f(){n++,n+=4,u()}();break;case 1:!function p(){i++,n++,n+=12,u()}();break;case 254:!function r(){u()}();break;case 255:!function s(){n++,n+=8,n+=3,u()}();break;default:return!1}return!0}function c(){i++,n+=8;const g=a.getUint8(n++);n+=128&g?3*2**(1+(7&g)):0,n++,u()}function u(){let g;for(;g=a.getUint8(n++);)n+=g}return!1}}}]);