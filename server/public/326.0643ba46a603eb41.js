"use strict";(self.webpackChunkCRIS=self.webpackChunkCRIS||[]).push([[326],{90326:(B,P,n)=>{n.r(P),n.d(P,{default:()=>U});var j=n(15861),e=n(17626),w=n(85840),y=n(91558),x=n(79608),R=n(86810),f=n(23841),i=n(77712),h=n(90912),m=(n(85931),n(8314),n(76898));let l=class extends((0,R.eC)(x.j)){constructor(t){super(t),this.type="simple",this.color=new y.Z("black"),this.lineSize=2,this.fontSize=10,this.textColor=new y.Z("black"),this.textBackgroundColor=new y.Z([255,255,255,.6])}};(0,e._)([(0,i.Cb)({type:["simple"],readOnly:!0,json:{write:{isRequired:!0}}})],l.prototype,"type",void 0),(0,e._)([(0,i.Cb)({type:y.Z,nonNullable:!0,json:{type:[h.z8],write:{isRequired:!0}}})],l.prototype,"color",void 0),(0,e._)([(0,i.Cb)({type:Number,cast:f.t_,nonNullable:!0,range:{min:(0,f.Wz)(1)},json:{write:{isRequired:!0}}})],l.prototype,"lineSize",void 0),(0,e._)([(0,i.Cb)({type:Number,cast:f.t_,nonNullable:!0,json:{write:{isRequired:!0}}})],l.prototype,"fontSize",void 0),(0,e._)([(0,i.Cb)({type:y.Z,nonNullable:!0,json:{type:[h.z8],write:{isRequired:!0}}})],l.prototype,"textColor",void 0),(0,e._)([(0,i.Cb)({type:y.Z,nonNullable:!0,json:{type:[h.z8],write:{isRequired:!0}}})],l.prototype,"textBackgroundColor",void 0),l=(0,e._)([(0,m.j)("esri.analysis.DimensionSimpleStyle")],l);const g=l;var d,t;n(29132),(t=d||(d={})).Horizontal="horizontal",t.Vertical="vertical",t.Direct="direct";const L=[d.Horizontal,d.Vertical,d.Direct];var E=n(23719),T=n(66656),N=n(72642);let a=class extends((0,R.eC)(x.j)){constructor(t){super(t),this.type="length",this.startPoint=null,this.endPoint=null,this.measureType=d.Direct,this.offset=0,this.orientation=0}};(0,e._)([(0,i.Cb)({type:["length"],json:{write:{isRequired:!0}}})],a.prototype,"type",void 0),(0,e._)([(0,i.Cb)({type:N.Z,json:{write:!0}})],a.prototype,"startPoint",void 0),(0,e._)([(0,i.Cb)({type:N.Z,json:{write:!0}})],a.prototype,"endPoint",void 0),(0,e._)([(0,i.Cb)({type:L,nonNullable:!0,json:{write:{isRequired:!0}}})],a.prototype,"measureType",void 0),(0,e._)([(0,i.Cb)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}})],a.prototype,"offset",void 0),(0,e._)([(0,i.Cb)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,T.p)(t=>E.BV.normalize((0,h.q9)(t),0,!0))],a.prototype,"orientation",void 0),a=(0,e._)([(0,m.j)("esri.analysis.LengthDimension")],a);const O=a;var Z=n(74333),S=n(89726),v=n(32917),z=n(2004),A=n(5464);const b=Z.Z.ofType(O);let p=class extends w.Z{constructor(t){super(t),this.type="dimension",this.style=new g,this.extent=null}initialize(){this.addHandles((0,v.YP)(()=>this._computeExtent(),t=>{null==t?.pending&&this._set("extent",null!=t?t.extent:null)},v.tX))}get dimensions(){return this._get("dimensions")||new b}set dimensions(t){this._set("dimensions",(0,S.Z)(t,this.dimensions,b))}get spatialReference(){for(const t of this.dimensions){if(null!=t.startPoint)return t.startPoint.spatialReference;if(null!=t.endPoint)return t.endPoint.spatialReference}return null}get requiredPropertiesForEditing(){return this.dimensions.reduce((t,o)=>(t.push(o.startPoint,o.endPoint),t),[])}waitComputeExtent(){var t=this;return(0,j.Z)(function*(){const o=t._computeExtent();return null!=o?o.pending:Promise.resolve()})()}_computeExtent(){const t=this.spatialReference;if(null==t)return{pending:null,extent:null};const o=[];for(const r of this.dimensions)null!=r.startPoint&&o.push(r.startPoint),null!=r.endPoint&&o.push(r.endPoint);const u=(0,A.projectOrLoadMany)(o,t);if(null!=u.pending)return{pending:u.pending,extent:null};let C=null;return null!=u.geometries&&(C=u.geometries.reduce((r,c)=>null==r?null!=c?z.Z.fromPoint(c):null:null!=c?r.union(z.Z.fromPoint(c)):r,null)),{pending:null,extent:C}}clear(){this.dimensions.removeAll()}};(0,e._)([(0,i.Cb)({type:["dimension"]})],p.prototype,"type",void 0),(0,e._)([(0,i.Cb)({cast:S.R,type:b,nonNullable:!0})],p.prototype,"dimensions",null),(0,e._)([(0,i.Cb)({readOnly:!0})],p.prototype,"spatialReference",null),(0,e._)([(0,i.Cb)({types:{key:"type",base:null,typeMap:{simple:g}},nonNullable:!0})],p.prototype,"style",void 0),(0,e._)([(0,i.Cb)({value:null,readOnly:!0})],p.prototype,"extent",void 0),(0,e._)([(0,i.Cb)({readOnly:!0})],p.prototype,"requiredPropertiesForEditing",null),p=(0,e._)([(0,m.j)("esri.analysis.DimensionAnalysis")],p);const D=p;var M=n(99959),H=n(99433),I=n(44917),J=n(49286);let s=class extends((0,J.q)((0,M.R)(I.Z))){constructor(t){if(super(t),this.type="dimension",this.operationalLayerType="ArcGISDimensionLayer",this.source=new D,this.opacity=1,t){const{source:o,style:u}=t;o&&u&&(o.style=u)}}initialize(){this.addHandles([(0,v.YP)(()=>this.source,(t,o)=>{null!=o&&o.parent===this&&(o.parent=null),null!=t&&(t.parent=this)},v.tX)])}load(){var t=this;return(0,j.Z)(function*(){return t.addResolvingPromise(t.source.waitComputeExtent()),t})()}get spatialReference(){return this.source.spatialReference}get style(){return this.source.style}set style(t){this.source.style=t}get fullExtent(){return this.source.extent}releaseAnalysis(t){this.source===t&&(this.source=new D)}get analysis(){return this.source}set analysis(t){this.source=t}get dimensions(){return this.source.dimensions}set dimensions(t){this.source.dimensions=t}writeDimensions(t,o,u,C){o.dimensions=t.filter(({startPoint:r,endPoint:c})=>null!=r&&null!=c).map(r=>r.toJSON(C)).toJSON()}};(0,e._)([(0,i.Cb)({json:{read:!1},readOnly:!0})],s.prototype,"type",void 0),(0,e._)([(0,i.Cb)({type:["ArcGISDimensionLayer"]})],s.prototype,"operationalLayerType",void 0),(0,e._)([(0,i.Cb)({nonNullable:!0})],s.prototype,"source",void 0),(0,e._)([(0,i.Cb)({readOnly:!0})],s.prototype,"spatialReference",null),(0,e._)([(0,i.Cb)({types:{key:"type",base:null,typeMap:{simple:g}},json:{write:{ignoreOrigin:!0}}})],s.prototype,"style",null),(0,e._)([(0,i.Cb)({readOnly:!0})],s.prototype,"fullExtent",null),(0,e._)([(0,i.Cb)({readOnly:!0,json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],s.prototype,"opacity",void 0),(0,e._)([(0,i.Cb)({type:["show","hide"]})],s.prototype,"listMode",void 0),(0,e._)([(0,i.Cb)({type:Z.Z.ofType(O),json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{ignoreOrigin:!0}}}}})],s.prototype,"dimensions",null),(0,e._)([(0,H.c)("web-scene","dimensions")],s.prototype,"writeDimensions",null),s=(0,e._)([(0,m.j)("esri.layers.DimensionLayer")],s);const U=s}}]);