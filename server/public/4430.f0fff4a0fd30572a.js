"use strict";(self.webpackChunkCRIS=self.webpackChunkCRIS||[]).push([[4430],{14077:(re,K,n)=>{n.d(K,{Z:()=>We});var L,e=n(17626),_=n(86810),E=n(58817),o=n(77712),i=n(66656),S=n(68653),d=n(76898),c=n(99433),X=n(90912);n(85931),n(8314);let x=L=class extends _.wq{constructor(t){super(t),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new L({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};(0,e._)([(0,o.Cb)({type:String,json:{write:!0}})],x.prototype,"expression",void 0),(0,e._)([(0,o.Cb)({type:String,json:{write:!0}})],x.prototype,"name",void 0),(0,e._)([(0,o.Cb)({type:["boolean","date","number","string"],json:{write:!0}})],x.prototype,"returnType",void 0),(0,e._)([(0,o.Cb)({type:String,json:{write:!0}})],x.prototype,"title",void 0),x=L=(0,e._)([(0,d.j)("esri.form.ExpressionInfo")],x);const J=x;let C=class extends _.wq{constructor(t){super(t),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};(0,e._)([(0,o.Cb)({type:String,json:{write:!0}})],C.prototype,"description",void 0),(0,e._)([(0,o.Cb)({type:String,json:{write:!0}})],C.prototype,"label",void 0),(0,e._)([(0,o.Cb)()],C.prototype,"type",void 0),(0,e._)([(0,o.Cb)({type:String,json:{write:!0}})],C.prototype,"visibilityExpression",void 0),C=(0,e._)([(0,d.j)("esri.form.elements.Element")],C);const f=C;var F;let k=F=class extends _.wq{constructor(t){super(t),this.type=null}clone(){return new F({type:this.type})}};(0,e._)([(0,o.Cb)({type:["attachment","audio","document","image","signature","video"],json:{write:!0}})],k.prototype,"type",void 0),k=F=(0,e._)([(0,d.j)("esri.form.elements.inputs.AttachmentInput")],k);const H=k;var N;let g=N=class extends f{constructor(t){super(t),this.attachmentKeyword=null,this.editableExpression=null,this.input=null,this.type="attachment"}clone(){return new N({attachmentKeyword:this.attachmentKeyword,description:this.description,editableExpression:this.editableExpression,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}};(0,e._)([(0,o.Cb)({type:String,json:{write:!0}})],g.prototype,"attachmentKeyword",void 0),(0,e._)([(0,o.Cb)({type:String,json:{write:!0}})],g.prototype,"editableExpression",void 0),(0,e._)([(0,o.Cb)({type:H,json:{read:{source:"inputType"},write:{target:"inputType"}}})],g.prototype,"input",void 0),(0,e._)([(0,o.Cb)({type:["attachment"],json:{read:!1,write:!0}})],g.prototype,"type",void 0),g=N=(0,e._)([(0,d.j)("esri.form.elements.AttachmentElement")],g);const m=g;var h=n(55538),I=n(63290);let w=class extends _.wq{constructor(t){super(t),this.type=null}};(0,e._)([(0,o.Cb)()],w.prototype,"type",void 0),w=(0,e._)([(0,d.j)("esri.form.elements.inputs.Input")],w);const y=w;let j=class extends y{constructor(t){super(t),this.maxLength=null,this.minLength=0}};(0,e._)([(0,o.Cb)({type:Number,json:{write:!0}})],j.prototype,"maxLength",void 0),(0,e._)([(0,o.Cb)({type:Number,json:{write:!0}})],j.prototype,"minLength",void 0),j=(0,e._)([(0,d.j)("esri.form.elements.inputs.TextInput")],j);const R=j;var A;let W=A=class extends R{constructor(t){super(t),this.type="barcode-scanner"}clone(){return new A({maxLength:this.maxLength,minLength:this.minLength})}};(0,e._)([(0,o.Cb)({type:["barcode-scanner"],json:{read:!1,write:!0}})],W.prototype,"type",void 0),W=A=(0,e._)([(0,d.j)("esri.form.elements.inputs.BarcodeScannerInput")],W);const $=W;var b;let D=b=class extends y{constructor(t){super(t),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="combo-box"}clone(){return new b({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};(0,e._)([(0,o.Cb)({type:String,json:{write:!0}})],D.prototype,"noValueOptionLabel",void 0),(0,e._)([(0,o.Cb)({type:Boolean,json:{write:!0}})],D.prototype,"showNoValueOption",void 0),(0,e._)([(0,o.Cb)({type:["combo-box"],json:{read:!1,write:!0}})],D.prototype,"type",void 0),D=b=(0,e._)([(0,d.j)("esri.form.elements.inputs.ComboBoxInput")],D);const oe=D;var q;function T(t){return t??null}function v(t){return t??null}let M=q=class extends y{constructor(t){super(t),this.max=null,this.min=null,this.type="date-picker"}readMax(t,l){return T(l.max)}writeMax(t,l){l.max=v(t)}readMin(t,l){return T(l.min)}writeMin(t,l){l.min=v(t)}clone(){return new q({max:this.max,min:this.min})}};(0,e._)([(0,o.Cb)({type:String,json:{type:String,write:!0}})],M.prototype,"max",void 0),(0,e._)([(0,S.r)("max")],M.prototype,"readMax",null),(0,e._)([(0,c.c)("max")],M.prototype,"writeMax",null),(0,e._)([(0,o.Cb)({type:String,json:{type:String,write:!0}})],M.prototype,"min",void 0),(0,e._)([(0,S.r)("min")],M.prototype,"readMin",null),(0,e._)([(0,c.c)("min")],M.prototype,"writeMin",null),(0,e._)([(0,o.Cb)({type:["date-picker"],json:{read:!1,write:!0}})],M.prototype,"type",void 0),M=q=(0,e._)([(0,d.j)("esri.form.elements.inputs.DatePickerInput")],M);const u=M;var r;function a(t){return t??null}function s(t){return t??null}let p=r=class extends y{constructor(t){super(t),this.includeTimeOffset=!0,this.max=null,this.min=null,this.timeResolution="minutes",this.type="datetimeoffset-picker"}readMax(t,l){return a(l.max)}writeMax(t,l){l.max=s(t)}readMin(t,l){return a(l.min)}writeMin(t,l){l.min=s(t)}readTimeResolution(t,l){return a(l.timeResolution)}writeTimeResolution(t,l){l.timeResolution=s(t)}clone(){return new r({includeTimeOffset:this.includeTimeOffset,max:this.max,min:this.min,timeResolution:this.timeResolution})}};(0,e._)([(0,o.Cb)({type:Boolean,json:{write:!0}})],p.prototype,"includeTimeOffset",void 0),(0,e._)([(0,o.Cb)({type:String,json:{type:String,write:!0}})],p.prototype,"max",void 0),(0,e._)([(0,S.r)("max")],p.prototype,"readMax",null),(0,e._)([(0,c.c)("max")],p.prototype,"writeMax",null),(0,e._)([(0,o.Cb)({type:String,json:{type:String,write:!0}})],p.prototype,"min",void 0),(0,e._)([(0,S.r)("min")],p.prototype,"readMin",null),(0,e._)([(0,c.c)("min")],p.prototype,"writeMin",null),(0,e._)([(0,o.Cb)({type:String,json:{type:String,write:!0}})],p.prototype,"timeResolution",void 0),(0,e._)([(0,S.r)("timeResolution")],p.prototype,"readTimeResolution",null),(0,e._)([(0,c.c)("timeResolution")],p.prototype,"writeTimeResolution",null),(0,e._)([(0,o.Cb)({type:["datetimeoffset-picker"],json:{read:!1,write:!0}})],p.prototype,"type",void 0),p=r=(0,e._)([(0,d.j)("esri.form.elements.inputs.DateTimeOffsetPickerInput")],p);const V=p;var pe;function Ie(t){return null!=t?new Date(t):null}function je(t){return t?t.getTime():null}let Z=pe=class extends y{constructor(t){super(t),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(t,l){return Ie(l.max)}writeMax(t,l){l.max=je(t)}readMin(t,l){return Ie(l.min)}writeMin(t,l){l.min=je(t)}clone(){return new pe({includeTime:this.includeTime,max:this.max,min:this.min})}};(0,e._)([(0,o.Cb)({type:Boolean,json:{write:!0}})],Z.prototype,"includeTime",void 0),(0,e._)([(0,o.Cb)({type:Date,json:{type:Number,write:!0}})],Z.prototype,"max",void 0),(0,e._)([(0,S.r)("max")],Z.prototype,"readMax",null),(0,e._)([(0,c.c)("max")],Z.prototype,"writeMax",null),(0,e._)([(0,o.Cb)({type:Date,json:{type:Number,write:!0}})],Z.prototype,"min",void 0),(0,e._)([(0,S.r)("min")],Z.prototype,"readMin",null),(0,e._)([(0,c.c)("min")],Z.prototype,"writeMin",null),(0,e._)([(0,o.Cb)({type:["datetime-picker"],json:{read:!1,write:!0}})],Z.prototype,"type",void 0),Z=pe=(0,e._)([(0,d.j)("esri.form.elements.inputs.DateTimePickerInput")],Z);const De=Z;var ae;let ee=ae=class extends y{constructor(t){super(t),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="radio-buttons"}clone(){return new ae({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};(0,e._)([(0,o.Cb)({type:String,json:{write:!0}})],ee.prototype,"noValueOptionLabel",void 0),(0,e._)([(0,o.Cb)({type:Boolean,json:{write:!0}})],ee.prototype,"showNoValueOption",void 0),(0,e._)([(0,o.Cb)({type:["radio-buttons"],json:{read:!1,write:!0}})],ee.prototype,"type",void 0),ee=ae=(0,e._)([(0,d.j)("esri.form.elements.inputs.RadioButtonsInput")],ee);const Ve=ee;var de;let te=de=class extends y{constructor(t){super(t),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new de({offValue:this.offValue,onValue:this.onValue})}};(0,e._)([(0,o.Cb)({type:[String,Number],json:{write:!0}})],te.prototype,"offValue",void 0),(0,e._)([(0,o.Cb)({type:[String,Number],json:{write:!0}})],te.prototype,"onValue",void 0),(0,e._)([(0,o.Cb)({type:["switch"],json:{read:!1,write:!0}})],te.prototype,"type",void 0),te=de=(0,e._)([(0,d.j)("esri.form.elements.inputs.SwitchInput")],te);const Be=te;var ue;let se=ue=class extends R{constructor(t){super(t),this.type="text-area"}clone(){return new ue({maxLength:this.maxLength,minLength:this.minLength})}};(0,e._)([(0,o.Cb)({type:["text-area"],json:{read:!1,write:!0}})],se.prototype,"type",void 0),se=ue=(0,e._)([(0,d.j)("esri.form.elements.inputs.TextAreaInput")],se);const Pe=se;var ye;let le=ye=class extends R{constructor(t){super(t),this.type="text-box"}clone(){return new ye({maxLength:this.maxLength,minLength:this.minLength})}};(0,e._)([(0,o.Cb)({type:["text-box"],json:{read:!1,write:!0}})],le.prototype,"type",void 0),le=ye=(0,e._)([(0,d.j)("esri.form.elements.inputs.TextBoxInput")],le);const Ae=le;var ce;function me(t){return t??null}function he(t){return t??null}let B=ce=class extends y{constructor(t){super(t),this.max=null,this.min=null,this.timeResolution="minutes",this.type="time-picker"}readMax(t,l){return me(l.max)}writeMax(t,l){l.max=he(t)}readMin(t,l){return me(l.min)}writeMin(t,l){l.min=he(t)}readTimeResolution(t,l){return me(l.timeResolution)}writeTimeResolution(t,l){l.timeResolution=he(t)}clone(){return new ce({max:this.max,min:this.min,timeResolution:this.timeResolution})}};(0,e._)([(0,o.Cb)({type:String,json:{type:String,write:!0}})],B.prototype,"max",void 0),(0,e._)([(0,S.r)("max")],B.prototype,"readMax",null),(0,e._)([(0,c.c)("max")],B.prototype,"writeMax",null),(0,e._)([(0,o.Cb)({type:String,json:{type:String,write:!0}})],B.prototype,"min",void 0),(0,e._)([(0,S.r)("min")],B.prototype,"readMin",null),(0,e._)([(0,c.c)("min")],B.prototype,"writeMin",null),(0,e._)([(0,o.Cb)({type:String,json:{type:String,write:!0}})],B.prototype,"timeResolution",void 0),(0,e._)([(0,S.r)("timeResolution")],B.prototype,"readTimeResolution",null),(0,e._)([(0,c.c)("timeResolution")],B.prototype,"writeTimeResolution",null),(0,e._)([(0,o.Cb)({type:["time-picker"],json:{read:!1,write:!0}})],B.prototype,"type",void 0),B=ce=(0,e._)([(0,d.j)("esri.form.elements.inputs.TimePickerInput")],B);const Ue={base:y,key:"type",typeMap:{"barcode-scanner":$,"combo-box":oe,"date-picker":u,"datetime-picker":De,"datetimeoffset-picker":V,"radio-buttons":Ve,switch:Be,"text-area":Pe,"text-box":Ae,"time-picker":B}};var ve,_e=n(26141);const we="esri.form.elements.FieldElement",Ee=I.Z.getLogger(we);let U=ve=class extends f{constructor(t){super(t),this.domain=null,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}get editable(){return(0,h.Mr)(Ee,"editable",{replacement:"editableExpression",version:"4.26",warnOnce:!0}),this._get("editable")??!0}set editable(t){(0,h.Mr)(Ee,"editable",{replacement:"editableExpression",version:"4.26",warnOnce:!0}),this._set("editable",t)}clone(){return new ve({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};(0,e._)([(0,o.Cb)({types:_e.V5,json:{read:{reader:_e.im},write:!0}})],U.prototype,"domain",void 0),(0,e._)([(0,o.Cb)({type:Boolean,json:{write:!0}})],U.prototype,"editable",null),(0,e._)([(0,o.Cb)({type:String,json:{write:!0}})],U.prototype,"editableExpression",void 0),(0,e._)([(0,o.Cb)({type:String,json:{write:!0}})],U.prototype,"fieldName",void 0),(0,e._)([(0,o.Cb)({type:String,json:{write:!0}})],U.prototype,"hint",void 0),(0,e._)([(0,o.Cb)({types:Ue,json:{read:{source:"inputType"},write:{target:"inputType"}}})],U.prototype,"input",void 0),(0,e._)([(0,o.Cb)({type:String,json:{write:!0}})],U.prototype,"requiredExpression",void 0),(0,e._)([(0,o.Cb)({type:String,json:{read:!1,write:!0}})],U.prototype,"type",void 0),(0,e._)([(0,o.Cb)({type:String,json:{write:!0}})],U.prototype,"valueExpression",void 0),U=ve=(0,e._)([(0,d.j)(we)],U);const Se=U;var be,Le=n(51686);let z=be=class extends f{constructor(t){super(t),this.displayCount=null,this.displayType="list",this.editableExpression=null,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new be({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editableExpression:this.editableExpression,label:this.label,orderByFields:(0,E.d9)(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};(0,e._)([(0,o.Cb)({type:Number,json:{write:!0}})],z.prototype,"displayCount",void 0),(0,e._)([(0,o.Cb)({type:["list"],json:{write:!0}})],z.prototype,"displayType",void 0),(0,e._)([(0,o.Cb)({type:String,json:{write:!0}})],z.prototype,"editableExpression",void 0),(0,e._)([(0,o.Cb)({type:[Le.Z],json:{write:!0}})],z.prototype,"orderByFields",void 0),(0,e._)([(0,o.Cb)({type:Number,json:{write:!0}})],z.prototype,"relationshipId",void 0),(0,e._)([(0,o.Cb)({type:["relationship"],json:{read:!1,write:!0}})],z.prototype,"type",void 0),z=be=(0,e._)([(0,d.j)("esri.form.elements.RelationshipElement")],z);const Fe=z;function Me(t){return{typesWithGroup:{base:f,key:"type",typeMap:{attachment:m,field:Se,group:t,relationship:Fe}},typesWithoutGroup:{base:f,key:"type",typeMap:{attachment:m,field:Se,relationship:Fe}}}}function Te(t,l,ne=!0){if(!t)return null;const ie=ne?l.typesWithGroup.typeMap:l.typesWithoutGroup.typeMap;return t.filter(Y=>ie[Y.type]).map(Y=>ie[Y.type].fromJSON(Y))}function Oe(t,l,ne=!0){if(!t)return null;const ie=ne?l.typesWithGroup.typeMap:l.typesWithoutGroup.typeMap;return t.filter(Y=>ie[Y.type]).map(Y=>Y.toJSON())}function Re(t,l,ne=!0){return t?t.map(ie=>(0,X.N7)(ne?l.typesWithGroup:l.typesWithoutGroup,ie)):null}var fe;let Q=fe=class extends f{constructor(t){super(t),this.elements=null,this.initialState="expanded",this.type="group"}castElements(t){return Re(t,ge,!1)}readElements(t,l){return Te(l.formElements,ge,!1)}writeElements(t,l){l.formElements=Oe(t,ge,!1)}clone(){return new fe({description:this.description,elements:(0,E.d9)(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};(0,e._)([(0,o.Cb)({json:{write:!0}})],Q.prototype,"elements",void 0),(0,e._)([(0,i.p)("elements")],Q.prototype,"castElements",null),(0,e._)([(0,S.r)("elements",["formElements"])],Q.prototype,"readElements",null),(0,e._)([(0,c.c)("elements")],Q.prototype,"writeElements",null),(0,e._)([(0,o.Cb)({type:["collapsed","expanded"],json:{write:!0}})],Q.prototype,"initialState",void 0),(0,e._)([(0,o.Cb)({type:String,json:{read:!1,write:!0}})],Q.prototype,"type",void 0),Q=fe=(0,e._)([(0,d.j)("esri.form.elements.GroupElement")],Q);const ge=Me(Q);var xe;const Ce=Me(Q);let G=xe=class extends _.wq{constructor(t){super(t),this.description=null,this.elements=null,this.expressionInfos=null,this.preserveFieldValuesWhenHidden=!1,this.title=null}castElements(t){return Re(t,Ce)}readElements(t,l){return Te(l.formElements,Ce)}writeElements(t,l){l.formElements=Oe(t,Ce)}clone(){return new xe({description:this.description,expressionInfos:(0,E.d9)(this.expressionInfos),elements:(0,E.d9)(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}};(0,e._)([(0,o.Cb)({type:String,json:{write:!0}})],G.prototype,"description",void 0),(0,e._)([(0,o.Cb)({json:{write:!0}})],G.prototype,"elements",void 0),(0,e._)([(0,i.p)("elements")],G.prototype,"castElements",null),(0,e._)([(0,S.r)("elements",["formElements"])],G.prototype,"readElements",null),(0,e._)([(0,c.c)("elements")],G.prototype,"writeElements",null),(0,e._)([(0,o.Cb)({type:[J],json:{write:!0}})],G.prototype,"expressionInfos",void 0),(0,e._)([(0,o.Cb)({type:Boolean,json:{default:!1,write:!0}})],G.prototype,"preserveFieldValuesWhenHidden",void 0),(0,e._)([(0,o.Cb)({type:String,json:{write:!0}})],G.prototype,"title",void 0),G=xe=(0,e._)([(0,d.j)("esri.form.FormTemplate")],G);const We=G},6733:(re,K,n)=>{n.d(K,{jF:()=>J,lQ:()=>k,o1:()=>g});var e=n(17626),_=n(61885),E=n(58817),o=n(10699),X=(n(63290),n(90912),n(26584),n(8314),n(76898)),P=n(67385);const O=new _.Z.EventEmitter;function J(m,h,I=null,w=!1){const y=(0,o.hh)();return O.emit("apply-edits",{serviceUrl:m,layerId:h,gdbVersion:I,mayReceiveServiceEdits:w=null==h||w,result:y.promise}),y}const f="esri.layers.mixins.EditBusLayer",F=Symbol(f);function k(m){return null!=m&&"object"==typeof m&&F in m}function H(m){return null!=m&&"object"==typeof m&&"gdbVersion"in m}function N(m,h,I){const w=new URL(m).host,y=P.Jp.get(w),j=R=>!R||R===y;return j(h)&&j(I)||h===I}const g=m=>{var h;let I=class extends m{constructor(...w){super(...w),this[h]=!0,this._applyEditsHandler=y=>{const{serviceUrl:j,layerId:R,gdbVersion:A,mayReceiveServiceEdits:W,result:$}=y,b=j===this.url,D=null!=R&&null!=this.layerId&&R===this.layerId,oe=H(this),q=H(this)&&N(j,A,this.gdbVersion);if(!b||oe&&!q||!D&&!W)return;const T=$.then(v=>{if(D&&(v.addedFeatures.length||v.updatedFeatures.length||v.deletedFeatures.length||v.addedAttachments.length||v.updatedAttachments.length||v.deletedAttachments.length))return this.emit("edits",(0,E.d9)(v)),v;const M=v.editedFeatures?.find(({layerId:u})=>u===this.layerId);if(M){const{adds:u,updates:r,deletes:a}=M.editedFeatures,s={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:u?u.map(({attributes:p})=>({objectId:this.objectIdField&&p[this.objectIdField],globalId:this.globalIdField&&p[this.globalIdField]})):[],deletedFeatures:a?a.map(({attributes:p})=>({objectId:this.objectIdField&&p[this.objectIdField],globalId:this.globalIdField&&p[this.globalIdField]})):[],updatedFeatures:r?r.map(({current:{attributes:p}})=>({objectId:this.objectIdField&&p[this.objectIdField],globalId:this.globalIdField&&p[this.globalIdField]})):[],editedFeatures:(0,E.d9)(v.editedFeatures),exceededTransferLimit:!1,historicMoment:(0,E.d9)(v.historicMoment)};return this.emit("edits",s),s}return{edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:[],deletedFeatures:[],updatedFeatures:[],editedFeatures:(0,E.d9)(v.editedFeatures),exceededTransferLimit:!1,historicMoment:(0,E.d9)(v.historicMoment)}}).then(v=>("historicMoment"in this&&this.historicMoment!==v.historicMoment&&(0,P.JV)(j,A)&&(this.historicMoment=v.historicMoment),v));this.emit("apply-edits",{result:T})},this._updateMomentHandler=y=>{const{serviceUrl:j,gdbVersion:R,moment:A}=y,W=j===this.url,$=H(this),b=H(this)&&N(j,R,this.gdbVersion),D=H(this)&&!N(j,this.gdbVersion,null);W&&$&&b&&D&&"historicMoment"in this&&this.historicMoment!==A&&(this.historicMoment=A)},this.when().then(()=>{this.addHandles(function L(m){return O.on("apply-edits",new WeakRef(m))}(this._applyEditsHandler)),"historicMoment"in this&&this.addHandles(function x(m){return O.on("update-moment",new WeakRef(m))}(this._updateMomentHandler))},()=>{})}};return h=F,I=(0,e._)([(0,X.j)(f)],I),I}},58426:(re,K,n)=>{n.d(K,{B:()=>M});var e=n(17626),_=n(74333),E=n(58817),o=n(63290),i=n(77712),d=(n(90912),n(68653)),c=n(76898),X=n(99433),P=n(9256),O=n(2004),L=n(79334),x=n(65234),J=n(38305),C=n(13812),f=n(79608),F=n(86810),N=(n(85931),n(8314),n(28302));let g=class extends((0,f.J)(F.wq)){constructor(u){super(u),this.creatorField=null,this.creationDateField=null,this.editorField=null,this.editDateField=null,this.realm=null,this.timeZone=null}};(0,e._)([(0,i.Cb)()],g.prototype,"creatorField",void 0),(0,e._)([(0,i.Cb)()],g.prototype,"creationDateField",void 0),(0,e._)([(0,i.Cb)()],g.prototype,"editorField",void 0),(0,e._)([(0,i.Cb)()],g.prototype,"editDateField",void 0),(0,e._)([(0,i.Cb)()],g.prototype,"realm",void 0),(0,e._)([(0,i.Cb)((0,N.mi)("dateFieldsTimeReference",!0))],g.prototype,"timeZone",void 0),g=(0,e._)([(0,c.j)("esri.layers.support.EditFieldsInfo")],g);const m=g;let h=class extends((0,f.J)(F.wq)){constructor(u){super(u)}};(0,e._)([(0,i.Cb)({constructOnly:!0,json:{write:!0}})],h.prototype,"name",void 0),(0,e._)([(0,i.Cb)({constructOnly:!0,json:{write:!0}})],h.prototype,"fields",void 0),(0,e._)([(0,i.Cb)({constructOnly:!0,json:{write:!0}})],h.prototype,"isAscending",void 0),(0,e._)([(0,i.Cb)({constructOnly:!0,json:{write:!0}})],h.prototype,"indexType",void 0),(0,e._)([(0,i.Cb)({constructOnly:!0,json:{write:!0}})],h.prototype,"isUnique",void 0),(0,e._)([(0,i.Cb)({constructOnly:!0,json:{write:!0}})],h.prototype,"description",void 0),h=(0,e._)([(0,c.j)("esri.layers.support.FeatureIndex")],h);var I=n(56347),w=n(16730);let y=class extends((0,f.J)(F.wq)){constructor(u){super(u),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};(0,e._)([(0,i.Cb)({type:String,json:{read:{source:"shapeAreaFieldName"}}})],y.prototype,"shapeAreaField",void 0),(0,e._)([(0,i.Cb)({type:String,json:{read:{source:"shapeLengthFieldName"}}})],y.prototype,"shapeLengthField",void 0),(0,e._)([(0,i.Cb)({type:String,json:{read:u=>w.gV.read(u)||w.Jo.read(u)}})],y.prototype,"units",void 0),y=(0,e._)([(0,c.j)("esri.layers.support.GeometryFieldsInfo")],y);const j=y;var R=n(2430),A=n(2076);const W=new A.X({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),$=new A.X({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let b=class extends((0,f.J)(F.wq)){constructor(u){super(u),this.cardinality=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};(0,e._)([(0,i.Cb)({json:{read:W.read,write:W.write}})],b.prototype,"cardinality",void 0),(0,e._)([(0,i.Cb)({json:{read:!0,write:!0}})],b.prototype,"composite",void 0),(0,e._)([(0,i.Cb)({json:{read:!0,write:!0}})],b.prototype,"id",void 0),(0,e._)([(0,i.Cb)({json:{read:!0,write:!0}})],b.prototype,"keyField",void 0),(0,e._)([(0,i.Cb)({json:{read:!0,write:!0}})],b.prototype,"keyFieldInRelationshipTable",void 0),(0,e._)([(0,i.Cb)({json:{read:!0,write:!0}})],b.prototype,"name",void 0),(0,e._)([(0,i.Cb)({json:{read:!0,write:!0}})],b.prototype,"relatedTableId",void 0),(0,e._)([(0,i.Cb)({json:{read:!0,write:!0}})],b.prototype,"relationshipTableId",void 0),(0,e._)([(0,i.Cb)({json:{read:$.read,write:$.write}})],b.prototype,"role",void 0),b=(0,e._)([(0,c.j)("esri.layers.support.Relationship")],b);const D=b;var oe=n(65151),q=n(26141);let T=class extends((0,f.J)(F.wq)){constructor(u){super(u),this.code=null,this.defaultValues={},this.domains=null,this.name=null}readDomains(u){if(!u)return null;const r={};for(const a of Object.keys(u))r[a]=(0,q.im)(u[a]);return r}writeDomains(u,r){if(!u)return;const a={};for(const s of Object.keys(u))u[s]&&(a[s]=u[s]?.toJSON());r.domains=a}};(0,e._)([(0,i.Cb)({type:Number,json:{write:!0}})],T.prototype,"code",void 0),(0,e._)([(0,i.Cb)({type:Object,json:{write:!0}})],T.prototype,"defaultValues",void 0),(0,e._)([(0,i.Cb)({json:{write:!0}})],T.prototype,"domains",void 0),(0,e._)([(0,d.r)("domains")],T.prototype,"readDomains",null),(0,e._)([(0,X.c)("domains")],T.prototype,"writeDomains",null),(0,e._)([(0,i.Cb)({type:String,json:{write:!0}})],T.prototype,"name",void 0),T=(0,e._)([(0,c.j)("esri.layers.support.Subtype")],T);const v=T,M=u=>{let r=class extends u{constructor(){super(...arguments),this.copyright=null,this.capabilities=null,this.dateFieldsTimeZone=null,this.datesInUnknownTimezone=!1,this.definitionExpression=null,this.displayField=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.floorInfo=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.globalIdField=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.indexes=new(_.Z.ofType(h)),this.isTable=!1,this.layerId=void 0,this.maxScale=0,this.minScale=0,this.objectIdField=null,this.preferredTimeZone=null,this.relationships=null,this.returnM=void 0,this.returnZ=void 0,this.serviceDefinitionExpression=null,this.serviceItemId=null,this.sourceJSON=null,this.spatialReference=x.Z.WGS84,this.subtypeField=null,this.subtypes=null,this.trackIdField=null,this.version=void 0}get authenticationTriggerEvent(){if(!this.url)return null;const{capabilities:a}=this;if(a){const{query:s,operations:p,editing:V}=a;if(!s.supportsQueryByOthers||!s.supportsQueryByAnonymous||p.supportsEditing&&!(V.supportsUpdateByOthers&&V.supportsUpdateByAnonymous&&V.supportsDeleteByOthers&&V.supportsDeleteByAnonymous))return"load"}return this.userHasUpdateItemPrivileges?(0,I.uA)(this)?"load":this.hasUpdateItemRestrictions?a.operations.supportsQuery?"editing":"load":null:this.userHasFullEditingPrivileges&&this.hasFullEditingRestrictions?"editing":null}readCapabilitiesFromService(a,s){return(0,oe.h)(s,this.url)}readEditingInfo(a,s){const{editingInfo:p}=s;return p?{lastEditDate:null!=p.lastEditDate?new Date(p.lastEditDate):null}:null}get effectiveCapabilities(){const a=this.capabilities;if(!a)return null;const s=(0,E.d9)(a),{operations:p,editing:V}=s;return this.sourceJSON?.isMultiServicesView?(this.userHasUpdateItemPrivileges&&(p.supportsQuery=!0),s):this.userHasUpdateItemPrivileges?(p.supportsAdd=p.supportsDelete=p.supportsEditing=p.supportsQuery=p.supportsUpdate=V.supportsDeleteByOthers=V.supportsGeometryUpdate=V.supportsUpdateByOthers=!0,s):(this.userHasFullEditingPrivileges&&p.supportsEditing&&(p.supportsAdd=p.supportsDelete=p.supportsUpdate=V.supportsGeometryUpdate=!0),s)}readGlobalIdFieldFromService(a,s){return(0,I.rk)(s)}get hasFullEditingRestrictions(){const a=this.capabilities;if(!a||this.sourceJSON?.isMultiServicesView)return!1;const{operations:s,editing:p}=a;return s.supportsEditing&&!(s.supportsAdd&&s.supportsDelete&&s.supportsUpdate&&p.supportsGeometryUpdate)}get hasUpdateItemRestrictions(){const a=this.capabilities;if(!a)return!1;const{operations:s,editing:p}=a;return this.sourceJSON?.isMultiServicesView?!s.supportsQuery:!(s.supportsAdd&&s.supportsDelete&&s.supportsEditing&&s.supportsQuery&&s.supportsUpdate&&p.supportsDeleteByOthers&&p.supportsGeometryUpdate&&p.supportsUpdateByOthers)}readIsTableFromService(a,s){return"Table"===s.type}readMaxScale(a,s){return s.effectiveMaxScale||a||0}readMinScale(a,s){return s.effectiveMinScale||a||0}readObjectIdFieldFromService(a,s){return(0,I.kZ)(s)}readServiceDefinitionExpression(a,s){return s.definitionQuery||s.definitionExpression}set url(a){const s=(0,J.XG)({layer:this,url:a,nonStandardUrlAllowed:!0,logger:o.Z.getLogger(this)});this._set("url",s.url),null!=s.layerId&&this._set("layerId",s.layerId)}writeUrl(a,s,p,V){(0,J.wH)(this,a,null,s,V)}readVersion(a,s){return(0,I.JY)(s)}};return(0,e._)([(0,i.Cb)({readOnly:!0})],r.prototype,"authenticationTriggerEvent",null),(0,e._)([(0,i.Cb)({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],r.prototype,"copyright",void 0),(0,e._)([(0,i.Cb)({readOnly:!0,json:{read:!1,origins:{service:{read:{source:["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"]}}}}})],r.prototype,"capabilities",void 0),(0,e._)([(0,d.r)("service","capabilities")],r.prototype,"readCapabilitiesFromService",null),(0,e._)([(0,i.Cb)((0,N.mi)("dateFieldsTimeReference"))],r.prototype,"dateFieldsTimeZone",void 0),(0,e._)([(0,i.Cb)({type:Boolean})],r.prototype,"datesInUnknownTimezone",void 0),(0,e._)([(0,i.Cb)({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],r.prototype,"definitionExpression",void 0),(0,e._)([(0,i.Cb)({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],r.prototype,"displayField",void 0),(0,e._)([(0,i.Cb)({readOnly:!0,type:m})],r.prototype,"editFieldsInfo",void 0),(0,e._)([(0,i.Cb)({readOnly:!0})],r.prototype,"editingInfo",void 0),(0,e._)([(0,d.r)("editingInfo")],r.prototype,"readEditingInfo",null),(0,e._)([(0,i.Cb)({readOnly:!0})],r.prototype,"effectiveCapabilities",null),(0,e._)([(0,i.Cb)((()=>{const a=(0,E.d9)(C.PV),s=a.json.origins;return s["web-map"]={read:!1,write:!1},s["portal-item"]={read:!1,write:!1},a})())],r.prototype,"elevationInfo",void 0),(0,e._)([(0,i.Cb)({type:R.Z,json:{name:"layerDefinition.floorInfo",write:!0,origins:{"web-scene":{name:"layerDefinition.floorInfo",write:{enabled:!0,layerContainerTypes:P.C}}}}})],r.prototype,"floorInfo",void 0),(0,e._)([(0,i.Cb)({type:O.Z,json:{origins:{service:{read:{source:"extent"}}}}})],r.prototype,"fullExtent",void 0),(0,e._)([(0,i.Cb)()],r.prototype,"gdbVersion",void 0),(0,e._)([(0,i.Cb)({readOnly:!0,type:j,json:{read:{source:"geometryProperties"}}})],r.prototype,"geometryFieldsInfo",void 0),(0,e._)([(0,i.Cb)({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:I.Fr.read}}}})],r.prototype,"geometryType",void 0),(0,e._)([(0,i.Cb)({type:String})],r.prototype,"globalIdField",void 0),(0,e._)([(0,d.r)("service","globalIdField",["globalIdField","fields"])],r.prototype,"readGlobalIdFieldFromService",null),(0,e._)([(0,i.Cb)({readOnly:!0})],r.prototype,"hasFullEditingRestrictions",null),(0,e._)([(0,i.Cb)({type:Boolean,json:{origins:{service:{read:!0}}}})],r.prototype,"hasM",void 0),(0,e._)([(0,i.Cb)({readOnly:!0})],r.prototype,"hasUpdateItemRestrictions",null),(0,e._)([(0,i.Cb)({type:Boolean,json:{origins:{service:{read:!0}}}})],r.prototype,"hasZ",void 0),(0,e._)([(0,i.Cb)({readOnly:!0,type:L.Z})],r.prototype,"heightModelInfo",void 0),(0,e._)([(0,i.Cb)({type:Date})],r.prototype,"historicMoment",void 0),(0,e._)([(0,i.Cb)({type:_.Z.ofType(h),readOnly:!0})],r.prototype,"indexes",void 0),(0,e._)([(0,i.Cb)({readOnly:!0})],r.prototype,"isTable",void 0),(0,e._)([(0,d.r)("service","isTable",["type"])],r.prototype,"readIsTableFromService",null),(0,e._)([(0,i.Cb)({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],r.prototype,"layerId",void 0),(0,e._)([(0,i.Cb)(C.u1)],r.prototype,"maxScale",void 0),(0,e._)([(0,d.r)("service","maxScale",["maxScale","effectiveMaxScale"])],r.prototype,"readMaxScale",null),(0,e._)([(0,i.Cb)(C.rO)],r.prototype,"minScale",void 0),(0,e._)([(0,d.r)("service","minScale",["minScale","effectiveMinScale"])],r.prototype,"readMinScale",null),(0,e._)([(0,i.Cb)({type:String})],r.prototype,"objectIdField",void 0),(0,e._)([(0,d.r)("service","objectIdField",["objectIdField","fields"])],r.prototype,"readObjectIdFieldFromService",null),(0,e._)([(0,i.Cb)((0,N.mi)("preferredTimeReference"))],r.prototype,"preferredTimeZone",void 0),(0,e._)([(0,i.Cb)({type:[D],readOnly:!0})],r.prototype,"relationships",void 0),(0,e._)([(0,i.Cb)({type:Boolean})],r.prototype,"returnM",void 0),(0,e._)([(0,i.Cb)({type:Boolean})],r.prototype,"returnZ",void 0),(0,e._)([(0,i.Cb)({readOnly:!0,json:{write:!1}})],r.prototype,"serverGens",void 0),(0,e._)([(0,i.Cb)({readOnly:!0})],r.prototype,"serviceDefinitionExpression",void 0),(0,e._)([(0,d.r)("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],r.prototype,"readServiceDefinitionExpression",null),(0,e._)([(0,i.Cb)({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],r.prototype,"serviceItemId",void 0),(0,e._)([(0,i.Cb)()],r.prototype,"sourceJSON",void 0),(0,e._)([(0,i.Cb)({type:x.Z,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],r.prototype,"spatialReference",void 0),(0,e._)([(0,i.Cb)({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],r.prototype,"subtypeField",void 0),(0,e._)([(0,i.Cb)({type:[v],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],r.prototype,"subtypes",void 0),(0,e._)([(0,i.Cb)({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],r.prototype,"trackIdField",void 0),(0,e._)([(0,i.Cb)(C.HQ)],r.prototype,"url",null),(0,e._)([(0,X.c)("url")],r.prototype,"writeUrl",null),(0,e._)([(0,i.Cb)({json:{origins:{service:{read:!0}},read:!1}})],r.prototype,"version",void 0),(0,e._)([(0,d.r)("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],r.prototype,"readVersion",null),r=(0,e._)([(0,c.j)("esri.layers.mixins.FeatureLayerBase")],r),r}},67385:(re,K,n)=>{n.d(K,{JV:()=>X,Jp:()=>o,Px:()=>d,U8:()=>E});var e=n(15861);const E=(0,n(35948).dG)(),o=new Map,i=new Map;function d(P,O){return c.apply(this,arguments)}function c(){return(c=(0,e.Z)(function*(P,O,L=!1){if(!P||!O)return!0;const x=P.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),J=i.get(x)?.entries();if(J)for(const[C,f]of J)if(f.name===O){const F=!f.stack?.hasForwardEdits();if(!F&&L){const[{deleteForwardEdits:k},{default:H}]=yield Promise.all([n.e(7993).then(n.bind(n,87993)),n.e(3084).then(n.bind(n,73084))]);return k(x,C,new H({sessionId:E,moment:f.moment}))}return F}return!0})).apply(this,arguments)}function X(P,O){if(!P)return!1;const L=P.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),x=i.get(L)?.entries();if(x)for(const[J,C]of x)if(C.name===O)return"edit"===C.lockType;return!1}},20885:(re,K,n)=>{var e,_;n.d(K,{x:()=>e}),(_=e||(e={}))[_.SAVE=0]="SAVE",_[_.SAVE_AS=1]="SAVE_AS"}}]);