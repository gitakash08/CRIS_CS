"use strict";(self.webpackChunkCRIS=self.webpackChunkCRIS||[]).push([[8531],{11915:(tt,F,_)=>{_.d(F,{e:()=>B});var y,M,p=_(1719),w={exports:{}};y=w,void 0!==(M=function(){function C(t,e,r){r=r||2;var n,i,s,a,v,c,d,A=e&&e.length,m=A?e[0]*r:t.length,S=P(t,0,m,r,!0),h=[];if(!S||S.next===S.prev)return h;if(A&&(S=function G(t,e,r,n){var i,s,a,v=[];for(i=0,s=e.length;i<s;i++)(a=P(t,e[i]*n,i<s-1?e[i+1]*n:t.length,n,!1))===a.next&&(a.steiner=!0),v.push(j(a));for(v.sort(Y),i=0;i<v.length;i++)r=g(r=$(v[i],r),r.next);return r}(t,e,S,r)),t.length>80*r){n=s=t[0],i=a=t[1];for(var x=r;x<m;x+=r)(v=t[x])<n&&(n=v),(c=t[x+1])<i&&(i=c),v>s&&(s=v),c>a&&(a=c);d=0!==(d=Math.max(s-n,a-i))?1/d:0}return o(S,h,r,n,i,d),h}function P(t,e,r,n,i){var s,a;if(i===l(t,e,r,n)>0)for(s=e;s<r;s+=n)a=U(s,t[s],t[s+1],a);else for(s=r-n;s>=e;s-=n)a=U(s,t[s],t[s+1],a);if(a&&D(a,a.next)){var v=a.next;b(a),a=v}return a}function g(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!D(n,n.next)&&0!==f(n.prev,n,n.next))n=n.next;else{var i=n.prev;if(b(n),(n=e=i)===n.next)break;r=!0}}while(r||n!==e);return e}function o(t,e,r,n,i,s,a){if(t){!a&&s&&function Q(t,e,r,n){var i=t;do{null===i.z&&(i.z=X(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function et(t){var e,r,n,i,s,a,v,c,d=1;do{for(r=t,t=null,s=null,a=0;r;){for(a++,n=r,v=0,e=0;e<d&&(v++,n=n.nextZ);e++);for(c=d;v>0||c>0&&n;)0!==v&&(0===c||!n||r.z<=n.z)?(i=r,r=r.nextZ,v--):(i=n,n=n.nextZ,c--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,d*=2}while(a>1)}(i)}(t,n,i,s);for(var v,c,d=t;t.prev!==t.next;)if(v=t.prev,c=t.next,s?T(t,n,i,s):L(t))e.push(v.i/r),e.push(t.i/r),e.push(c.i/r),b(t),t=c.next,d=c.next;else if((t=c)===d){a?1===a?o(t=K(g(t),e,r),e,r,n,i,s,2):2===a&&H(t,e,r,n,i,s):o(g(t),e,r,n,i,s,1);break}}}function L(t){var e=t.prev,r=t,n=t.next;if(f(e,r,n)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(O(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&&f(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function T(t,e,r,n){var i=t.prev,s=t,a=t.next;if(f(i,s,a)>=0)return!1;for(var d=i.x>s.x?i.x>a.x?i.x:a.x:s.x>a.x?s.x:a.x,A=i.y>s.y?i.y>a.y?i.y:a.y:s.y>a.y?s.y:a.y,m=X(i.x<s.x?i.x<a.x?i.x:a.x:s.x<a.x?s.x:a.x,i.y<s.y?i.y<a.y?i.y:a.y:s.y<a.y?s.y:a.y,e,r,n),S=X(d,A,e,r,n),h=t.prevZ,x=t.nextZ;h&&h.z>=m&&x&&x.z<=S;){if(h!==t.prev&&h!==t.next&&O(i.x,i.y,s.x,s.y,a.x,a.y,h.x,h.y)&&f(h.prev,h,h.next)>=0||(h=h.prevZ,x!==t.prev&&x!==t.next&&O(i.x,i.y,s.x,s.y,a.x,a.y,x.x,x.y)&&f(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;h&&h.z>=m;){if(h!==t.prev&&h!==t.next&&O(i.x,i.y,s.x,s.y,a.x,a.y,h.x,h.y)&&f(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;x&&x.z<=S;){if(x!==t.prev&&x!==t.next&&O(i.x,i.y,s.x,s.y,a.x,a.y,x.x,x.y)&&f(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function K(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!D(i,s)&&V(i,n,n.next,s)&&E(i,s)&&E(s,i)&&(e.push(i.i/r),e.push(n.i/r),e.push(s.i/r),b(n),b(n.next),n=t=s),n=n.next}while(n!==t);return g(n)}function H(t,e,r,n,i,s){var a=t;do{for(var v=a.next.next;v!==a.prev;){if(a.i!==v.i&&rt(a,v)){var c=R(a,v);return a=g(a,a.next),c=g(c,c.next),o(a,e,r,n,i,s),void o(c,e,r,n,i,s)}v=v.next}a=a.next}while(a!==t)}function Y(t,e){return t.x-e.x}function N(t){if(t.next.prev===t)return t;let e=t;for(;;){const r=e.next;if(r.prev===e||r===e||r===t)break;e=r}return e}function $(t,e){var r=function q(t,e){var r,n=e,i=t.x,s=t.y,a=-1/0;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){var v=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(v<=i&&v>a){if(a=v,v===i){if(s===n.y)return n;if(s===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(i===a)return r;var c,d=r,A=r.x,m=r.y,S=1/0;n=r;do{i>=n.x&&n.x>=A&&i!==n.x&&O(s<m?i:a,s,A,m,s<m?a:i,s,n.x,n.y)&&(c=Math.abs(s-n.y)/(i-n.x),E(n,t)&&(c<S||c===S&&(n.x>r.x||n.x===r.x&&J(r,n)))&&(r=n,S=c)),n=n.next}while(n!==d);return r}(t,e);if(!r)return e;var n=R(r,t),i=g(r,r.next);let s=N(n);return g(s,s.next),i=N(i),N(e===r?i:e)}function J(t,e){return f(t.prev,t,e.prev)<0&&f(e.next,t,t.next)<0}function X(t,e,r,n,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function j(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function O(t,e,r,n,i,s,a,v){return(i-a)*(e-v)-(t-a)*(s-v)>=0&&(t-a)*(n-v)-(r-a)*(e-v)>=0&&(r-a)*(s-v)-(i-a)*(n-v)>=0}function rt(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function k(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&V(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&(E(t,e)&&E(e,t)&&function W(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do{r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}(t,e)&&(f(t.prev,t,e.prev)||f(t,e.prev,e))||D(t,e)&&f(t.prev,t,t.next)>0&&f(e.prev,e,e.next)>0)}function f(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function D(t,e){return t.x===e.x&&t.y===e.y}function V(t,e,r,n){var i=Z(f(t,e,r)),s=Z(f(t,e,n)),a=Z(f(r,n,t)),v=Z(f(r,n,e));return i!==s&&a!==v||!(0!==i||!z(t,r,e))||!(0!==s||!z(t,n,e))||!(0!==a||!z(r,t,n))||!(0!==v||!z(r,e,n))}function z(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Z(t){return t>0?1:t<0?-1:0}function E(t,e){return f(t.prev,t,t.next)<0?f(t,e,t.next)>=0&&f(t,t.prev,e)>=0:f(t,e,t.prev)<0||f(t,t.next,e)<0}function R(t,e){var r=new I(t.i,t.x,t.y),n=new I(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function U(t,e,r,n){var i=new I(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function b(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function I(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function l(t,e,r,n){for(var i=0,s=e,a=r-n;s<r;s+=n)i+=(t[a]-t[s])*(t[s+1]+t[a+1]),a=s;return i}return C.deviation=function(t,e,r,n){var i=e&&e.length,a=Math.abs(l(t,0,i?e[0]*r:t.length,r));if(i)for(var v=0,c=e.length;v<c;v++)a-=Math.abs(l(t,e[v]*r,v<c-1?e[v+1]*r:t.length,r));var m=0;for(v=0;v<n.length;v+=3){var S=n[v]*r,h=n[v+1]*r,x=n[v+2]*r;m+=Math.abs((t[S]-t[x])*(t[h+1]-t[S+1])-(t[S]-t[h])*(t[x+1]-t[S+1]))}return 0===a&&0===m?0:Math.abs((m-a)/a)},C.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var a=0;a<e;a++)r.vertices.push(t[i][s][a]);i>0&&r.holes.push(n+=t[i-1].length)}return r},C}())&&(y.exports=M);const B=(0,p.g)(w.exports)},43289:(tt,F,_)=>{_.d(F,{k3:()=>C,s5:()=>B}),Math;const y=256/360,u=1/Math.LN2;function B(o){return function M(o,L){return(o%=L)>=0?o:o+L}(o*y,256)}function C(o){return Math.log(o)*u}},61261:(tt,F,_)=>{var p,y,o;function u(o){switch(o){case"left":return p.Left;case"right":return p.Right;case"center":return p.Center}}function M(o){switch(o){case"top":return y.Top;case"middle":return y.Center;case"baseline":return y.Baseline;case"bottom":return y.Bottom}}function w(o){switch(o){case"above-left":case"esriServerPointLabelPlacementAboveLeft":return[p.Right,y.Bottom];case"above-center":case"above-along":case"esriServerPointLabelPlacementAboveCenter":case"esriServerLinePlacementAboveAlong":return[p.Center,y.Bottom];case"above-right":case"esriServerPointLabelPlacementAboveRight":return[p.Left,y.Bottom];case"center-left":case"esriServerPointLabelPlacementCenterLeft":return[p.Right,y.Center];case"center-center":case"center-along":case"esriServerPointLabelPlacementCenterCenter":case"esriServerLinePlacementCenterAlong":case"always-horizontal":case"esriServerPolygonPlacementAlwaysHorizontal":return[p.Center,y.Center];case"center-right":case"esriServerPointLabelPlacementCenterRight":return[p.Left,y.Center];case"below-left":case"esriServerPointLabelPlacementBelowLeft":return[p.Right,y.Top];case"below-center":case"below-along":case"esriServerPointLabelPlacementBelowCenter":case"esriServerLinePlacementBelowAlong":return[p.Center,y.Top];case"below-right":case"esriServerPointLabelPlacementBelowRight":return[p.Left,y.Top];default:return console.debug(`Found invalid placement type ${o}`),[p.Center,y.Center]}}function B(o){switch(o){case p.Right:return-1;case p.Center:return 0;case p.Left:return 1;default:return console.debug(`Found invalid horizontal alignment ${o}`),0}}function C(o){switch(o){case y.Top:return 1;case y.Center:return 0;case y.Bottom:case y.Baseline:return-1;default:return console.debug(`Found invalid vertical alignment ${o}`),0}}function P(o){switch(o){case"left":return p.Left;case"right":return p.Right;case"center":return p.Center}}function g(o){switch(o){case"above-along":case"below-along":case"center-along":case"esriServerLinePlacementAboveAlong":case"esriServerLinePlacementBelowAlong":case"esriServerLinePlacementCenterAlong":return!0;default:return!1}}_.d(F,{Hd:()=>P,M7:()=>p,NS:()=>g,TR:()=>y,b7:()=>M,g:()=>B,kH:()=>u,qv:()=>w,tf:()=>C}),(o=p||(p={}))[o.Left=-1]="Left",o[o.Center=0]="Center",o[o.Right=1]="Right",function(o){o[o.Top=1]="Top",o[o.Center=0]="Center",o[o.Bottom=-1]="Bottom",o[o.Baseline=2]="Baseline"}(y||(y={}))},18716:(tt,F,_)=>{_.d(F,{CA:()=>rt,Gq:()=>I,Xp:()=>O,a:()=>U,dk:()=>W,hF:()=>D,jj:()=>f,jy:()=>j,m2:()=>V,mE:()=>R,qr:()=>b});var p=_(26584),y=_(61261),u=_(39406);const et=Object.keys(u.mD).filter(l=>"number"==typeof u.mD[l]).reduce((l,t)=>({...l,[t]:u.mD[t]}),{});function j(l){return l===u.mD.OUTLINE_FILL||l===u.mD.OUTLINE_FILL_SIMPLE}function O(l){return function X(l){return l===u.mD.SIMPLE||l===u.mD.OUTLINE_FILL_SIMPLE}(l.symbologyType)}function rt(l){return j(l.symbologyType)}function f(l,t){switch(l){case u.LW.FILL:return W.from(t);case u.LW.LINE:return U.from(t);case u.LW.MARKER:return R.from(t);case u.LW.TEXT:return b.from(t);case u.LW.LABEL:return I.from(t);default:throw new Error(`Unable to createMaterialKey for unknown geometryType ${l}`)}}function D(l){switch(V.load(l).geometryType){case u.LW.MARKER:return new R(l);case u.LW.FILL:return new W(l);case u.LW.LINE:return new U(l);case u.LW.TEXT:return new b(l);case u.LW.LABEL:return new I(l)}}class V{static load(t){const e=this.shared;return e.data=t,e}constructor(t){this._data=0,this._data=t}set data(t){this._data=t??0}get data(){return this._data}get geometryType(){return this.bits(8,11)}set geometryType(t){this.setBits(t,8,11)}get mapAligned(){return!!this.bit(20)}set mapAligned(t){this.setBit(20,t)}get sdf(){return!!this.bit(11)}set sdf(t){this.setBit(11,t??!1)}get pattern(){return!!this.bit(12)}set pattern(t){this.setBit(12,t)}get textureBinding(){return this.bits(0,8)}set textureBinding(t){this.setBits(t,0,8)}get symbologyType(){return this.bits(21,26)}set symbologyType(t){this.setBits(t,21,26)}get geometryTypeString(){switch(this.geometryType){case u.LW.FILL:return"fill";case u.LW.MARKER:return"marker";case u.LW.LINE:return"line";case u.LW.TEXT:return"text";case u.LW.LABEL:return"label";default:throw new p.Z(`Unable to handle unknown geometryType: ${this.geometryType}`)}}setBit(t,e){const r=1<<t;e?this._data|=r:this._data&=~r}bit(t){return(this._data&1<<t)>>t}setBits(t,e,r){for(let n=e,i=0;n<r;n++,i++)this.setBit(n,0!=(t&1<<i))}bits(t,e){let r=0;for(let n=t,i=0;n<e;n++,i++)r|=this.bit(n)<<i;return r}hasVV(){return!1}setVV(t,e){}getVariation(){return{mapAligned:this.mapAligned,pattern:this.pattern,sdf:this.sdf,symbologyType:{value:u.mD[this.symbologyType],options:et,namespace:"SYMBOLOGY_TYPE"}}}getVariationHash(){return this._data&~(7&this.textureBinding)}}V.shared=new V(0);const z=l=>class extends l{get vvSizeMinMaxValue(){return 0!==this.bit(16)}set vvSizeMinMaxValue(t){this.setBit(16,t)}get vvSizeScaleStops(){return 0!==this.bit(17)}set vvSizeScaleStops(t){this.setBit(17,t)}get vvSizeFieldStops(){return 0!==this.bit(18)}set vvSizeFieldStops(t){this.setBit(18,t)}get vvSizeUnitValue(){return 0!==this.bit(19)}set vvSizeUnitValue(t){this.setBit(19,t)}hasSizeVV(){return this.vvSizeMinMaxValue||this.vvSizeScaleStops||this.vvSizeFieldStops||this.vvSizeUnitValue}hasVV(){return super.hasVV()||this.hasSizeVV()}setVV(t,e){super.setVV(t,e);const r=function M(l,t,e){const r=u.X.SIZE_FIELD_STOPS|u.X.SIZE_MINMAX_VALUE|u.X.SIZE_SCALE_STOPS|u.X.SIZE_UNIT_VALUE,n=(t&(u.mf.FIELD_TARGETS_OUTLINE|u.mf.MINMAX_TARGETS_OUTLINE|u.mf.SCALE_TARGETS_OUTLINE|u.mf.UNIT_TARGETS_OUTLINE))>>>4;return l===u.LW.LINE&&e.isOutline||l===u.LW.FILL&&j(e.symbologyType)?r&n:r&~n}(this.geometryType,t,e)&t;this.vvSizeMinMaxValue=!!(r&u.X.SIZE_MINMAX_VALUE),this.vvSizeFieldStops=!!(r&u.X.SIZE_FIELD_STOPS),this.vvSizeUnitValue=!!(r&u.X.SIZE_UNIT_VALUE),this.vvSizeScaleStops=!!(r&u.X.SIZE_SCALE_STOPS)}},Z=l=>class extends l{get vvRotation(){return 0!==this.bit(15)}set vvRotation(t){this.setBit(15,t)}hasVV(){return super.hasVV()||this.vvRotation}setVV(t,e){super.setVV(t,e),this.vvRotation=!e.isOutline&&!!(t&u.X.ROTATION)}},k=l=>class extends l{get vvColor(){return 0!==this.bit(13)}set vvColor(t){this.setBit(13,t)}hasVV(){return super.hasVV()||this.vvColor}setVV(t,e){super.setVV(t,e),this.vvColor=!e.isOutline&&!!(t&u.X.COLOR)}},E=l=>class extends l{get vvOpacity(){return 0!==this.bit(14)}set vvOpacity(t){this.setBit(14,t)}hasVV(){return super.hasVV()||this.vvOpacity}setVV(t,e){super.setVV(t,e),this.vvOpacity=!e.isOutline&&!!(t&u.X.OPACITY)}};class W extends(k(E(z(V)))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const{symbologyType:e,vvFlags:r}=t,n=this.load(0);return n.geometryType=u.LW.FILL,n.symbologyType=e,e!==u.mD.DOT_DENSITY&&n.setVV(r,t),n.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}W.shared=new W(0);class R extends(k(E(Z(z(V))))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const{symbologyType:e,vvFlags:r}=t,n=this.load(0);return n.geometryType=u.LW.MARKER,n.symbologyType=e,e!==u.mD.HEATMAP&&n.setVV(r,t),n.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvRotation:this.vvRotation,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}R.shared=new R(0);class U extends(k(E(z(V)))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=u.LW.LINE,e.symbologyType=t.symbologyType,e.setVV(t.vvFlags,t),e.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}U.shared=new U(0);class b extends(k(E(Z(z(V))))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=u.LW.TEXT,e.symbologyType=t.symbologyType,e.setVV(t.vvFlags,t),e.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvRotation:this.vvRotation,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}b.shared=new b(0);class I extends(z(V)){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=u.LW.LABEL,e.symbologyType=t.symbologyType,e.setVV(t.vvFlags,t),e.mapAligned=(0,y.NS)(t.placement),e.data}getVariation(){return{...super.getVariation(),vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}I.shared=new I(0)}}]);