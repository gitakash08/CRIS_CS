"use strict";(self.webpackChunkCRIS=self.webpackChunkCRIS||[]).push([[5879],{35879:(mn,C,x)=>{x.r(C),x.d(C,{registerFunctions:()=>$});var Z=x(15861),M=x(24263),D=x(37780),R=x(6729),c=x(25919),d=x(27187),u=x(47562),A=x(16309),L=x(85692),G=x(16730),N=x(2004),g=x(21674),f=x(87215),j=x(72854),z=x(72642),E=x(37118),O=x(55214),Q=x(91179),J=x(31099),Y=x(84792);function T(s,r,a){return W.apply(this,arguments)}function W(){return(W=(0,Z.Z)(function*(s,r,a){if(!M.id?.findCredential(s.restUrl))return null;if("loaded"===s.loadStatus&&""===r&&s.user?.sourceJSON&&!1===a)return s.user.sourceJSON;const h={responseType:"json",query:{f:"json"}};if(a&&(h.query.returnUserLicenseTypeExtensions=!0),""===r){const e=yield(0,Y.Z)(s.restUrl+"/community/self",h);if(e.data){const l=e.data;if(l?.username)return l}return null}const n=yield(0,Y.Z)(s.restUrl+"/community/users/"+r,h);if(n.data){const e=n.data;return e.error?null:e}return null})).apply(this,arguments)}function k(s){return 0===M.i8.indexOf("4.")?E.Z.fromExtent(s):new E.Z({spatialReference:s.spatialReference,rings:[[[s.xmin,s.ymin],[s.xmin,s.ymax],[s.xmax,s.ymax],[s.xmax,s.ymin],[s.xmin,s.ymin]]]})}function V(s,r,a){if((0,u.E)(s,2,2,r,a),!(s[0]instanceof g.Z&&s[1]instanceof g.Z||s[0]instanceof g.Z&&null===s[1]||s[1]instanceof g.Z&&null===s[0]||null===s[0]&&null===s[1]))throw new c.aV(r,c.rH.InvalidParameter,a)}function X(s,r){return b.apply(this,arguments)}function b(){return(b=(0,Z.Z)(function*(s,r){if("polygon"!==s.type&&"polyline"!==s.type&&"extent"!==s.type)return 0;let a=1;(s.spatialReference.vcsWkid||s.spatialReference.latestVcsWkid)&&(a=(0,L._R)(s.spatialReference)/(0,G.c9)(s.spatialReference));let p=0;if("polyline"===s.type)for(const n of s.paths)for(let e=1;e<n.length;e++)p+=(0,L.AW)(n[e],n[e-1],a);else if("polygon"===s.type)for(const n of s.rings){for(let e=1;e<n.length;e++)p+=(0,L.AW)(n[e],n[e-1],a);(n[0][0]!==n[n.length-1][0]||n[0][1]!==n[n.length-1][1]||void 0!==n[0][2]&&n[0][2]!==n[n.length-1][2])&&(p+=(0,L.AW)(n[0],n[n.length-1],a))}else"extent"===s.type&&(p+=2*(0,L.AW)([s.xmin,s.ymin,0],[s.xmax,s.ymin,0],a),p+=2*(0,L.AW)([s.xmin,s.ymin,0],[s.xmin,s.ymax,0],a),p*=2,p+=4*Math.abs((0,u.H)(s.zmax,0)*a-(0,u.H)(s.zmin,0)*a));const h=new O.Z({hasZ:!1,hasM:!1,spatialReference:s.spatialReference,paths:[[0,0],[0,p]]});return(0,f.sz)(h,r)})).apply(this,arguments)}function $(s){"async"===s.mode&&(s.functions.disjoint=function(r,a){return s.standardFunctionAsync(r,a,(p,h,n)=>(V(n=(0,u.F)(n),r,a),null===n[0]||null===n[1]||(0,f.ED)(n[0],n[1])))},s.functions.intersects=function(r,a){return s.standardFunctionAsync(r,a,(p,h,n)=>(V(n=(0,u.F)(n),r,a),null!==n[0]&&null!==n[1]&&(0,f.kK)(n[0],n[1])))},s.functions.touches=function(r,a){return s.standardFunctionAsync(r,a,(p,h,n)=>(V(n=(0,u.F)(n),r,a),null!==n[0]&&null!==n[1]&&(0,f.W4)(n[0],n[1])))},s.functions.crosses=function(r,a){return s.standardFunctionAsync(r,a,(p,h,n)=>(V(n=(0,u.F)(n),r,a),null!==n[0]&&null!==n[1]&&(0,f.jU)(n[0],n[1])))},s.functions.within=function(r,a){return s.standardFunctionAsync(r,a,(p,h,n)=>(V(n=(0,u.F)(n),r,a),null!==n[0]&&null!==n[1]&&(0,f.uh)(n[0],n[1])))},s.functions.contains=function(r,a){return s.standardFunctionAsync(r,a,(p,h,n)=>(V(n=(0,u.F)(n),r,a),null!==n[0]&&null!==n[1]&&(0,f.r3)(n[0],n[1])))},s.functions.overlaps=function(r,a){return s.standardFunctionAsync(r,a,(p,h,n)=>(V(n=(0,u.F)(n),r,a),null!==n[0]&&null!==n[1]&&(0,f.Nm)(n[0],n[1])))},s.functions.equals=function(r,a){return s.standardFunctionAsync(r,a,(p,h,n)=>((0,u.E)(n,2,2,r,a),n[0]===n[1]||(n[0]instanceof g.Z&&n[1]instanceof g.Z?(0,f.fS)(n[0],n[1]):((0,u.k)(n[0])&&(0,u.k)(n[1])||!!((0,u.n)(n[0])&&(0,u.n)(n[1])||(0,u.m)(n[0])&&(0,u.m)(n[1])))&&n[0].equals(n[1]))))},s.functions.relate=function(r,a){return s.standardFunctionAsync(r,a,(p,h,n)=>{if(n=(0,u.F)(n),(0,u.E)(n,3,3,r,a),n[0]instanceof g.Z&&n[1]instanceof g.Z)return(0,f.LV)(n[0],n[1],(0,u.j)(n[2]));if(n[0]instanceof g.Z&&null===n[1]||n[1]instanceof g.Z&&null===n[0]||null===n[0]&&null===n[1])return!1;throw new c.aV(r,c.rH.InvalidParameter,a)})},s.functions.intersection=function(r,a){return s.standardFunctionAsync(r,a,(p,h,n)=>(V(n=(0,u.F)(n),r,a),null===n[0]||null===n[1]?null:(0,f.wf)(n[0],n[1])))},s.functions.union=function(r,a){return s.standardFunctionAsync(r,a,(p,h,n)=>{const e=[];if(0===(n=(0,u.F)(n)).length)throw new c.aV(r,c.rH.WrongNumberOfParameters,a);if(1===n.length)if((0,u.o)(n[0])){const l=(0,u.F)(n[0]);for(let m=0;m<l.length;m++)if(null!==l[m]){if(!(l[m]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);e.push(l[m])}}else{if(!(0,u.q)(n[0])){if(n[0]instanceof g.Z)return(0,u.A)((0,d.r1)(n[0]),r.spatialReference);if(null===n[0])return null;throw new c.aV(r,c.rH.InvalidParameter,a)}{const l=(0,u.F)(n[0].toArray());for(let m=0;m<l.length;m++)if(null!==l[m]){if(!(l[m]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);e.push(l[m])}}}else for(let l=0;l<n.length;l++)if(null!==n[l]){if(!(n[l]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);e.push(n[l])}return 0===e.length?null:(0,f.G0)(e)})},s.functions.difference=function(r,a){return s.standardFunctionAsync(r,a,(p,h,n)=>(V(n=(0,u.F)(n),r,a),null!==n[0]&&null===n[1]?(0,d.r1)(n[0]):null===n[0]?null:(0,f.e5)(n[0],n[1])))},s.functions.symmetricdifference=function(r,a){return s.standardFunctionAsync(r,a,(p,h,n)=>(V(n=(0,u.F)(n),r,a),null===n[0]&&null===n[1]?null:null===n[0]?(0,d.r1)(n[1]):null===n[1]?(0,d.r1)(n[0]):(0,f.Sp)(n[0],n[1])))},s.functions.clip=function(r,a){return s.standardFunctionAsync(r,a,(p,h,n)=>{if(n=(0,u.F)(n),(0,u.E)(n,2,2,r,a),!(n[1]instanceof N.Z)&&null!==n[1])throw new c.aV(r,c.rH.InvalidParameter,a);if(null===n[0])return null;if(!(n[0]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);return null===n[1]?null:(0,f.oq)(n[0],n[1])})},s.functions.cut=function(r,a){return s.standardFunctionAsync(r,a,(p,h,n)=>{if(n=(0,u.F)(n),(0,u.E)(n,2,2,r,a),!(n[1]instanceof O.Z)&&null!==n[1])throw new c.aV(r,c.rH.InvalidParameter,a);if(null===n[0])return[];if(!(n[0]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);return null===n[1]?[(0,d.r1)(n[0])]:(0,f.z7)(n[0],n[1])})},s.functions.area=function(r,a){return s.standardFunctionAsync(r,a,function(){var p=(0,Z.Z)(function*(h,n,e){if((0,u.E)(e,1,2,r,a),null===(e=(0,u.F)(e))[0])return 0;if((0,u.u)(e[0])){const l=yield e[0].sumArea((0,d.EI)((0,u.H)(e[1],-1)),!1,r.abortSignal);if(r.abortSignal.aborted)throw new c.aV(r,c.rH.Cancelled,a);return l}if((0,u.o)(e[0])||(0,u.q)(e[0])){const l=(0,u.G)(e[0],r.spatialReference);return null===l?0:(0,f.CJ)(l,(0,d.EI)((0,u.H)(e[1],-1)))}if(!(e[0]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);return(0,f.CJ)(e[0],(0,d.EI)((0,u.H)(e[1],-1)))});return function(h,n,e){return p.apply(this,arguments)}}())},s.functions.areageodetic=function(r,a){return s.standardFunctionAsync(r,a,function(){var p=(0,Z.Z)(function*(h,n,e){if((0,u.E)(e,1,2,r,a),null===(e=(0,u.F)(e))[0])return 0;if((0,u.u)(e[0])){const l=yield e[0].sumArea((0,d.EI)((0,u.H)(e[1],-1)),!0,r.abortSignal);if(r.abortSignal.aborted)throw new c.aV(r,c.rH.Cancelled,a);return l}if((0,u.o)(e[0])||(0,u.q)(e[0])){const l=(0,u.G)(e[0],r.spatialReference);return null===l?0:(0,f.Y4)(l,(0,d.EI)((0,u.H)(e[1],-1)))}if(!(e[0]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);return(0,f.Y4)(e[0],(0,d.EI)((0,u.H)(e[1],-1)))});return function(h,n,e){return p.apply(this,arguments)}}())},s.functions.length=function(r,a){return s.standardFunctionAsync(r,a,function(){var p=(0,Z.Z)(function*(h,n,e){if((0,u.E)(e,1,2,r,a),null===(e=(0,u.F)(e))[0])return 0;if((0,u.u)(e[0])){const l=yield e[0].sumLength((0,d.Lz)((0,u.H)(e[1],-1)),!1,r.abortSignal);if(r.abortSignal.aborted)throw new c.aV(r,c.rH.Cancelled,a);return l}if((0,u.o)(e[0])||(0,u.q)(e[0])){const l=(0,u.J)(e[0],r.spatialReference);return null===l?0:(0,f.sz)(l,(0,d.Lz)((0,u.H)(e[1],-1)))}if(!(e[0]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);return(0,f.sz)(e[0],(0,d.Lz)((0,u.H)(e[1],-1)))});return function(h,n,e){return p.apply(this,arguments)}}())},s.functions.length3d=function(r,a){return s.standardFunctionAsync(r,a,(p,h,n)=>{if((0,u.E)(n,1,2,r,a),null===(n=(0,u.F)(n))[0])return 0;if((0,u.o)(n[0])||(0,u.q)(n[0])){const e=(0,u.J)(n[0],r.spatialReference);return null===e?0:!0===e.hasZ?X(e,(0,d.Lz)((0,u.H)(n[1],-1))):(0,f.sz)(e,(0,d.Lz)((0,u.H)(n[1],-1)))}if(!(n[0]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);return!0===n[0].hasZ?X(n[0],(0,d.Lz)((0,u.H)(n[1],-1))):(0,f.sz)(n[0],(0,d.Lz)((0,u.H)(n[1],-1)))})},s.functions.lengthgeodetic=function(r,a){return s.standardFunctionAsync(r,a,function(){var p=(0,Z.Z)(function*(h,n,e){if((0,u.E)(e,1,2,r,a),null===(e=(0,u.F)(e))[0])return 0;if((0,u.u)(e[0])){const l=yield e[0].sumLength((0,d.Lz)((0,u.H)(e[1],-1)),!0,r.abortSignal);if(r.abortSignal.aborted)throw new c.aV(r,c.rH.Cancelled,a);return l}if((0,u.o)(e[0])||(0,u.q)(e[0])){const l=(0,u.J)(e[0],r.spatialReference);return null===l?0:(0,f.kQ)(l,(0,d.Lz)((0,u.H)(e[1],-1)))}if(!(e[0]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);return(0,f.kQ)(e[0],(0,d.Lz)((0,u.H)(e[1],-1)))});return function(h,n,e){return p.apply(this,arguments)}}())},s.functions.distance=function(r,a){return s.standardFunctionAsync(r,a,(p,h,n)=>{n=(0,u.F)(n),(0,u.E)(n,2,3,r,a);let e=n[0];((0,u.o)(n[0])||(0,u.q)(n[0]))&&(e=(0,u.K)(n[0],r.spatialReference));let l=n[1];if(((0,u.o)(n[1])||(0,u.q)(n[1]))&&(l=(0,u.K)(n[1],r.spatialReference)),!(e instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);if(!(l instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);return(0,f.TE)(e,l,(0,d.Lz)((0,u.H)(n[2],-1)))})},s.functions.distancegeodetic=function(r,a){return s.standardFunctionAsync(r,a,(p,h,n)=>{n=(0,u.F)(n),(0,u.E)(n,2,3,r,a);const e=n[0],l=n[1];if(!(e instanceof z.Z))throw new c.aV(r,c.rH.InvalidParameter,a);if(!(l instanceof z.Z))throw new c.aV(r,c.rH.InvalidParameter,a);const m=new O.Z({paths:[],spatialReference:e.spatialReference});return m.addPath([e,l]),(0,f.kQ)(m,(0,d.Lz)((0,u.H)(n[2],-1)))})},s.functions.densify=function(r,a){return s.standardFunctionAsync(r,a,(p,h,n)=>{if(n=(0,u.F)(n),(0,u.E)(n,2,3,r,a),null===n[0])return null;if(!(n[0]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);const e=(0,u.g)(n[1]);if(isNaN(e))throw new c.aV(r,c.rH.InvalidParameter,a);if(e<=0)throw new c.aV(r,c.rH.InvalidParameter,a);return n[0]instanceof E.Z||n[0]instanceof O.Z?(0,f.Cz)(n[0],e,(0,d.Lz)((0,u.H)(n[2],-1))):n[0]instanceof N.Z?(0,f.Cz)(k(n[0]),e,(0,d.Lz)((0,u.H)(n[2],-1))):n[0]})},s.functions.densifygeodetic=function(r,a){return s.standardFunctionAsync(r,a,(p,h,n)=>{if(n=(0,u.F)(n),(0,u.E)(n,2,3,r,a),null===n[0])return null;if(!(n[0]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);const e=(0,u.g)(n[1]);if(isNaN(e))throw new c.aV(r,c.rH.InvalidParameter,a);if(e<=0)throw new c.aV(r,c.rH.InvalidParameter,a);return n[0]instanceof E.Z||n[0]instanceof O.Z?(0,f.j2)(n[0],e,(0,d.Lz)((0,u.H)(n[2],-1))):n[0]instanceof N.Z?(0,f.j2)(k(n[0]),e,(0,d.Lz)((0,u.H)(n[2],-1))):n[0]})},s.functions.generalize=function(r,a){return s.standardFunctionAsync(r,a,(p,h,n)=>{if(n=(0,u.F)(n),(0,u.E)(n,2,4,r,a),null===n[0])return null;if(!(n[0]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);const e=(0,u.g)(n[1]);if(isNaN(e))throw new c.aV(r,c.rH.InvalidParameter,a);return(0,f.D$)(n[0],e,(0,u.h)((0,u.H)(n[2],!0)),(0,d.Lz)((0,u.H)(n[3],-1)))})},s.functions.buffer=function(r,a){return s.standardFunctionAsync(r,a,(p,h,n)=>{if(n=(0,u.F)(n),(0,u.E)(n,2,3,r,a),null===n[0])return null;if(!(n[0]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);const e=(0,u.g)(n[1]);if(isNaN(e))throw new c.aV(r,c.rH.InvalidParameter,a);return 0===e?(0,d.r1)(n[0]):(0,f.f3)(n[0],e,(0,d.Lz)((0,u.H)(n[2],-1)))})},s.functions.buffergeodetic=function(r,a){return s.standardFunctionAsync(r,a,(p,h,n)=>{if(n=(0,u.F)(n),(0,u.E)(n,2,3,r,a),null===n[0])return null;if(!(n[0]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);const e=(0,u.g)(n[1]);if(isNaN(e))throw new c.aV(r,c.rH.InvalidParameter,a);return 0===e?(0,d.r1)(n[0]):(0,f.rd)(n[0],e,(0,d.Lz)((0,u.H)(n[2],-1)))})},s.functions.offset=function(r,a){return s.standardFunctionAsync(r,a,(p,h,n)=>{if(n=(0,u.F)(n),(0,u.E)(n,2,6,r,a),null===n[0])return null;if(!(n[0]instanceof E.Z||n[0]instanceof O.Z))throw new c.aV(r,c.rH.InvalidParameter,a);const e=(0,u.g)(n[1]);if(isNaN(e))throw new c.aV(r,c.rH.InvalidParameter,a);const l=(0,u.g)((0,u.H)(n[4],10));if(isNaN(l))throw new c.aV(r,c.rH.InvalidParameter,a);const m=(0,u.g)((0,u.H)(n[5],0));if(isNaN(m))throw new c.aV(r,c.rH.InvalidParameter,a);return(0,f.cv)(n[0],e,(0,d.Lz)((0,u.H)(n[2],-1)),(0,u.j)((0,u.H)(n[3],"round")).toLowerCase(),l,m)})},s.functions.rotate=function(r,a){return s.standardFunctionAsync(r,a,(p,h,n)=>{n=(0,u.F)(n),(0,u.E)(n,2,3,r,a);let e=n[0];if(null===e)return null;if(!(e instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);e instanceof N.Z&&(e=E.Z.fromExtent(e));const l=(0,u.g)(n[1]);if(isNaN(l))throw new c.aV(r,c.rH.InvalidParameter,a);const m=(0,u.H)(n[2],null);if(null===m)return(0,f.U1)(e,l);if(m instanceof z.Z)return(0,f.U1)(e,l,m);throw new c.aV(r,c.rH.InvalidParameter,a)})},s.functions.centroid=function(r,a){return s.standardFunctionAsync(r,a,(p,h,n)=>{if(n=(0,u.F)(n),(0,u.E)(n,1,1,r,a),null===n[0])return null;let e=n[0];if(((0,u.o)(n[0])||(0,u.q)(n[0]))&&(e=(0,u.K)(n[0],r.spatialReference)),null===e)return null;if(!(e instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);return e instanceof z.Z?(0,u.A)((0,d.r1)(n[0]),r.spatialReference):e instanceof E.Z?e.centroid:e instanceof O.Z?(0,L.s9)(e):e instanceof j.Z?(0,L.Ay)(e):e instanceof N.Z?e.center:null})},s.functions.multiparttosinglepart=function(r,a){return s.standardFunctionAsync(r,a,function(){var p=(0,Z.Z)(function*(h,n,e){e=(0,u.F)(e),(0,u.E)(e,1,1,r,a);const l=[];if(null===e[0])return null;if(!(e[0]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);if(e[0]instanceof z.Z)return[(0,u.A)((0,d.r1)(e[0]),r.spatialReference)];if(e[0]instanceof N.Z)return[(0,u.A)((0,d.r1)(e[0]),r.spatialReference)];const m=yield(0,f.og)(e[0]);if(m instanceof E.Z){const H=[],v=[];for(let _=0;_<m.rings.length;_++)if(m.isClockwise(m.rings[_])){const F=(0,Q.im)({rings:[m.rings[_]],hasZ:!0===m.hasZ,hazM:!0===m.hasM,spatialReference:m.spatialReference.toJSON()});H.push(F)}else v.push({ring:m.rings[_],pt:m.getPoint(_,0)});for(let _=0;_<v.length;_++)for(let F=0;F<H.length;F++)if(H[F].contains(v[_].pt)){H[F].addRing(v[_].ring);break}return H}if(m instanceof O.Z){const H=[];for(let v=0;v<m.paths.length;v++){const _=(0,Q.im)({paths:[m.paths[v]],hasZ:!0===m.hasZ,hazM:!0===m.hasM,spatialReference:m.spatialReference.toJSON()});H.push(_)}return H}if(e[0]instanceof j.Z){const H=(0,u.A)((0,d.r1)(e[0]),r.spatialReference);for(let v=0;v<H.points.length;v++)l.push(H.getPoint(v));return l}return null});return function(h,n,e){return p.apply(this,arguments)}}())},s.functions.issimple=function(r,a){return s.standardFunctionAsync(r,a,(p,h,n)=>{if(n=(0,u.F)(n),(0,u.E)(n,1,1,r,a),null===n[0])return!0;if(!(n[0]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);return(0,f.Gg)(n[0])})},s.functions.simplify=function(r,a){return s.standardFunctionAsync(r,a,(p,h,n)=>{if(n=(0,u.F)(n),(0,u.E)(n,1,1,r,a),null===n[0])return null;if(!(n[0]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);return(0,f.og)(n[0])})},s.functions.convexhull=function(r,a){return s.standardFunctionAsync(r,a,(p,h,n)=>{if(n=(0,u.F)(n),(0,u.E)(n,1,1,r,a),null===n[0])return null;if(!(n[0]instanceof g.Z))throw new c.aV(r,c.rH.InvalidParameter,a);return(0,f.JI)(n[0])})},s.functions.getuser=function(r,a){return s.standardFunctionAsync(r,a,function(){var p=(0,Z.Z)(function*(h,n,e){(0,u.E)(e,0,2,r,a);let l=(0,u.H)(e[1],""),m=!0===l;if(l=!0===l||!1===l?"":(0,u.j)(l),0===e.length||e[0]instanceof D.Z){let v=null;v=r.services?.portal?r.services.portal:J.Z.getDefault(),e.length>0&&(v=(0,A._)(e[0],v));const _=yield T(v,l,m);if(_){const F=JSON.parse(JSON.stringify(_));for(const P of["lastLogin","created","modified"])null!=F[P]&&(F[P]=new Date(F[P]));return R.Z.convertObjectToArcadeDictionary(F,(0,u.L)(r))}return null}let H=null;if((0,u.u)(e[0])&&(H=e[0]),H){if(m=!1,l)return null;yield H.load();const v=yield H.getOwningSystemUrl();if(!v){if(!l){const P=yield H.getIdentityUser();return P?R.Z.convertObjectToArcadeDictionary({username:P},(0,u.L)(r)):null}return null}let _=null;_=r.services?.portal?r.services.portal:J.Z.getDefault(),_=(0,A._)(new D.Z(v),_);const F=yield T(_,l,m);if(F){const P=JSON.parse(JSON.stringify(F));for(const S of["lastLogin","created","modified"])null!=P[S]&&(P[S]=new Date(P[S]));return R.Z.convertObjectToArcadeDictionary(P,(0,u.L)(r))}return null}throw new c.aV(r,c.rH.InvalidParameter,a)});return function(h,n,e){return p.apply(this,arguments)}}())}),s.functions.nearestcoordinate=function(r,a){return s.standardFunctionAsync(r,a,function(){var p=(0,Z.Z)(function*(h,n,e){if(e=(0,u.F)(e),(0,u.E)(e,2,2,r,a),!(e[0]instanceof g.Z||null===e[0]))throw new c.aV(r,c.rH.InvalidParameter,a);if(!(e[1]instanceof z.Z||null===e[1]))throw new c.aV(r,c.rH.InvalidParameter,a);if(null===e[0]||null===e[1])return null;const l=yield(0,f.FH)(e[0],e[1]);return null===l?null:R.Z.convertObjectToArcadeDictionary({coordinate:l.coordinate,distance:l.distance},(0,u.L)(r),!1,!0)});return function(h,n,e){return p.apply(this,arguments)}}())},s.functions.nearestvertex=function(r,a){return s.standardFunctionAsync(r,a,function(){var p=(0,Z.Z)(function*(h,n,e){if(e=(0,u.F)(e),(0,u.E)(e,2,2,r,a),!(e[0]instanceof g.Z||null===e[0]))throw new c.aV(r,c.rH.InvalidParameter,a);if(!(e[1]instanceof z.Z||null===e[1]))throw new c.aV(r,c.rH.InvalidParameter,a);if(null===e[0]||null===e[1])return null;const l=yield(0,f._L)(e[0],e[1]);return null===l?null:R.Z.convertObjectToArcadeDictionary({coordinate:l.coordinate,distance:l.distance},(0,u.L)(r),!1,!0)});return function(h,n,e){return p.apply(this,arguments)}}())}}},16309:(mn,C,x)=>{x.d(C,{_:()=>M});var Z=x(31099);function M(D,R){return null===D?R:new Z.Z({url:D.field("url")})}},87215:(mn,C,x)=>{x.d(C,{CJ:()=>In,Cz:()=>An,D$:()=>Fn,ED:()=>$,FH:()=>vn,G0:()=>P,Gg:()=>a,JI:()=>n,LV:()=>r,Nm:()=>s,Sp:()=>H,TE:()=>K,U1:()=>Hn,W4:()=>X,Y4:()=>Vn,_L:()=>_n,cv:()=>xn,e5:()=>l,f3:()=>Zn,fS:()=>k,j2:()=>Pn,jU:()=>gn,kK:()=>V,kQ:()=>Rn,og:()=>p,oq:()=>Q,r3:()=>W,rd:()=>wn,sz:()=>En,uh:()=>b,wf:()=>_,z7:()=>Y});var Z=x(15861),D=(x(29132),x(97347)),R=x(72642),c=x(91179);function d(i){return Array.isArray(i)?i[0]?.spatialReference:i?.spatialReference}function u(i){return i&&(Array.isArray(i)?i.map(u):i.toJSON?i.toJSON():i)}function A(i){return Array.isArray(i)?i.map(o=>(0,c.im)(o)):(0,c.im)(i)}let G;function N(){return g.apply(this,arguments)}function g(){return(g=(0,Z.Z)(function*(){return G||(G=(0,D.bA)("geometryEngineWorker",{strategy:"distributed"})),G})).apply(this,arguments)}function f(i,o){return j.apply(this,arguments)}function j(){return(j=(0,Z.Z)(function*(i,o){return(yield N()).invoke("executeGEOperation",{operation:i,parameters:u(o)})})).apply(this,arguments)}function Q(i,o){return J.apply(this,arguments)}function J(){return(J=(0,Z.Z)(function*(i,o){return A(yield f("clip",[d(i),i,o]))})).apply(this,arguments)}function Y(i,o){return T.apply(this,arguments)}function T(){return(T=(0,Z.Z)(function*(i,o){return A(yield f("cut",[d(i),i,o]))})).apply(this,arguments)}function W(i,o){return f("contains",[d(i),i,o])}function gn(i,o){return f("crosses",[d(i),i,o])}function K(i,o,y){return f("distance",[d(i),i,o,y])}function k(i,o){return f("equals",[d(i),i,o])}function V(i,o){return f("intersects",[d(i),i,o])}function X(i,o){return f("touches",[d(i),i,o])}function b(i,o){return f("within",[d(i),i,o])}function $(i,o){return f("disjoint",[d(i),i,o])}function s(i,o){return f("overlaps",[d(i),i,o])}function r(i,o,y){return f("relate",[d(i),i,o,y])}function a(i){return f("isSimple",[d(i),i])}function p(i){return h.apply(this,arguments)}function h(){return(h=(0,Z.Z)(function*(i){return A(yield f("simplify",[d(i),i]))})).apply(this,arguments)}function n(i){return e.apply(this,arguments)}function e(){return(e=(0,Z.Z)(function*(i,o=!1){return A(yield f("convexHull",[d(i),i,o]))})).apply(this,arguments)}function l(i,o){return m.apply(this,arguments)}function m(){return(m=(0,Z.Z)(function*(i,o){return A(yield f("difference",[d(i),i,o]))})).apply(this,arguments)}function H(i,o){return v.apply(this,arguments)}function v(){return(v=(0,Z.Z)(function*(i,o){return A(yield f("symmetricDifference",[d(i),i,o]))})).apply(this,arguments)}function _(i,o){return F.apply(this,arguments)}function F(){return(F=(0,Z.Z)(function*(i,o){return A(yield f("intersect",[d(i),i,o]))})).apply(this,arguments)}function P(i){return S.apply(this,arguments)}function S(){return(S=(0,Z.Z)(function*(i,o=null){const y=function L(i,o){let y;return Array.isArray(i)?y=i:(y=[],y.push(i),null!=o&&y.push(o)),y}(i,o);return A(yield f("union",[d(y),y]))})).apply(this,arguments)}function xn(i,o,y,w,I,B){return q.apply(this,arguments)}function q(){return(q=(0,Z.Z)(function*(i,o,y,w,I,B){return A(yield f("offset",[d(i),i,o,y,w,I,B]))})).apply(this,arguments)}function Zn(i,o,y){return nn.apply(this,arguments)}function nn(){return(nn=(0,Z.Z)(function*(i,o,y,w=!1){const I=[d(i),i,o,y,w];return A(yield f("buffer",I))})).apply(this,arguments)}function wn(i,o,y,w,I,B){return rn.apply(this,arguments)}function rn(){return(rn=(0,Z.Z)(function*(i,o,y,w,I,B){const Ln=[d(i),i,o,y,w,I,B];return A(yield f("geodesicBuffer",Ln))})).apply(this,arguments)}function vn(i,o){return tn.apply(this,arguments)}function tn(){return(tn=(0,Z.Z)(function*(i,o,y=!0){const w=yield f("nearestCoordinate",[d(i),i,o,y]);return{...w,coordinate:R.Z.fromJSON(w.coordinate)}})).apply(this,arguments)}function _n(i,o){return en.apply(this,arguments)}function en(){return(en=(0,Z.Z)(function*(i,o){const y=yield f("nearestVertex",[d(i),i,o]);return{...y,coordinate:R.Z.fromJSON(y.coordinate)}})).apply(this,arguments)}function Hn(i,o,y){return sn.apply(this,arguments)}function sn(){return(sn=(0,Z.Z)(function*(i,o,y){if(null==i)throw new U;const w=i.spatialReference;if(null==(y=y??function un(i){return"xmin"in i?i.center:"x"in i?i:i.extent?.center}(i)))throw new U;const I=i.constructor.fromJSON(yield f("rotate",[w,i,o,y]));return I.spatialReference=w,I})).apply(this,arguments)}function Fn(i,o,y,w){return fn.apply(this,arguments)}function fn(){return(fn=(0,Z.Z)(function*(i,o,y,w){return A(yield f("generalize",[d(i),i,o,y,w]))})).apply(this,arguments)}function An(i,o,y){return ln.apply(this,arguments)}function ln(){return(ln=(0,Z.Z)(function*(i,o,y){return A(yield f("densify",[d(i),i,o,y]))})).apply(this,arguments)}function Pn(i,o,y){return dn.apply(this,arguments)}function dn(){return(dn=(0,Z.Z)(function*(i,o,y,w=0){return A(yield f("geodesicDensify",[d(i),i,o,y,w]))})).apply(this,arguments)}function In(i,o){return f("planarArea",[d(i),i,o])}function En(i,o){return f("planarLength",[d(i),i,o])}function Vn(i,o,y){return f("geodesicArea",[d(i),i,o,y])}function Rn(i,o,y){return f("geodesicLength",[d(i),i,o,y])}class U extends Error{constructor(){super("Illegal Argument Exception")}}}}]);