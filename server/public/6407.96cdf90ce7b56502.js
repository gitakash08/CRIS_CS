"use strict";(self.webpackChunkCRIS=self.webpackChunkCRIS||[]).push([[6407],{52884:(j,T,e)=>{e.d(T,{AM:()=>i});var r=e(17626),I=e(83761),d=e(8314),E=e(58817),c=e(63290),l=e(77712),n=(e(90912),e(76898)),C=e(29538),P=e(53390);const v=-1;let i=class extends I.Z{constructor(s){super(s),this._from=null,this._to=null,this._final=null,this._current=[],this._time=0,this.duration=(0,d.Z)("mapview-transitions-duration"),this.effects=[]}set effect(s){if(this._get("effect")!==(s=s||"")){this._set("effect",s);try{this._transitionTo(_(s))}catch(o){this._transitionTo([]),c.Z.getLogger(this).warn("Invalid Effect",{effect:s,error:o})}}}get hasEffects(){return this.transitioning||!!this.effects.length}set scale(s){this._updateForScale(s)}get transitioning(){return null!==this._to}canTransitionTo(s){try{return this.scale>0&&a(this._current,_(s),this.scale)}catch{return!1}}transitionStep(s,o){this._applyTimeTransition(s),this._updateForScale(o)}endTransitions(){this._applyTimeTransition(this.duration)}_transitionTo(s){this.scale>0&&a(this._current,s,this.scale)?(this._final=s,this._to=(0,E.d9)(s),function S(s,o,y){const p=s.length>o.length?s:o,h=s.length>o.length?o:s,A=h[h.length-1],f=A?.scale??y,g=A?.effects??[];for(let u=h.length;u<p.length;u++)h.push({scale:f,effects:[...g]});for(let u=0;u<p.length;u++)h[u].scale=h[u].scale===v?y:h[u].scale,p[u].scale=p[u].scale===v?y:p[u].scale,(0,P.uF)(h[u].effects,p[u].effects)}(this._current,this._to,this.scale),this._from=(0,E.d9)(this._current),this._time=0):(this._from=this._to=this._final=null,this._current=s),this._set("effects",this._current[0]?(0,E.d9)(this._current[0].effects):[])}_applyTimeTransition(s){if(!(this._to&&this._from&&this._current&&this._final))return;this._time+=s;const o=Math.min(1,this._time/this.duration);for(let y=0;y<this._current.length;y++){const p=this._current[y],h=this._from[y],A=this._to[y];p.scale=m(h.scale,A.scale,o);for(let f=0;f<p.effects.length;f++)p.effects[f].interpolate(h.effects[f],A.effects[f],o)}1===o&&(this._current=this._final,this._set("effects",this._current[0]?(0,E.d9)(this._current[0].effects):[]),this._from=this._to=this._final=null)}_updateForScale(s){if(this._set("scale",s),0===this._current.length)return;const o=this._current,y=this._current.length-1;let p,h,A=1;if(1===o.length||s>=o[0].scale)h=p=o[0].effects;else if(s<=o[y].scale)h=p=o[y].effects;else for(let f=0;f<y;f++){const g=o[f],u=o[f+1];if(g.scale>=s&&u.scale<=s){A=(s-g.scale)/(u.scale-g.scale),p=g.effects,h=u.effects;break}}for(let f=0;f<this.effects.length;f++)this.effects[f].interpolate(p[f],h[f],A)}};function _(s){const o=(0,C.Q)(s)||[];return function M(s){const o=s[0];return!!o&&"type"in o}(o)?[{scale:v,effects:o}]:o}function a(s,o,y){return!s[0]?.effects||!o[0]?.effects||!((s[0]?.scale===v||o[0]?.scale===v)&&(s.length>1||o.length>1)&&y<=0)&&(0,P.AS)(s[0].effects,o[0].effects)}function m(s,o,y){return s+(o-s)*y}(0,r._)([(0,l.Cb)()],i.prototype,"_to",void 0),(0,r._)([(0,l.Cb)()],i.prototype,"duration",void 0),(0,r._)([(0,l.Cb)({value:""})],i.prototype,"effect",null),(0,r._)([(0,l.Cb)({readOnly:!0})],i.prototype,"effects",void 0),(0,r._)([(0,l.Cb)({readOnly:!0})],i.prototype,"hasEffects",null),(0,r._)([(0,l.Cb)({value:0})],i.prototype,"scale",null),(0,r._)([(0,l.Cb)({readOnly:!0})],i.prototype,"transitioning",null),i=(0,r._)([(0,n.j)("esri.layers.effects.EffectView")],i)},1011:(j,T,e)=>{e.d(T,{W:()=>c});var r=e(49966),I=e(52884),d=e(57477),E=e(68258);class c extends d.s{constructor(){super(...arguments),this._childrenSet=new Set,this._needsSort=!1,this.children=[],this._effectView=null,this._highlightOptions=null,this._highlightGradient=null}get blendMode(){return this._blendMode}set blendMode(t){this._blendMode=t,this.requestRender()}get clips(){return this._clips}set clips(t){this._clips=t,this.children.forEach(n=>n.clips=t)}get computedEffects(){return this._effectView?.effects??null}get effect(){return this._effectView?.effect??""}set effect(t){(this._effectView||t)&&(this._effectView||(this._effectView=new I.AM),this._effectView.effect=t,this.requestRender())}get highlightOptions(){return this._highlightOptions}set highlightOptions(t){if(!t)return this._highlightOptions=null,void(this._highlightGradient&&(this._highlightGradient.destroy(),this._highlightGradient=null,this.requestRender()));this._highlightOptions&&this._highlightOptions.equals(t)||(this._highlightOptions=t,this._highlightGradient||(this._highlightGradient=new E.Z),this._highlightGradient.setHighlightOptions(t),this.requestRender())}get hasBlending(){return!!this.blendMode}get hasHighlight(){return this.children.some(t=>t.hasHighlight)}get hasLabels(){return this.children.some(t=>t.hasLabels)}get requiresDedicatedFBO(){return this.children.some(t=>"blendMode"in t&&t.blendMode&&"normal"!==t.blendMode)}updateTransitionProperties(t,n){super.updateTransitionProperties(t,n),this._effectView&&(this._effectView.transitionStep(t,n),this._effectView.transitioning&&this.requestRender())}doRender(t){const n=this.createRenderParams(t),{painter:C}=n;C.beforeRenderLayer(n,this._clips?.length?255:0,this.computedOpacity),this.renderChildren(n),C.afterRenderLayer(n,this.computedOpacity)}addChild(t){return this.addChildAt(t,this.children.length)}addChildAt(t,n=this.children.length){if(!t||this.contains(t))return t;this._needsSort=!0;const C=t.parent;return C&&C!==this&&C.removeChild(t),n>=this.children.length?this.children.push(t):this.children.splice(n,0,t),this._childrenSet.add(t),t.parent=this,t.stage=this.stage,this!==this.stage&&(t.clips=this.clips),this.requestRender(),t}contains(t){return this._childrenSet.has(t)}endTransitions(){super.endTransitions(),this._effectView&&(this._effectView.endTransitions(),this.requestRender())}removeAllChildren(){this._childrenSet.clear(),this._needsSort=!0;for(const t of this.children)this!==this.stage&&(t.clips=null),t.stage=null,t.parent=null;this.children.length=0}removeChild(t){return this.contains(t)?this.removeChildAt(this.children.indexOf(t)):t}removeChildAt(t){if(t<0||t>=this.children.length)return null;this._needsSort=!0;const n=this.children.splice(t,1)[0];return this._childrenSet.delete(n),this!==this.stage&&(n.clips=null),n.stage=null,n.parent=null,n}sortChildren(t){this._needsSort&&(this.children.sort(t),this._needsSort=!1)}beforeRender(t){super.beforeRender(t);for(const n of this.children)n.beforeRender(t)}afterRender(t){super.afterRender(t);for(const n of this.children)n.afterRender(t)}_createTransforms(){return{dvs:(0,r.c)()}}onAttach(){super.onAttach();const t=this.stage;for(const n of this.children)n.stage=t}onDetach(){super.onDetach();for(const t of this.children)t.stage=null}renderChildren(t){for(const n of this.children)n.processRender(t)}createRenderParams(t){return{...t,requireFBO:this.requiresDedicatedFBO,blendMode:this.blendMode,effects:this.computedEffects,globalOpacity:t.globalOpacity*this.computedOpacity,inFadeTransition:this.inFadeTransition,highlightGradient:this._highlightGradient||t.highlightGradient}}}},57477:(j,T,e)=>{e.d(T,{s:()=>c});var r=e(61885),I=e(8314),d=e(10699);const E=1/(0,I.Z)("mapview-transitions-duration");class c extends r.Z{constructor(){super(...arguments),this._fadeOutResolver=null,this._fadeInResolver=null,this._clips=null,this.computedVisible=!0,this.computedOpacity=1,this.fadeTransitionEnabled=!1,this.inFadeTransition=!1,this._isReady=!1,this._opacity=1,this.parent=null,this._stage=null,this._visible=!0}get clips(){return this._clips}set clips(t){this._clips=t,this.requestRender()}get isReady(){return this._isReady}get opacity(){return this._opacity}set opacity(t){this._opacity!==t&&(this._opacity=Math.min(1,Math.max(t,0)),this.requestRender())}get stage(){return this._stage}set stage(t){if(this._stage===t)return;const n=this._stage;this._stage=t,t?this._stage?.untrashDisplayObject(this)||(this.onAttach(),this.emit("attach")):n?.trashDisplayObject(this)}get transforms(){return this._getTransforms()}_getTransforms(){return null==this._transforms&&(this._transforms=this._createTransforms()),this._transforms}get visible(){return this._visible}set visible(t){this._visible!==t&&(this._visible=t,this.requestRender())}get hasLabels(){return!1}get hasHighlight(){return!1}get hasBlending(){return!1}fadeIn(){return this._fadeInResolver||(this._fadeOutResolver&&(this._fadeOutResolver(),this._fadeOutResolver=null),this.opacity=1,this.computedOpacity=0,this.fadeTransitionEnabled=!0,this._fadeInResolver=(0,d.hh)(),this.requestRender()),this._fadeInResolver.promise}fadeOut(){return this._fadeOutResolver||(this.opacity=0,this._fadeInResolver&&(this._fadeInResolver(),this._fadeInResolver=null),this.fadeTransitionEnabled=!0,this._fadeOutResolver=(0,d.hh)(),this.requestRender()),this._fadeOutResolver.promise}endTransitions(){this._fadeInResolver?.(),this._fadeInResolver=null,this._fadeOutResolver?.(),this._fadeOutResolver=null,this.computedOpacity=this.visible?this.opacity:0,this.requestRender()}beforeRender(t){this.updateTransitionProperties(t.deltaTime,t.state.scale),this.setTransform(t.state)}afterRender(t){this._fadeInResolver&&this.computedOpacity===this.opacity?(this._fadeInResolver(),this._fadeInResolver=null):this._fadeOutResolver&&0===this.computedOpacity&&(this._fadeOutResolver(),this._fadeOutResolver=null)}remove(){this.parent?.removeChild(this)}setTransform(t){}processRender(t){this.stage&&this.computedVisible&&this.doRender(t)}requestRender(){this.stage&&this.stage.requestRender()}processDetach(){this._fadeInResolver&&(this._fadeInResolver(),this._fadeInResolver=null),this._fadeOutResolver&&(this._fadeOutResolver(),this._fadeOutResolver=null),this.onDetach(),this.emit("detach")}updateTransitionProperties(t,n){if(this.fadeTransitionEnabled){const C=this._fadeOutResolver||!this.visible?0:this.opacity,P=this.computedOpacity;if(P===C)this.computedVisible=this.visible;else{const v=t*E;this.computedOpacity=P>C?Math.max(C,P-v):Math.min(C,P+v),this.computedVisible=this.computedOpacity>0;const i=C===this.computedOpacity;this.inFadeTransition=!i,i||this.requestRender()}}else this.computedOpacity=this.opacity,this.computedVisible=this.visible}onAttach(){}onDetach(){}doRender(t){}ready(){this._isReady||(this._isReady=!0,this.emit("isReady"),this.requestRender())}}},68258:(j,T,e)=>{e.d(T,{Z:()=>P});var r=e(63290),I=e(39351),d=e(11690),E=e(67969),c=e(18952),l=e(31548);const t=r.Z.getLogger("esri.views.2d.engine.webgl.painter.highlight.HighlightGradient"),C=[0,0,0,0];class P{constructor(){this._convertedHighlightOptions={fillColor:[.2*.75,.6*.75,.675,.75],outlineColor:[.2*.9,.54,.81,.9],outlinePosition:d.Fo.outlinePosition,outlineWidth:d.Fo.outlineWidth,innerHaloWidth:d.Fo.innerHaloWidth,outerHaloWidth:d.Fo.outerHaloWidth},this._shadeTexChanged=!0,this._texelData=new Uint8Array(4*d.iq),this._minMaxDistance=[0,0]}setHighlightOptions(i){const _=this._convertedHighlightOptions;!function n(v,i){i.fillColor[0]=v.color.r/255,i.fillColor[1]=v.color.g/255,i.fillColor[2]=v.color.b/255,i.fillColor[3]=v.color.a,v.haloColor?(i.outlineColor[0]=v.haloColor.r/255,i.outlineColor[1]=v.haloColor.g/255,i.outlineColor[2]=v.haloColor.b/255,i.outlineColor[3]=v.haloColor.a):(i.outlineColor[0]=i.fillColor[0],i.outlineColor[1]=i.fillColor[1],i.outlineColor[2]=i.fillColor[2],i.outlineColor[3]=i.fillColor[3]),i.fillColor[3]*=v.fillOpacity,i.outlineColor[3]*=v.haloOpacity,i.fillColor[0]*=i.fillColor[3],i.fillColor[1]*=i.fillColor[3],i.fillColor[2]*=i.fillColor[3],i.outlineColor[0]*=i.outlineColor[3],i.outlineColor[1]*=i.outlineColor[3],i.outlineColor[2]*=i.outlineColor[3],i.outlineWidth=d.Fo.outlineWidth,i.outerHaloWidth=d.Fo.outerHaloWidth,i.innerHaloWidth=d.Fo.innerHaloWidth,i.outlinePosition=d.Fo.outlinePosition}(i,_);const a=_.outlinePosition-_.outlineWidth/2-_.outerHaloWidth,S=_.outlinePosition-_.outlineWidth/2,m=_.outlinePosition+_.outlineWidth/2,M=_.outlinePosition+_.outlineWidth/2+_.innerHaloWidth,s=Math.sqrt(Math.PI/2)*d.pW,o=Math.abs(a)>s?Math.round(10*(Math.abs(a)-s))/10:0,y=Math.abs(M)>s?Math.round(10*(Math.abs(M)-s))/10:0;let p;o&&!y?t.error("The outer rim of the highlight is "+o+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards positive values (inwards)."):!o&&y?t.error("The inner rim of the highlight is "+y+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards negative values (outwards)."):o&&y&&t.error("The highlight is "+Math.max(o,y)+"px away from the edge of the feature; consider reducing some width values.");const h=[void 0,void 0,void 0,void 0];function A(g,u,b){h[0]=(1-b)*g[0]+b*u[0],h[1]=(1-b)*g[1]+b*u[1],h[2]=(1-b)*g[2]+b*u[2],h[3]=(1-b)*g[3]+b*u[3]}const{_texelData:f}=this;for(let g=0;g<d.iq;++g)p=a+g/(d.iq-1)*(M-a),p<a?(h[0]=0,h[1]=0,h[2]=0,h[3]=0):p<S?A(C,_.outlineColor,(p-a)/(S-a)):p<m?[h[0],h[1],h[2],h[3]]=_.outlineColor:p<M?A(_.outlineColor,_.fillColor,(p-m)/(M-m)):[h[0],h[1],h[2],h[3]]=_.fillColor,f[4*g]=255*h[0],f[4*g+1]=255*h[1],f[4*g+2]=255*h[2],f[4*g+3]=255*h[3];this._minMaxDistance[0]=a,this._minMaxDistance[1]=M,this._shadeTexChanged=!0}applyHighlightOptions(i,_){if(!this._shadeTex){const a=new l.X;a.wrapMode=E.e8.CLAMP_TO_EDGE,a.width=d.iq,a.height=1,this._shadeTex=new c.x(i,a)}this._shadeTexChanged&&(this._shadeTex.updateData(0,0,0,d.iq,1,this._texelData),this._shadeTexChanged=!1),i.bindTexture(this._shadeTex,I.Sf),_.setUniform2fv("u_minMaxDistance",this._minMaxDistance)}destroy(){this._shadeTex?.dispose(),this._shadeTex=null}}},11690:(j,T,e)=>{e.d(T,{Fo:()=>c,bM:()=>I,dl:()=>d,iq:()=>E,pW:()=>r});const r=1,I=[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],E=256,c={outlineWidth:1.3,outerHaloWidth:.4,innerHaloWidth:.4,outlinePosition:0}},37384:(j,T,e)=>{e.d(T,{y:()=>H});var r=e(17626),I=e(74333),d=e(89726),E=e(26584),c=e(32917),l=e(77712),P=(e(90912),e(85931),e(8314),e(76898)),v=e(83137),i=e(1011),_=e(38093),a=e(86810);let S=class extends a.wq{get version(){return this.commitVersionProperties(),(this._get("version")||0)+1}};(0,r._)([(0,l.Cb)({readOnly:!0})],S.prototype,"version",null),S=(0,r._)([(0,P.j)("esri.views.layers.support.ClipArea")],S);const m=S;var M;let s=M=class extends m{constructor(U){super(U),this.type="rect",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new M({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}commitVersionProperties(){this.commitProperty("left"),this.commitProperty("right"),this.commitProperty("top"),this.commitProperty("bottom")}};(0,r._)([(0,l.Cb)({type:[Number,String],json:{write:!0}})],s.prototype,"left",void 0),(0,r._)([(0,l.Cb)({type:[Number,String],json:{write:!0}})],s.prototype,"right",void 0),(0,r._)([(0,l.Cb)({type:[Number,String],json:{write:!0}})],s.prototype,"top",void 0),(0,r._)([(0,l.Cb)({type:[Number,String],json:{write:!0}})],s.prototype,"bottom",void 0),s=M=(0,r._)([(0,P.j)("esri.views.layers.support.ClipRect")],s);const o=s;e(29132);var g,p=e(21674),h=e(91179),A=e(2004),f=e(37118);const u={base:p.Z,key:"type",typeMap:{extent:A.Z,polygon:f.Z}};let b=g=class extends m{constructor(U){super(U),this.type="geometry",this.geometry=null}clone(){return new g({geometry:this.geometry?.clone()??null})}commitVersionProperties(){this.commitProperty("geometry")}};(0,r._)([(0,l.Cb)({types:u,json:{read:h.im,write:!0}})],b.prototype,"geometry",void 0),b=g=(0,r._)([(0,P.j)("esri.views.layers.support.Geometry")],b);const B=b;let L=class extends m{constructor(U){super(U),this.type="path",this.path=[]}commitVersionProperties(){this.commitProperty("path")}};(0,r._)([(0,l.Cb)({type:[[[Number]]],json:{write:!0}})],L.prototype,"path",void 0),L=(0,r._)([(0,P.j)("esri.views.layers.support.Path")],L);const x=I.Z.ofType({key:"type",base:null,typeMap:{rect:o,path:L,geometry:B}}),H=U=>{let D=class extends U{constructor(){super(...arguments),this.attached=!1,this.clips=new x,this.lastUpdateId=-1,this.moving=!1,this.updateRequested=!1,this.visibleAtCurrentScale=!1,this.highlightOptions=null}initialize(){this.view?.spatialReference&&(this.view?.spatialReferenceLocked??1)&&!this.spatialReferenceSupported?this.addResolvingPromise(Promise.reject(new E.Z("layerview:spatial-reference-incompatible","The spatial reference of this layer does not meet the requirements of the view",{layer:this.layer}))):(this.container||(this.container=new i.W),this.container.fadeTransitionEnabled=!0,this.container.visible=!1,this.container.endTransitions(),this.addHandles([(0,c.YP)(()=>this.suspended,R=>{this.container&&(this.container.visible=!R),this.view&&!R&&this.updateRequested&&this.view.requestUpdate()},c.tX),(0,c.YP)(()=>this.layer?.opacity??1,R=>{this.container&&(this.container.opacity=R)},c.tX),(0,c.YP)(()=>this.layer&&"blendMode"in this.layer?this.layer.blendMode:"normal",R=>{this.container&&(this.container.blendMode=R)},c.tX),(0,c.YP)(()=>this.layer&&"effect"in this.layer?this.layer.effect:null,R=>{this.container&&(this.container.effect=R)},c.tX),(0,c.YP)(()=>this.highlightOptions,R=>this.container.highlightOptions=R,c.tX),(0,c.on)(()=>this.clips,"change",()=>{this.container&&(this.container.clips=this.clips)},c.tX),(0,c.YP)(()=>({scale:this.view?.scale,scaleRange:this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null}),({scale:R})=>{const w=null!=R&&this.isVisibleAtScale(R);w!==this.visibleAtCurrentScale&&this._set("visibleAtCurrentScale",w)},c.tX)],"constructor"),this.view?.whenLayerView?this.view.whenLayerView(this.layer).then(R=>{R===this&&this.processAttach()},()=>{}):this.when().then(()=>{this.processAttach()},()=>{}))}destroy(){this.processDetach(),this.updateRequested=!1}get spatialReferenceSupported(){const O=this.view?.spatialReference;return null==O||this.supportsSpatialReference(O)}get updating(){return this.spatialReferenceSupported&&(!this.attached||!this.suspended&&(this.updateRequested||this.isUpdating())||!!this._updatingHandles?.updating)}processAttach(){this.isResolved()&&!this.attached&&!this.destroyed&&this.spatialReferenceSupported&&(this.attach(),this.attached=!0,this.requestUpdate())}processDetach(){this.attached&&(this.attached=!1,this.removeHandles("attach"),this.detach(),this.updateRequested=!1)}isVisibleAtScale(O){const W=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;if(!W)return!0;const{minScale:R,maxScale:w}=W;return(0,v.o2)(O,R,w)}requestUpdate(){this.destroyed||this.updateRequested||(this.updateRequested=!0,this.suspended||this.view.requestUpdate())}processUpdate(O){!this.isFulfilled()||this.isResolved()?(this._set("updateParameters",O),this.updateRequested&&!this.suspended&&(this.updateRequested=!1,this.update(O))):this.updateRequested=!1}hitTest(O,W){return Promise.resolve(null)}supportsSpatialReference(O){return!0}canResume(){return!!this.spatialReferenceSupported&&!!super.canResume()&&this.visibleAtCurrentScale}getSuspendInfo(){const O=super.getSuspendInfo(),W=!this.spatialReferenceSupported,R=this.visibleAtCurrentScale;return W&&(O.spatialReferenceNotSupported=W),R&&(O.outsideScaleRange=R),O}addAttachHandles(O){this.addHandles(O,"attach")}};return(0,r._)([(0,l.Cb)()],D.prototype,"attached",void 0),(0,r._)([(0,l.Cb)({type:x,set(O){const W=(0,d.Z)(O,this._get("clips"),x);this._set("clips",W)}})],D.prototype,"clips",void 0),(0,r._)([(0,l.Cb)()],D.prototype,"container",void 0),(0,r._)([(0,l.Cb)()],D.prototype,"moving",void 0),(0,r._)([(0,l.Cb)({readOnly:!0})],D.prototype,"spatialReferenceSupported",null),(0,r._)([(0,l.Cb)({readOnly:!0})],D.prototype,"updateParameters",void 0),(0,r._)([(0,l.Cb)()],D.prototype,"updateRequested",void 0),(0,r._)([(0,l.Cb)()],D.prototype,"updating",null),(0,r._)([(0,l.Cb)()],D.prototype,"view",void 0),(0,r._)([(0,l.Cb)({readOnly:!0})],D.prototype,"visibleAtCurrentScale",void 0),(0,r._)([(0,l.Cb)({type:_.Z})],D.prototype,"highlightOptions",void 0),D=(0,r._)([(0,P.j)("esri.views.2d.layers.LayerView2D")],D),D}},45611:(j,T,e)=>{e.d(T,{Z:()=>S});var r=e(17626),I=e(83761),d=e(61885),E=e(61996),c=e(63290),l=e(62208),t=e(60330),n=e(77712),i=(e(90912),e(85931),e(8314),e(76898)),_=e(11426);let a=class extends((0,E.IG)((0,t.v)(d.Z.EventedMixin(I.Z)))){constructor(m){super(m),this._updatingHandles=new _.R,this.layer=null,this.parent=null}initialize(){this.when().catch(m=>{if("layerview:create-error"!==m.name){const M=this.layer&&this.layer.id||"no id",s=this.layer?.title||"no title";c.Z.getLogger(this).error("#resolve()",`Failed to resolve layer view (layer title: '${s}', id: '${M}')`,m)}})}destroy(){this._updatingHandles=(0,l.SC)(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(m){this._overrideIfSome("visible",m)}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1}getSuspendInfo(){const m=this.parent?.suspended?this.parent.suspendInfo:{};return this.view?.ready||(m.viewNotReady=!0),this.layer&&this.layer.loaded||(m.layerNotLoaded=!0),this.visible||(m.layerInvisible=!0),m}isUpdating(){return!1}};(0,r._)([(0,n.Cb)()],a.prototype,"fullOpacity",null),(0,r._)([(0,n.Cb)()],a.prototype,"layer",void 0),(0,r._)([(0,n.Cb)()],a.prototype,"parent",void 0),(0,r._)([(0,n.Cb)({readOnly:!0})],a.prototype,"suspended",null),(0,r._)([(0,n.Cb)({readOnly:!0})],a.prototype,"suspendInfo",null),(0,r._)([(0,n.Cb)({readOnly:!0})],a.prototype,"legendEnabled",null),(0,r._)([(0,n.Cb)({type:Boolean,readOnly:!0})],a.prototype,"updating",null),(0,r._)([(0,n.Cb)({readOnly:!0})],a.prototype,"updatingProgress",null),(0,r._)([(0,n.Cb)()],a.prototype,"visible",null),(0,r._)([(0,n.Cb)()],a.prototype,"view",void 0),a=(0,r._)([(0,i.j)("esri.views.layers.LayerView")],a);const S=a}}]);